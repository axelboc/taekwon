{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","clients/corner-judge/root.js","corner-judge.js","clients/corner-judge/round-view.js","clients/corner-judge/waiting-view.js","clients/shared/backdrop.js","clients/shared/helpers.js","clients/shared/io.js","clients/shared/login-view.js","clients/shared/ring-list-view.js","clients/vendor/primus.js","node_modules/fastclick/lib/fastclick.js","node_modules/nunjucks/browser/nunjucks-slim.js","node_modules/tiny-cookie/tiny-cookie.js","templates/precompiled/ring-list.njk"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","FastClick","IO","helpers","LoginView","RingListView","WaitingView","RoundView","io","attach","document","body","currentView","views","loginView","ringListView","waitingView","roundView","subscribeToEvents","showView","data","root","classList","add","view","remove","../shared/helpers","../shared/io","../shared/login-view","../shared/ring-list-view","./round-view","./waiting-view","fastclick",2,"this","getElementById","undoBtn","querySelector","addEventListener","onUndoBtn","bind","hongBtns","chongBtns","onScoreBtnsDeletage","onTransitionEnd","feedback","fdb","createElement","className","appendChild","value","window","getComputedStyle","getPropertyValue","has3d","prototype","enableUndoBtn","enableBtn","enable","showFdb","cloneNode","apply","score","competitor","isUndo","textContent","points","navigator","vibrate","setTimeout","top","innerHeight","offsetHeight","style","transform","evt","btn","target","nodeName","blur","send","parseInt","contains","removeChild",3,"cancelBtn","sendFunc",4,"Backdrop","text","subtext","update","visible","toggle","hide",5,"namespace","events","scope","forEach","primus","on","shake","elem","onShakeEnd","removeEventListener","removeAttribute","setAttribute","numToTime","num","sec","Math","floor",6,"identity","cookie","enabled","backdrop","id","get","query","Primus","reconnect","max","retries","factor","url","wsError","wsOffline","error","message","err","console","warn","updateBackdrop","saveId","set","expires","setPageTitle","title","hideBackdrop","alert","reason","msg","querySelectorAll","errorView","location","reload","event","emit","../vendor/primus","./backdrop","./helpers","tiny-cookie",7,"instr","field","sendIdentification","preventDefault","setInstr","focusField","focus","blurField","shakeResetField",8,"defaultInstrTxt","list","onListDelegate","ringListTemplate","updateList","innerHTML","render","index","dataset","../../templates/precompiled/ring-list.njk",9,"global","name","context","definition","define","amd","_dereq_","keys","options","run","key","selfie","split","type","what","prop","destroy","parser","self","arguments","args","Array","arg","concat","pop","returned","undefined","slice","EE","fn","once","EventEmitter","prefix","Object","create","_events","listeners","exists","available","ee","a1","a2","a3","a4","a5","len","removeListener","j","listener","push","removeAllListeners","off","addListener","setMaxListeners","prefixed","querystring","part","result","exec","decodeURIComponent","querystringify","obj","pairs","has","encodeURIComponent","join","hasOwnProperty","stringify","parse","defaults","opts","millisecond","Recovery","recovery","attempt","_fn","min","timers","Tick","one","constructor","Infinity","backoff","duration","Date","start","scheduled","round","random","pow","clear","connect","reset","reconnecting","reconnected","demolish","eventemitter3","one-time","tick-tock","ms","amount","match","second","minute","hour","day","parseFloat","toLowerCase","onetime","called","displayName","Timer","timer","fns","unsetTimeout","clearTimeout","unsetInterval","clearInterval","unsetImmediate","clearImmediate","tock","time","tick","setInterval","setImmediate","active","end","adjust","interval","dup",10,"URL","address","instruction","relative","relativere","test","qs","lolcation","instructions","indexOf","required","port","protocol","host","hostname","username","password","auth","href","toString","NaN","pathname","charAt","hash","./lolcation","requires-port",11,"ignore","loc","finaldestination","unescape","./",12,13,"method","failure","client","critical","uri","defaultUrl","queueSize","timeout","ping","pong","strategy","transport","buffer","writable","readable","readyState","CLOSED","TickTock","socket","latency","stamps","disconnect","transformers","outgoing","incoming","authorization","AVOID_WEBSOCKETS","websockets","NETWORK_EVENTS","network","manual","open","initialise","u2028","u2029","origin","Stream","inherits","OPENING","OPEN","online","attachEvent","onLine","ark","emits","trigger","next","plugin","plugins","reserved","reconnect scheduled","reconnect timeout","readyStateChange","reconnect failed","offline","close","heartbeat","_write","raw","decoder","transforms","last","connection","packet","done","transformer","write","splice","encoder","replace","before","after","clone","merge","server","qsa","secure","_primuscb","object","Factory","SockJS","info","websocket","cookie_needed","onopen","onerror","onclose","onmessage","JSON","version","keyCode","ua","userAgent","parsed","url-parse","g","transportList","_sockjs_onload","./main","./transport-list","CloseEvent","Event","initEvent","wasClean","./event","EventTarget","_listeners","fired","./eventtarget","eventType","canBubble","cancelable","bubbles","timeStamp","stopPropagation","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","arr","idx","dispatchEvent","TransportMessageEvent","FacadeJS","_transport","_transportMessage","_transportClose","JSON3","iframeUtils","postMessage","frame","_send","_close","./utils/iframe","json3","urlUtils","eventUtils","InfoIframeReceiver","availableTransports","transportMap","at","facadeTransport","transportName","parentOrigin","bootstrap_iframe","facade","currentWindowId","onMessage","source","parent","iframeMessage","ignored","windowId","p","transUrl","baseUrl","isOriginEqual","./facade","./info-iframe-receiver","./location","./utils/event","./utils/url","InfoAjax","AjaxObject","t0","xo","status","rtt","objectUtils","isObject","./utils/object","InfoReceiverIframe","ir","XHRLocalObject","./info-ajax","./transport/sender/xhr-local","InfoIframe","go","ifr","IframeTransport","d","utils","./transport/iframe","InfoReceiver","urlInfo","doXhr","XDR","XHRCors","XHRLocal","XHRFake","_getReceiver","sameOrigin","sameScheme","addPath","timeoutRef","_cleanup","./info-iframe","./transport/sender/xdr","./transport/sender/xhr-cors","./transport/sender/xhr-fake",14,"protocols","TypeError","CONNECTING","extensions","protocols_whitelist","log","_transportsWhitelist","transports","_server","numberString","parsedUrl","SyntaxError","isArray","sortedProtocols","sort","proto","getOrigin","_origin","_urlInfo","nullOrigin","browser","hasDomain","isSchemeEqual","_ir","_receiveInfo","userSetCode","escape","CLOSING","quote","_rto","countRTO","_transUrl","base_url","extend","enabledTransports","filterToEnabled","_transports","main","_connect","Transport","shift","needBody","unshift","timeoutMs","roundTrips","_transportTimeoutId","_transportTimeout","transportUrl","string","transportObj","payload","content","_open","forceFail","./event/close","./event/event","./event/eventtarget","./event/trans-message","./iframe-bootstrap","./info-receiver","./shims","./utils/browser","./utils/escape","./utils/log","./utils/random","./utils/transport","./version",15,"toInteger","abs","ToUint32","x","Empty","defineProperty","ArrayPrototype","ObjectPrototype","FunctionPrototype","Function","StringPrototype","String","array_slice","_toString","isFunction","val","isString","supportsDescriptors","forceAssign","configurable","enumerable","defineProperties","map","toObject","that","binder","bound","boundLength","boundArgs","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","_","__","fun","thisp","hasFirefox2IndexOfBug","sought","string_split","compliantExecNpcg","separator","limit","separator2","lastIndex","lastLength","output","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","RegExp","ws","zeroWidth","wsRegexChars","trimBeginRegexp","trimEndRegexp","hasTrimWhitespaceBug","trim","string_substr","substr","hasNegativeSubstrBug",16,"./transport/eventsource","./transport/htmlfile","./transport/jsonp-polling","./transport/lib/iframe-wrap","./transport/websocket","./transport/xdr-polling","./transport/xdr-streaming","./transport/xhr-polling","./transport/xhr-streaming",17,"AbstractXHRObject","_start","XHR","XMLHttpRequest","xhr","addQuery","unloadRef","unloadAdd","ontimeout","noCredentials","supportsCORS","withCredentials","headers","setRequestHeader","onreadystatechange","responseText","abort","unloadDel","axo","cors","../../utils/event","../../utils/url",18,"EventSource",19,"WebSocket","MozWebSocket",20,"EventSourceTransport","AjaxBasedTransport","EventSourceReceiver","XHRCorsObject","EventSourceDriver","./lib/ajax-based","./receiver/eventsource","./sender/xhr-cors","eventsource",21,"HtmlFileTransport","HtmlfileReceiver","./receiver/htmlfile","./sender/xhr-local",22,"iframeUrl","iframeObj","createIframe","onmessageCallback","_message","detachEvent","cleanup","loaded","cdata","post","iframeEnabled","../utils/event","../utils/iframe","../utils/random","../utils/url","../version",23,"JsonPTransport","SenderReceiver","jsonpSender","JsonpReceiver","./lib/sender-receiver","./receiver/jsonp","./sender/jsonp",24,"createAjaxSender","callback","opt","Content-type","ajaxUrl","urlSuffix","Receiver","./sender-receiver",25,"BufferedSender","sender","sendBuffer","sendStop","sendSchedule","sendScheduleWait","tref","stop",26,"IframeWrapTransport","iframeInfo","../../utils/object","../iframe",27,"Polling","receiveUrl","_scheduleReceiver","poll","pollIsClosing",28,"senderFunc","pollUrl","./buffered-sender","./polling",29,"es","decodeURI",30,"polluteGlobalNamespace","WPrefix","constructFunc","htmlfileEnabled","createHtmlfile","../../utils/iframe","../../utils/random",31,"urlWithId","_callback","_createScript","timeoutId","_abort","scriptErrorTimeout","aborting","script2","parentNode","script","onload","onclick","_scriptError","errorTimer","loadedOkay","src","charset","htmlFor","async","isOpera","head","getElementsByTagName","insertBefore","firstChild","../../utils/browser",32,"XhrReceiver","bufferPosition","_chunkHandler","buf",33,"iframe","createForm","form","display","position","enctype","acceptCharset","area","action","submit","completed",34,"XDRObject","xdr","XDomainRequest","_error","onprogress",35,"XhrDriver","../driver/xhr",36,"to",37,38,"WebSocketTransport","WebsocketDriver","./driver/websocket",39,"XdrPollingTransport","XdrStreamingTransport","./receiver/xhr","./sender/xdr","./xdr-streaming",40,41,"XhrPollingTransport",42,"XhrStreamingTransport","../utils/browser",43,"crypto","getRandomValues","randomBytes","bytes","Uint8Array",44,"isKonqueror","domain",45,"extraLookup","extraEscapable","unrollLookup","escapable","unrolled","c","fromCharCode","charCodeAt","quoted",46,"onUnload","afterUnload","ref","triggerUnloadCallbacks","unloadTriggered","./random",47,"errorCallback","unattach","contentWindow","doc","CollectGarbage","parentWindow","./browser",48,"logObject","level","levelExists",49,50,"_randomStringChars","ret","number",51,"transportsWhitelist","trans",52,"b","res","path","q",53,54,"ctor","superCtor","super_","TempCtor",55,"runInContext","undef","isSupported","serialized","stringifySupported","isExtended","toJSON","Number","getClass","exception","parseSupported","nativeJSON","isProperty","objectProto","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","property","members","__proto__","original","Properties","size","valueOf","isConstructor","hasProperty","objectTypes","Escapes",92,"leadingZeroes","toPaddedString","width","unicodePrefix","useCharIndex","symbols","charCode","serialize","properties","whitespace","indentation","stack","date","hours","minutes","seconds","milliseconds","results","element","filter","Index","Source","Unescapes",98,116,110,102,114,"lex","begin","isSigned","hasMembers","walk","isLoader","function","freeExports","nodeType","freeGlobal","previousJSON","isRestored","noConflict",56,57,58,59,"layer","oldOnClick","trackingClick","trackingClickStart","targetElement","touchStartX","touchStartY","lastTouchIdentifier","touchBoundary","tapDelay","tapTimeout","notNeeded","methods","deviceIsAndroid","onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","stopImmediatePropagation","capture","rmv","Node","hijacked","adv","propagationStopped","deviceIsWindowsPhone","deviceIsIOS","deviceIsIOS4","deviceIsIOSWithBadTarget","deviceIsBlackBerry10","needsClick","disabled","needsFocus","readOnly","sendClick","clickEvent","touch","activeElement","changedTouches","createEvent","initMouseEvent","determineEventType","screenX","screenY","clientX","clientY","forwardedTouchEvent","tagName","setSelectionRange","updateScrollParent","scrollParent","parentElement","fastClickScrollParent","scrollHeight","fastClickLastScrollTop","scrollTop","getTargetElementFromEventTarget","eventTarget","TEXT_NODE","selection","targetTouches","getSelection","rangeCount","isCollapsed","identifier","pageX","pageY","lastClickTime","touchHasMoved","boundary","findControl","labelElement","control","forElement","targetTagName","cancelNextClick","elementFromPoint","pageXOffset","pageYOffset","permitted","detail","metaViewport","chromeVersion","blackberryVersion","firefoxVersion","ontouchstart","documentElement","scrollWidth","outerWidth","msTouchAction","touchAction","modules","cls","props","F","fnTest","xyz","k","tmp","typename","new_cls","init","ArrayProto","ObjProto","escapeMap","&","\"","'","<",">","escapeRegex","lookupEscape","ch","withPrettyErrors","withInternals","func","Update","TemplateError","old","lineno","colno","captureStackTrace","firstUpdate","groupBy","iterator","toArray","without","array","obj2","repeat","char_","str","each","asyncIter","iter","cb","asyncFor","searchElement","fromIndex","makeMacro","argNames","kwargNames","argCount","numArgs","kwargs","getKeywordArgs","vals","makeKeywordArgs","__keywords","lastArg","SafeString","copySafeness","dest","markSafe","suppressValue","autoescape","lib","memberLookup","callWrap","contextOrFrameLookup","lookup","handleError","asyncEach","dimen","item","asyncAll","finished","outputArr","Obj","Frame","variables","resolveUp","parts","resolve","Loader","from","dirname","isRelative","filename","WebLoader","baseURL","neverUpdate","precompiled","nunjucksPrecompiled","getSource","fetch","noCache","ajax","loading","ActiveXObject","getTime","filters","batch","linecount","fill_with","capitalize","toUpperCase","center","spaces","pre","default","def","dictsort","case_sensitive","by","si","t1","t2","safe","first","groupby","attr","indent","indentfirst","lines","sp","del","v","lower","rejectattr","selectattr","new_","maxCount","count","reverse","precision","rounder","ceil","slices","fillWith","sliceLength","extra","offset","caseSens","y","words","truncate","input","killwords","orig","substring","lastIndexOf","upper","urlencode","enc","urlize","nofollow","isNaN","noFollowAttr","puncRE","emailRE","httpHttpsRE","wwwRE","tldRE","word","matches","possibleUrl","wordcount","float","int","cycler","items","current","joiner","sep","globals","range","step","compiler","builtin_filters","builtin_loaders","runtime","Environment","loaders","dev","trimBlocks","lstripBlocks","FileSystemLoader","initCache","asyncFilters","extensionsList","addFilter","loader","cache","template","addExtension","extension","_name","getExtension","addGlobal","wrapped","getFilter","resolveTemplate","parentName","getTemplate","eagerCompile","tmpl","syncResult","handle","Template","compile","express","app","NunjucksView","defaultEngine","ext","extname","env","ctx","renderString","Context","blocks","exported","addBlock","setVariable","getVariables","block","getBlock","getSuper","blk","addExport","getExported","tmplProps","tmplStr","_compile","compiled","rootRenderFunc","_getBlocks","nunjucks","lexer","precompile","configure","templatesPath","noWatch","watch","precompileString","factory","Cookie","escapeRe","convert","computeExpires","toUTCString","lastCh","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","reKey","getRaw","setRaw","t_3","t_2","t_1","t_4","oldRoot","oldGetTemplate","ec","_require"],"mappings":"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","file":"corner-judge.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\r\n\r\n// Dependencies\r\nvar FastClick = require('fastclick').FastClick;\r\nvar IO = require('../shared/io').IO;\r\nvar helpers = require('../shared/helpers');\r\nvar LoginView = require('../shared/login-view').LoginView;\r\nvar RingListView = require('../shared/ring-list-view').RingListView;\r\nvar WaitingView = require('./waiting-view').WaitingView;\r\nvar RoundView = require('./round-view').RoundView;\r\n\r\n// Initialise IO and root modules\r\nvar io = new IO('cornerJudge');\r\n\r\n// Initialise FastClick to remove 300ms delay on mobile devices\r\nFastClick.attach(document.body);\r\n\r\n// Initialise views\r\nvar currentView = null;\r\nvar views = {\r\n\tloginView: new LoginView(io),\r\n\tringListView: new RingListView(io),\r\n\twaitingView: new WaitingView(io),\r\n\troundView: new RoundView(io)\r\n};\r\n\r\n// Subscribe to inbound IO events\r\nhelpers.subscribeToEvents(io, 'root', ['showView'], {\r\n\t\r\n\tshowView: function (data) {\r\n\t\t// Hide the previously visible view\r\n\t\tif (currentView) {\r\n\t\t\tcurrentView.root.classList.add('hidden');\r\n\t\t}\r\n\r\n\t\t// Show the new view\r\n\t\tcurrentView = views[data.view];\r\n\t\tcurrentView.root.classList.remove('hidden');\r\n\t}\r\n\t\r\n});\r\n",null,"'use strict';\r\n\r\n// Dependencies\r\nvar helpers = require('../shared/helpers');\r\n\r\n\r\nfunction RoundView(io) {\r\n\tthis.io = io;\r\n\tthis.root = document.getElementById('round');\r\n\r\n\t// Undo button\r\n\tthis.undoBtn = this.root.querySelector('.undo-btn');\r\n\tthis.undoBtn.addEventListener('click', this.onUndoBtn.bind(this));\r\n\r\n\t// Score buttons\r\n\tvar hongBtns = this.root.querySelector('.score-btns--hong');\r\n\tvar chongBtns = this.root.querySelector('.score-btns--chong');\r\n\thongBtns.addEventListener('click', this.onScoreBtnsDeletage.bind(this, 'hong'));\r\n\tchongBtns.addEventListener('click', this.onScoreBtnsDeletage.bind(this, 'chong'));\r\n\r\n\t// Feedback elements\r\n\tdocument.addEventListener('transitionend', this.onTransitionEnd.bind(this));\r\n\tthis.feedback = this.root.querySelector('.feedback');\r\n\tthis.fdb = document.createElement('div');\r\n\tthis.fdb.className = 'fdb';\r\n\r\n\t// Subscribe to inbound IO events\r\n\thelpers.subscribeToEvents(io, 'roundView', [\r\n\t\t'enableUndoBtn',\r\n\t\t'showFdb'\r\n\t], this);\r\n\r\n\t// Detect translate3d support\r\n\tthis.feedback.appendChild(this.fdb);\r\n\tvar value = window.getComputedStyle(this.fdb).getPropertyValue('transform');\r\n\tthis.has3d = value && value !== 'none';\r\n\t// Add class if not supported\r\n\tif (!this.has3d) {\r\n\t\tthis.feedback.classList.add('no3d');\r\n\t}\r\n}\r\n\r\n\r\n/* ==================================================\r\n * Inbound IO events\r\n * ================================================== */\r\n\r\nRoundView.prototype.enableUndoBtn = function (data) {\r\n\thelpers.enableBtn(this.undoBtn, data.enable);\r\n};\r\n\r\nRoundView.prototype.showFdb = function (data) {\r\n\t// Clone and customise the default fdb element\r\n\tvar fdb = this.fdb.cloneNode();\r\n\tfdb.classList.add.apply(fdb.classList, [\r\n\t\t'fdb--' + data.score.competitor,\r\n\t\t(data.isUndo ? 'fdb--undo' : data.score.competitor + '-bg')\r\n\t]);\r\n\tfdb.textContent = data.score.points;\r\n\r\n\t// Add fdb element to the DOM\r\n\tthis.feedback.appendChild(fdb);\r\n\r\n\t// Vibrate\r\n\tif (window.navigator.vibrate) {\r\n\t\twindow.navigator.vibrate(100);\r\n\t}\r\n\r\n\t// Translate the element\r\n\tsetTimeout(function () {\r\n\t\tvar top = window.innerHeight + fdb.offsetHeight;\r\n\t\tif (this.has3d) {\r\n\t\t\tfdb.style.transform = 'translate3d(0, ' + top + 'px, 0)';\r\n\t\t} else {\r\n\t\t\tfdb.style.top = top + 'px';\r\n\t\t}\r\n\t}.bind(this), 0);\r\n};\r\n\r\n\r\n/* ==================================================\r\n * UI events\r\n * ================================================== */\r\n\r\nRoundView.prototype.onScoreBtnsDeletage = function (competitor, evt) {\r\n\tvar btn = evt.target;\r\n\tif (btn && btn.nodeName === 'BUTTON') {\r\n\t\tbtn.blur();\r\n\t\tthis.io.send('score', {\r\n\t\t\tcompetitor: competitor,\r\n\t\t\tpoints: parseInt(btn.textContent, 10)\r\n\t\t});\r\n\t}\r\n};\r\n\r\nRoundView.prototype.onUndoBtn = function () {\r\n\tthis.undoBtn.blur();\r\n\tthis.io.send('undo');\r\n};\r\n\r\nRoundView.prototype.onTransitionEnd = function (evt) {\r\n\tvar fdb = evt.target;\r\n\tif (fdb.classList.contains('fdb')) {\r\n\t\tthis.feedback.removeChild(fdb);\r\n\t}\r\n};\r\n\r\nmodule.exports.RoundView = RoundView;\r\n","'use strict';\r\n\r\nfunction WaitingView(io) {\r\n\tthis.io = io;\r\n\tthis.root = document.getElementById('waiting');\r\n\r\n\tthis.cancelBtn = this.root.querySelector('.wa-btn');\r\n\tthis.cancelBtn.addEventListener('click', this.io.sendFunc('cancelJoin'));\r\n}\r\n\r\nmodule.exports.WaitingView = WaitingView;\r\n","'use strict';\r\n\r\nfunction Backdrop() {\r\n\tthis.root = document.getElementById('backdrop');\r\n\tthis.text = this.root.querySelector('.bdp-text');\r\n\tthis.subtext = this.root.querySelector('.bdp-subtext');\r\n}\r\n\r\nBackdrop.prototype.update = function (text, subtext, visible) {\r\n\tthis.text.textContent = text;\r\n\tthis.subtext.textContent = subtext;\r\n\tthis.root.classList.toggle('hidden', !visible);\r\n};\r\n\r\nBackdrop.prototype.hide = function () {\r\n\tthis.root.classList.add('hidden');\r\n};\r\n\r\nmodule.exports.Backdrop = Backdrop;\r\n","'use strict';\r\n\r\nvar helpers = {\r\n\r\n\t/**\r\n\t * Subscribe to inbound IO events.\r\n\t * @param {IO} io\r\n\t * @param {String} namespace\r\n\t * @param {Array} events\r\n\t * @param {Object} scope\r\n\t */\r\n\tsubscribeToEvents: function subscribeToEvents(io, namespace, events, scope) {\r\n\t\tevents.forEach(function (evt) {\r\n\t\t\tio.primus.on(namespace + '.' + evt, scope[evt].bind(scope));\r\n\t\t});\r\n\t},\r\n\r\n\t/**\r\n\t * Shake a DOM element (e.g. a text field).\r\n\t * @param {HTMLElement} elem\r\n\t */\r\n\tshake: function shake(elem) {\r\n\t\tvar onShakeEnd = function onShakeEnd() {\r\n\t\t\t// Remove shake class in case another shake animation needs to be performed\r\n\t\t\telem.classList.remove('shake');\r\n\t\t\t// Remove listener\r\n\t\t\telem.removeEventListener('animationend', onShakeEnd);\r\n\t\t};\r\n\r\n\t\t// Listen to end of shake animation\r\n\t\telem.addEventListener('animationend', onShakeEnd);\r\n\t\t// Start shake animation\r\n\t\telem.classList.add('shake');\r\n\t},\r\n\r\n\t/**\r\n\t * Enable/disable button.\r\n\t * @param {HTMLButtonElement} btn\r\n\t * @param {Boolean} enable\r\n\t */\r\n\tenableBtn: function enableBtn(btn, enable) {\r\n\t\tif (enable) {\r\n\t\t\tbtn.removeAttribute('disabled');\r\n\t\t} else {\r\n\t\t\tbtn.setAttribute('disabled', 'disabled');\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Convert a number of seconds to a time string of the form '0:00'.\r\n\t * @param {Integer} num\r\n\t * @return {String}\r\n\t */\r\n\tnumToTime: function (num) {\r\n\t\tvar sec = num % 60;\r\n\t\treturn Math.floor(num / 60) + \":\" + (sec < 10 ? '0' : '') + sec;\r\n\t}\r\n\r\n};\r\n\r\nmodule.exports = helpers;\r\n","'use strict';\r\n\r\n// Dependencies\r\nvar Primus = require('../vendor/primus');\r\nvar cookie = require('tiny-cookie');\r\nvar helpers = require('./helpers');\r\nvar Backdrop = require('./backdrop').Backdrop;\r\n\r\n\r\n/**\r\n * 'IO' module for intialising a socket connection and listening to inbound events\r\n * shared by both client types (e.g. `confirmIdentity`, `setPageTitle`, etc.)\r\n */\r\nfunction IO(identity) {\r\n\tif (!cookie.enabled()) {\r\n\t\tthis.error({ message: \"Enable cookies and try again\" });\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis.identity = identity;\r\n\tthis.backdrop = new Backdrop();\r\n\tthis.id = cookie.get('id');\r\n\r\n\t// Build query string from identity and identifier\r\n\tthis.query = 'identity=' + identity + (this.id ? '&id=' + this.id : '');\r\n\r\n\t// Initialise Primus\r\n\tthis.primus = new Primus(\"http://192.168.56.1\", {\r\n\t\treconnect: {\r\n\t\t\tmax: 5000,\r\n\t\t\tretries: 10000,\r\n\t\t\tfactor: 1.2\r\n\t\t}\r\n\t});\r\n\t\r\n\t// Add the query parameter dynamically on every Web Socket re/connection\r\n\tthis.primus.on('outgoing::url', function (url) {\r\n\t\turl.query = this.query;\r\n\t}.bind(this));\r\n\r\n\t// Listen for Web Socket error event\r\n\tthis.primus.on('error', this.wsError.bind(this));\r\n\t// Listen for loss of network connection\r\n\tthis.primus.on('offline', this.wsOffline.bind(this));\r\n\r\n\t// Subscribe to inbound IO events\r\n\thelpers.subscribeToEvents(this, 'io', [\r\n\t\t'saveId',\r\n\t\t'setPageTitle',\r\n\t\t'updateBackdrop',\r\n\t\t'hideBackdrop',\r\n\t\t'alert',\r\n\t\t'error'\r\n\t], this);\r\n\r\n\t// Debug\r\n\tif (\"production\" === 'development') {\r\n\t\t// Listen for opening of connection\r\n\t\tthis.primus.on('open', function () {\r\n\t\t\tconsole.info('Connection is alive and kicking');\r\n\t\t});\r\n\r\n\t\t// Listen for connection timeouts\r\n\t\tthis.primus.on('timeout', function (err) {\r\n\t\t\tconsole.warn('Timeout!', err);\r\n\t\t});\r\n\r\n\t\t// Listen for closing of connection\r\n\t\tthis.primus.on('end', function () {\r\n\t\t\tconsole.info('Connection closed');\r\n\t\t});\r\n\r\n\t\t// Listen for incoming data\r\n\t\tthis.primus.on('incoming::data', function (data) {\r\n\t\t\ttry {\r\n\t\t\t\tvar obj = JSON.parse(data);\r\n\t\t\t\tif (obj && obj.emit) {\r\n\t\t\t\t\tconsole.log(obj.emit[0], obj.emit[1]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} catch (exc) {}\r\n\t\t\tconsole.log(data);\r\n\t\t});\r\n\r\n\t\t// Listen for when Primus attempts to reconnect\r\n\t\tthis.primus.on('reconnect', function () {\r\n\t\t\tconsole.log('Reconnect attempt started');\r\n\t\t});\r\n\t\t\r\n\t\t// Listen for when Primus has managed to reconnect\r\n\t\tthis.primus.on('reconnected', function () {\r\n\t\t\tconsole.info(\"Reconnected!\");\r\n\t\t});\r\n\r\n\t\t// Listen for when Primus plans on reconnecting\r\n\t\tthis.primus.on('reconnect scheduled', function (opts) {\r\n\t\t\tconsole.log('Reconnecting in %d ms', opts.scheduled);\r\n\t\t\tconsole.log('This is attempt %d out of %d', opts.attempt, opts.retries);\r\n\t\t});\r\n\r\n\t\t// Listen for reconnection timeouts\r\n\t\tthis.primus.on('reconnect timeout', function (err) {\r\n\t\t\tconsole.warn('Reconnection timed out', err);\r\n\t\t});\r\n\r\n\t\t// Listen for failed reconnects\r\n\t\tthis.primus.on('reconnect failed', function (err) {\r\n\t\t\tconsole.warn('Reconnection failed', err);\r\n\t\t});\r\n\r\n\t\t// Regained network connection\r\n\t\tthis.primus.on('online', function (msg) {\r\n\t\t\tconsole.info('Online!', msg);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nIO.prototype.wsError = function (err) {\r\n\tconsole.warn(\"Web Socket error\", err.code);\r\n\r\n\tif (err.code === 1001) {\r\n\t\t// User is reloading or navigating away from the page\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (err.code === 1006) {\r\n\t\t// Server is down\r\n\t\tthis.updateBackdrop({\r\n\t\t\ttext: \"Connection lost\",\r\n\t\t\tsubtext: \"Attempting to reconnect...\",\r\n\t\t\tvisible: true\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n};\r\n\r\nIO.prototype.wsOffline = function () {\r\n\tconsole.warn('Offline!');\r\n\tthis.updateBackdrop({\r\n\t\ttext: \"Connection lost\",\r\n\t\tsubtext: \"Check Wi-Fi settings or wait for signal to be restored\",\r\n\t\tvisible: true\r\n\t});\r\n};\r\n\r\nIO.prototype.saveId = function (data) {\r\n\tthis.id = data.id;\r\n\tthis.query = 'identity=' + this.identity + '&id=' + this.id;\r\n\t\r\n\tcookie.set('id', data.id, {\r\n\t\texpires: '12h'\r\n\t});\r\n};\r\n\r\nIO.prototype.setPageTitle = function (data) {\r\n\tdocument.title = data.title;\r\n};\r\n\r\nIO.prototype.updateBackdrop = function (data) {\r\n\tthis.backdrop.update(data.text, data.subtext, data.visible);\r\n};\r\n\r\nIO.prototype.hideBackdrop = function () {\r\n\tthis.backdrop.hide();\r\n};\r\n\r\nIO.prototype.alert = function (data) {\r\n\twindow.alert(data.reason);\r\n};\r\n\r\nIO.prototype.error = function (data) {\r\n\tvar msg = data.message || \"Unexpected error\";\r\n\tconsole.error('Error:', msg);\r\n\r\n\t// Hide the backdrop and all the views\r\n\tdocument.getElementById('backdrop').classList.add('hidden');\r\n\t[].forEach.call(document.querySelectorAll('.view'), function (view) {\r\n\t\tview.classList.add('hidden');\r\n\t});\r\n\r\n\t// Show the error view and the error message\r\n\tvar errorView = document.getElementById('error');\r\n\terrorView.classList.remove('hidden');\r\n\terrorView.querySelector('.err-instr').textContent = msg;\r\n\r\n\t// Reload when the retry button is pressed\r\n\terrorView.querySelector('.err-btn--retry').addEventListener('click', function () {\r\n\t\twindow.location.reload();\r\n\t});\r\n};\r\n\r\nIO.prototype.send = function (event, data) {\r\n\tthis.primus.emit(event, data);\r\n};\r\n\r\nIO.prototype.sendFunc = function (event) {\r\n\treturn this.send.bind(this, event);\r\n};\r\n\r\nmodule.exports.IO = IO;\r\n","'use strict';\r\n\r\n// Dependencies\r\nvar helpers = require('./helpers');\r\n\r\n\r\nfunction LoginView(io) {\r\n\tthis.io = io;\r\n\tthis.root = document.getElementById('login');\r\n\r\n\tthis.instr = this.root.querySelector('.login-instr');\r\n\tthis.field = this.root.querySelector('.login-field');\r\n\tthis.btn = this.root.querySelector('.login-btn');\r\n\tthis.btn.addEventListener('click', this.sendIdentification.bind(this));\r\n\r\n\t// Cancel form submission\r\n\tthis.root.querySelector('.login-form').addEventListener('submit', function (evt) {\r\n\t\tevt.preventDefault();\r\n\t});\r\n\r\n\t// Subscribe to events from server and views\r\n\thelpers.subscribeToEvents(io, 'login', [\r\n\t\t'setInstr',\r\n\t\t'focusField',\r\n\t\t'blurField',\r\n\t\t'shakeResetField'\r\n\t], this);\r\n}\r\n\r\nLoginView.prototype.sendIdentification = function () {\r\n\tthis.io.send('identification', {\r\n\t\tidentity: this.io.identity,\r\n\t\tvalue: this.field.value\r\n\t});\r\n};\r\n\r\n\r\n/* ==================================================\r\n * IO events\r\n * ================================================== */\r\n\r\nLoginView.prototype.setInstr = function (data) {\r\n\t// Update instructions\r\n\tthis.instr.textContent = data.text;\r\n};\r\n\r\nLoginView.prototype.focusField = function () {\r\n\t// HACK: set focus on field\r\n\tsetTimeout(function () {\r\n\t\tthis.field.focus();\r\n\t}.bind(this), 100);\r\n};\r\n\r\nLoginView.prototype.blurField = function () {\r\n\tthis.field.blur();\r\n};\r\n\r\nLoginView.prototype.shakeResetField = function () {\r\n\t// Reset, focus and shake field\r\n\tthis.field.value = \"\";\r\n\tthis.field.focus();\r\n\thelpers.shake(this.field);\r\n};\r\n\r\nmodule.exports.LoginView = LoginView;\r\n","'use strict';\r\n\r\n// Dependencies\r\nvar helpers = require('./helpers');\r\nvar ringListTemplate = require('../../templates/precompiled/ring-list.njk');\r\n\r\n\r\nfunction RingListView(io) {\r\n\tthis.io = io;\r\n\tthis.root = document.getElementById('ring-list');\r\n\r\n\tthis.instr = this.root.querySelector('.rl-instr');\r\n\tthis.defaultInstrTxt = this.instr.textContent;\r\n\t\r\n\tthis.list = this.root.querySelector('.rl-list');\r\n\tthis.list.addEventListener('click', this.onListDelegate.bind(this));\r\n\r\n\t// Subscribe to events from server and views\r\n\thelpers.subscribeToEvents(io, 'ringListView', [\r\n\t\t'setInstr',\r\n\t\t'updateList'\r\n\t], this);\r\n}\r\n\r\n\r\n/* ==================================================\r\n * IO events\r\n * ================================================== */\r\n\r\nRingListView.prototype.setInstr = function (data) {\r\n\t// Update instructions\r\n\tthis.instr.textContent = data.text || this.defaultInstrTxt;\r\n};\r\n\r\nRingListView.prototype.updateList = function (data) {\r\n\t// Populate ring list from template\r\n\tthis.list.innerHTML = ringListTemplate.render(data);\r\n};\r\n\r\n\r\n/* ==================================================\r\n * UI events\r\n * ================================================== */\r\n\r\nRingListView.prototype.onListDelegate = function (evt) {\r\n\tvar btn = evt.target;\r\n\tif (btn && btn.nodeName === 'BUTTON') {\r\n\t\tbtn.blur();\r\n\r\n\t\tvar index = parseInt(btn.dataset.index, 10);\r\n\t\tthis.io.send('selectRing', {\r\n\t\t\tindex: index\r\n\t\t});\r\n\t}\r\n};\r\n\r\nmodule.exports.RingListView = RingListView;\r\n","(function UMDish(name, context, definition) {\r\n  context[name] = definition.call(context);\r\n  if (typeof module !== \"undefined\" && module.exports) {\r\n    module.exports = context[name];\r\n  } else if (typeof define === \"function\" && define.amd) {\r\n    define(function reference() { return context[name]; });\r\n  }\r\n})(\"Primus\", this, function wrapper() {\r\n  var define, module, exports\r\n    , Primus = (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n/**\r\n * Create a function that will cleanup the instance.\r\n *\r\n * @param {Array|String} keys Properties on the instance that needs to be cleared.\r\n * @param {Object} options Additional configuration.\r\n * @returns {Function} Destroy function\r\n * @api public\r\n */\r\nmodule.exports = function demolish(keys, options) {\r\n  var split = /[, ]+/;\r\n\r\n  options = options ||  {};\r\n  keys = keys || [];\r\n\r\n  if ('string' === typeof keys) keys = keys.split(split);\r\n\r\n  /**\r\n   * Run addition cleanup hooks.\r\n   *\r\n   * @param {String} key Name of the clean up hook to run.\r\n   * @param {Mixed} selfie Reference to the instance we're cleaning up.\r\n   * @api private\r\n   */\r\n  function run(key, selfie) {\r\n    if (!options[key]) return;\r\n    if ('string' === typeof options[key]) options[key] = options[key].split(split);\r\n    if ('function' === typeof options[key]) return options[key].call(selfie);\r\n\r\n    for (var i = 0, type, what; i < options[key].length; i++) {\r\n      what = options[key][i];\r\n      type = typeof what;\r\n\r\n      if ('function' === type) {\r\n        what.call(selfie);\r\n      } else if ('string' === type && 'function' === typeof selfie[what]) {\r\n        selfie[what]();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Destroy the instance completely and clean up all the existing references.\r\n   *\r\n   * @returns {Boolean}\r\n   * @api public\r\n   */\r\n  return function destroy() {\r\n    var selfie = this\r\n      , i = 0\r\n      , prop;\r\n\r\n    if (selfie[keys[0]] === null) return false;\r\n    run('before', selfie);\r\n\r\n    for (; i < keys.length; i++) {\r\n      prop = keys[i];\r\n\r\n      if (selfie[prop]) {\r\n        if ('function' === typeof selfie[prop].destroy) selfie[prop].destroy();\r\n        selfie[prop] = null;\r\n      }\r\n    }\r\n\r\n    if (selfie.emit) selfie.emit('destroy');\r\n    run('after', selfie);\r\n\r\n    return true;\r\n  };\r\n};\r\n\r\n},{}],2:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n/**\r\n * Returns a function that when invoked executes all the listeners of the\r\n * given event with the given arguments.\r\n *\r\n * @returns {Function} The function that emits all the things.\r\n * @api public\r\n */\r\nmodule.exports = function emits() {\r\n  var self = this\r\n    , parser;\r\n\r\n  for (var i = 0, l = arguments.length, args = new Array(l); i < l; i++) {\r\n    args[i] = arguments[i];\r\n  }\r\n\r\n  //\r\n  // If the last argument is a function, assume that it's a parser.\r\n  //\r\n  if ('function' !== typeof args[args.length - 1]) return function emitter() {\r\n    for (var i = 0, l = arguments.length, arg = new Array(l); i < l; i++) {\r\n      arg[i] = arguments[i];\r\n    }\r\n\r\n    return self.emit.apply(self, args.concat(arg));\r\n  };\r\n\r\n  parser = args.pop();\r\n\r\n  /**\r\n   * The actual function that emits the given event. It returns a boolean\r\n   * indicating if the event was emitted.\r\n   *\r\n   * @returns {Boolean}\r\n   * @api public\r\n   */\r\n  return function emitter() {\r\n    for (var i = 0, l = arguments.length, arg = new Array(l + 1); i < l; i++) {\r\n      arg[i + 1] = arguments[i];\r\n    }\r\n\r\n    /**\r\n     * Async completion method for the parser.\r\n     *\r\n     * @param {Error} err Optional error when parsing failed.\r\n     * @param {Mixed} returned Emit instructions.\r\n     * @api private\r\n     */\r\n    arg[0] = function next(err, returned) {\r\n      if (err) return self.emit('error', err);\r\n\r\n      arg = returned === undefined\r\n        ? arg.slice(1) : returned === null\r\n          ? [] : returned;\r\n\r\n      self.emit.apply(self, args.concat(arg));\r\n    };\r\n\r\n    parser.apply(self, arg);\r\n    return true;\r\n  };\r\n};\r\n\r\n},{}],3:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n//\r\n// We store our EE objects in a plain object whose properties are event names.\r\n// If `Object.create(null)` is not supported we prefix the event names with a\r\n// `~` to make sure that the built-in object properties are not overridden or\r\n// used as an attack vector.\r\n// We also assume that `Object.create(null)` is available when the event name\r\n// is an ES6 Symbol.\r\n//\r\nvar prefix = typeof Object.create !== 'function' ? '~' : false;\r\n\r\n/**\r\n * Representation of a single EventEmitter function.\r\n *\r\n * @param {Function} fn Event handler to be called.\r\n * @param {Mixed} context Context for function execution.\r\n * @param {Boolean} once Only emit once\r\n * @api private\r\n */\r\nfunction EE(fn, context, once) {\r\n  this.fn = fn;\r\n  this.context = context;\r\n  this.once = once || false;\r\n}\r\n\r\n/**\r\n * Minimal EventEmitter interface that is molded against the Node.js\r\n * EventEmitter interface.\r\n *\r\n * @constructor\r\n * @api public\r\n */\r\nfunction EventEmitter() { /* Nothing to set */ }\r\n\r\n/**\r\n * Holds the assigned EventEmitters by name.\r\n *\r\n * @type {Object}\r\n * @private\r\n */\r\nEventEmitter.prototype._events = undefined;\r\n\r\n/**\r\n * Return a list of assigned event listeners.\r\n *\r\n * @param {String} event The events that should be listed.\r\n * @param {Boolean} exists We only need to know if there are listeners.\r\n * @returns {Array|Boolean}\r\n * @api public\r\n */\r\nEventEmitter.prototype.listeners = function listeners(event, exists) {\r\n  var evt = prefix ? prefix + event : event\r\n    , available = this._events && this._events[evt];\r\n\r\n  if (exists) return !!available;\r\n  if (!available) return [];\r\n  if (this._events[evt].fn) return [this._events[evt].fn];\r\n\r\n  for (var i = 0, l = this._events[evt].length, ee = new Array(l); i < l; i++) {\r\n    ee[i] = this._events[evt][i].fn;\r\n  }\r\n\r\n  return ee;\r\n};\r\n\r\n/**\r\n * Emit an event to all registered event listeners.\r\n *\r\n * @param {String} event The name of the event.\r\n * @returns {Boolean} Indication if we've emitted an event.\r\n * @api public\r\n */\r\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events || !this._events[evt]) return false;\r\n\r\n  var listeners = this._events[evt]\r\n    , len = arguments.length\r\n    , args\r\n    , i;\r\n\r\n  if ('function' === typeof listeners.fn) {\r\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\r\n\r\n    switch (len) {\r\n      case 1: return listeners.fn.call(listeners.context), true;\r\n      case 2: return listeners.fn.call(listeners.context, a1), true;\r\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\r\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\r\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\r\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\r\n    }\r\n\r\n    for (i = 1, args = new Array(len -1); i < len; i++) {\r\n      args[i - 1] = arguments[i];\r\n    }\r\n\r\n    listeners.fn.apply(listeners.context, args);\r\n  } else {\r\n    var length = listeners.length\r\n      , j;\r\n\r\n    for (i = 0; i < length; i++) {\r\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\r\n\r\n      switch (len) {\r\n        case 1: listeners[i].fn.call(listeners[i].context); break;\r\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\r\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\r\n        default:\r\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\r\n            args[j - 1] = arguments[j];\r\n          }\r\n\r\n          listeners[i].fn.apply(listeners[i].context, args);\r\n      }\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Register a new EventListener for the given event.\r\n *\r\n * @param {String} event Name of the event.\r\n * @param {Functon} fn Callback function.\r\n * @param {Mixed} context The context of the function.\r\n * @api public\r\n */\r\nEventEmitter.prototype.on = function on(event, fn, context) {\r\n  var listener = new EE(fn, context || this)\r\n    , evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\r\n  if (!this._events[evt]) this._events[evt] = listener;\r\n  else {\r\n    if (!this._events[evt].fn) this._events[evt].push(listener);\r\n    else this._events[evt] = [\r\n      this._events[evt], listener\r\n    ];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Add an EventListener that's only called once.\r\n *\r\n * @param {String} event Name of the event.\r\n * @param {Function} fn Callback function.\r\n * @param {Mixed} context The context of the function.\r\n * @api public\r\n */\r\nEventEmitter.prototype.once = function once(event, fn, context) {\r\n  var listener = new EE(fn, context || this, true)\r\n    , evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events) this._events = prefix ? {} : Object.create(null);\r\n  if (!this._events[evt]) this._events[evt] = listener;\r\n  else {\r\n    if (!this._events[evt].fn) this._events[evt].push(listener);\r\n    else this._events[evt] = [\r\n      this._events[evt], listener\r\n    ];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove event listeners.\r\n *\r\n * @param {String} event The event we want to remove.\r\n * @param {Function} fn The listener that we need to find.\r\n * @param {Mixed} context Only remove listeners matching this context.\r\n * @param {Boolean} once Only remove once listeners.\r\n * @api public\r\n */\r\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events || !this._events[evt]) return this;\r\n\r\n  var listeners = this._events[evt]\r\n    , events = [];\r\n\r\n  if (fn) {\r\n    if (listeners.fn) {\r\n      if (\r\n           listeners.fn !== fn\r\n        || (once && !listeners.once)\r\n        || (context && listeners.context !== context)\r\n      ) {\r\n        events.push(listeners);\r\n      }\r\n    } else {\r\n      for (var i = 0, length = listeners.length; i < length; i++) {\r\n        if (\r\n             listeners[i].fn !== fn\r\n          || (once && !listeners[i].once)\r\n          || (context && listeners[i].context !== context)\r\n        ) {\r\n          events.push(listeners[i]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //\r\n  // Reset the array, or remove it completely if we have no more listeners.\r\n  //\r\n  if (events.length) {\r\n    this._events[evt] = events.length === 1 ? events[0] : events;\r\n  } else {\r\n    delete this._events[evt];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all listeners or only the listeners for the specified event.\r\n *\r\n * @param {String} event The event want to remove all listeners for.\r\n * @api public\r\n */\r\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\r\n  if (!this._events) return this;\r\n\r\n  if (event) delete this._events[prefix ? prefix + event : event];\r\n  else this._events = prefix ? {} : Object.create(null);\r\n\r\n  return this;\r\n};\r\n\r\n//\r\n// Alias methods names because people roll like that.\r\n//\r\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\r\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n//\r\n// This function doesn't apply anymore.\r\n//\r\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\r\n  return this;\r\n};\r\n\r\n//\r\n// Expose the prefix.\r\n//\r\nEventEmitter.prefixed = prefix;\r\n\r\n//\r\n// Expose the module.\r\n//\r\nmodule.exports = EventEmitter;\r\n\r\n},{}],4:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar has = Object.prototype.hasOwnProperty;\r\n\r\n/**\r\n * Simple query string parser.\r\n *\r\n * @param {String} query The query string that needs to be parsed.\r\n * @returns {Object}\r\n * @api public\r\n */\r\nfunction querystring(query) {\r\n  var parser = /([^=?&]+)=([^&]*)/g\r\n    , result = {}\r\n    , part;\r\n\r\n  //\r\n  // Little nifty parsing hack, leverage the fact that RegExp.exec increments\r\n  // the lastIndex property so we can continue executing this loop until we've\r\n  // parsed all results.\r\n  //\r\n  for (;\r\n    part = parser.exec(query);\r\n    result[decodeURIComponent(part[1])] = decodeURIComponent(part[2])\r\n  );\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Transform a query string to an object.\r\n *\r\n * @param {Object} obj Object that should be transformed.\r\n * @param {String} prefix Optional prefix.\r\n * @returns {String}\r\n * @api public\r\n */\r\nfunction querystringify(obj, prefix) {\r\n  prefix = prefix || '';\r\n\r\n  var pairs = [];\r\n\r\n  //\r\n  // Optionally prefix with a '?' if needed\r\n  //\r\n  if ('string' !== typeof prefix) prefix = '?';\r\n\r\n  for (var key in obj) {\r\n    if (has.call(obj, key)) {\r\n      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));\r\n    }\r\n  }\r\n\r\n  return pairs.length ? prefix + pairs.join('&') : '';\r\n}\r\n\r\n//\r\n// Expose the module.\r\n//\r\nexports.stringify = querystringify;\r\nexports.parse = querystring;\r\n\r\n},{}],5:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('eventemitter3')\r\n  , millisecond = _dereq_('millisecond')\r\n  , destroy = _dereq_('demolish')\r\n  , Tick = _dereq_('tick-tock')\r\n  , one = _dereq_('one-time');\r\n\r\n/**\r\n * Returns sane defaults about a given value.\r\n *\r\n * @param {String} name Name of property we want.\r\n * @param {Recovery} selfie Recovery instance that got created.\r\n * @param {Object} opts User supplied options we want to check.\r\n * @returns {Number} Some default value.\r\n * @api private\r\n */\r\nfunction defaults(name, selfie, opts) {\r\n  return millisecond(\r\n    name in opts ? opts[name] : (name in selfie ? selfie[name] : Recovery[name])\r\n  );\r\n}\r\n\r\n/**\r\n * Attempt to recover your connection with reconnection attempt.\r\n *\r\n * @constructor\r\n * @param {Object} options Configuration\r\n * @api public\r\n */\r\nfunction Recovery(options) {\r\n  var recovery = this;\r\n\r\n  if (!(recovery instanceof Recovery)) return new Recovery(options);\r\n\r\n  options = options || {};\r\n\r\n  recovery.attempt = null;        // Stores the current reconnect attempt.\r\n  recovery._fn = null;            // Stores the callback.\r\n\r\n  recovery['reconnect timeout'] = defaults('reconnect timeout', recovery, options);\r\n  recovery.retries = defaults('retries', recovery, options);\r\n  recovery.factor = defaults('factor', recovery, options);\r\n  recovery.max = defaults('max', recovery, options);\r\n  recovery.min = defaults('min', recovery, options);\r\n  recovery.timers = new Tick(recovery);\r\n}\r\n\r\nRecovery.prototype = new EventEmitter();\r\nRecovery.prototype.constructor = Recovery;\r\n\r\nRecovery['reconnect timeout'] = '30 seconds';  // Maximum time to wait for an answer.\r\nRecovery.max = Infinity;                       // Maximum delay.\r\nRecovery.min = '500 ms';                       // Minimum delay.\r\nRecovery.retries = 10;                         // Maximum amount of retries.\r\nRecovery.factor = 2;                           // Exponential back off factor.\r\n\r\n/**\r\n * Start a new reconnect procedure.\r\n *\r\n * @returns {Recovery}\r\n * @api public\r\n */\r\nRecovery.prototype.reconnect = function reconnect() {\r\n  var recovery = this;\r\n\r\n  return recovery.backoff(function backedoff(err, opts) {\r\n    opts.duration = (+new Date()) - opts.start;\r\n\r\n    if (err) return recovery.emit('reconnect failed', err, opts);\r\n\r\n    recovery.emit('reconnected', opts);\r\n  }, recovery.attempt);\r\n};\r\n\r\n/**\r\n * Exponential back off algorithm for retry operations. It uses a randomized\r\n * retry so we don't DDOS our server when it goes down under pressure.\r\n *\r\n * @param {Function} fn Callback to be called after the timeout.\r\n * @param {Object} opts Options for configuring the timeout.\r\n * @returns {Recovery}\r\n * @api private\r\n */\r\nRecovery.prototype.backoff = function backoff(fn, opts) {\r\n  var recovery = this;\r\n\r\n  opts = opts || recovery.attempt || {};\r\n\r\n  //\r\n  // Bailout when we already have a back off process running. We shouldn't call\r\n  // the callback then.\r\n  //\r\n  if (opts.backoff) return recovery;\r\n\r\n  opts['reconnect timeout'] = defaults('reconnect timeout', recovery, opts);\r\n  opts.retries = defaults('retries', recovery, opts);\r\n  opts.factor = defaults('factor', recovery, opts);\r\n  opts.max = defaults('max', recovery, opts);\r\n  opts.min = defaults('min', recovery, opts);\r\n\r\n  opts.start = +opts.start || +new Date();\r\n  opts.duration = +opts.duration || 0;\r\n  opts.attempt = +opts.attempt || 0;\r\n\r\n  //\r\n  // Bailout if we are about to make too much attempts.\r\n  //\r\n  if (opts.attempt === opts.retries) {\r\n    fn.call(recovery, new Error('Unable to recover'), opts);\r\n    return recovery;\r\n  }\r\n\r\n  //\r\n  // Prevent duplicate back off attempts using the same options object and\r\n  // increment our attempt as we're about to have another go at this thing.\r\n  //\r\n  opts.backoff = true;\r\n  opts.attempt++;\r\n\r\n  recovery.attempt = opts;\r\n\r\n  //\r\n  // Calculate the timeout, but make it randomly so we don't retry connections\r\n  // at the same interval and defeat the purpose. This exponential back off is\r\n  // based on the work of:\r\n  //\r\n  // http://dthain.blogspot.nl/2009/02/exponential-backoff-in-distributed.html\r\n  //\r\n  opts.scheduled = opts.attempt !== 1\r\n    ? Math.min(Math.round(\r\n        (Math.random() + 1) * opts.min * Math.pow(opts.factor, opts.attempt - 1)\r\n      ), opts.max)\r\n    : opts.min;\r\n\r\n  recovery.timers.setTimeout('reconnect', function delay() {\r\n    opts.duration = (+new Date()) - opts.start;\r\n    opts.backoff = false;\r\n    recovery.timers.clear('reconnect, timeout');\r\n\r\n    //\r\n    // Create a `one` function which can only be called once. So we can use the\r\n    // same function for different types of invocations to create a much better\r\n    // and usable API.\r\n    //\r\n    var connect = recovery._fn = one(function connect(err) {\r\n      recovery.reset();\r\n\r\n      if (err) return recovery.backoff(fn, opts);\r\n\r\n      fn.call(recovery, undefined, opts);\r\n    });\r\n\r\n    recovery.emit('reconnect', opts, connect);\r\n    recovery.timers.setTimeout('timeout', function timeout() {\r\n      var err = new Error('Failed to reconnect in a timely manner');\r\n      opts.duration = (+new Date()) - opts.start;\r\n\r\n      recovery.emit('reconnect timeout', err, opts);\r\n      connect(err);\r\n    }, opts['reconnect timeout']);\r\n  }, opts.scheduled);\r\n\r\n  //\r\n  // Emit a `reconnecting` event with current reconnect options. This allows\r\n  // them to update the UI and provide their users with feedback.\r\n  //\r\n  recovery.emit('reconnect scheduled', opts);\r\n\r\n  return recovery;\r\n};\r\n\r\n/**\r\n * Check if the reconnection process is currently reconnecting.\r\n *\r\n * @returns {Boolean}\r\n * @api public\r\n */\r\nRecovery.prototype.reconnecting = function reconnecting() {\r\n  return !!this.attempt;\r\n};\r\n\r\n/**\r\n * Tell our reconnection procedure that we're passed.\r\n *\r\n * @param {Error} err Reconnection failed.\r\n * @returns {Recovery}\r\n * @api public\r\n */\r\nRecovery.prototype.reconnected = function reconnected(err) {\r\n  if (this._fn) this._fn(err);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Reset the reconnection attempt so it can be re-used again.\r\n *\r\n * @returns {Recovery}\r\n * @api public\r\n */\r\nRecovery.prototype.reset = function reset() {\r\n  this._fn = this.attempt = null;\r\n  this.timers.clear('reconnect, timeout');\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Clean up the instance.\r\n *\r\n * @type {Function}\r\n * @returns {Boolean}\r\n * @api public\r\n */\r\nRecovery.prototype.destroy = destroy('timers attempt _fn');\r\n\r\n//\r\n// Expose the module.\r\n//\r\nmodule.exports = Recovery;\r\n\r\n},{\"demolish\":1,\"eventemitter3\":3,\"millisecond\":6,\"one-time\":7,\"tick-tock\":8}],6:[function(_dereq_,module,exports){\r\n/**\r\n * Parse a time string and return the number value of it.\r\n *\r\n * @param {String} ms Time string.\r\n * @returns {Number}\r\n * @api private\r\n */\r\nmodule.exports = function millisecond(ms) {\r\n  'use strict';\r\n\r\n  if ('string' !== typeof ms || '0' === ms || +ms) return +ms;\r\n\r\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(ms)\r\n    , second = 1000\r\n    , minute = second * 60\r\n    , hour = minute * 60\r\n    , day = hour * 24\r\n    , amount;\r\n\r\n  if (!match) return 0;\r\n\r\n  amount = parseFloat(match[1]);\r\n\r\n  switch (match[2].toLowerCase()) {\r\n    case 'days':\r\n    case 'day':\r\n    case 'd':\r\n      return amount * day;\r\n\r\n    case 'hours':\r\n    case 'hour':\r\n    case 'hrs':\r\n    case 'hr':\r\n    case 'h':\r\n      return amount * hour;\r\n\r\n    case 'minutes':\r\n    case 'minute':\r\n    case 'mins':\r\n    case 'min':\r\n    case 'm':\r\n      return amount * minute;\r\n\r\n    case 'seconds':\r\n    case 'second':\r\n    case 'secs':\r\n    case 'sec':\r\n    case 's':\r\n      return amount * second;\r\n\r\n    default:\r\n      return amount;\r\n  }\r\n};\r\n\r\n},{}],7:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n/**\r\n * Wrap callbacks to prevent double execution.\r\n *\r\n * @param {Function} fn Function that should only be called once.\r\n * @returns {Function} A wrapped callback which prevents execution.\r\n * @api public\r\n */\r\nmodule.exports = function one(fn) {\r\n  var called = 0\r\n    , value;\r\n\r\n  /**\r\n   * The function that prevents double execution.\r\n   *\r\n   * @api private\r\n   */\r\n  function onetime() {\r\n    if (called) return value;\r\n\r\n    called = 1;\r\n    value = fn.apply(this, arguments);\r\n    fn = null;\r\n\r\n    return value;\r\n  }\r\n\r\n  //\r\n  // To make debugging more easy we want to use the name of the supplied\r\n  // function. So when you look at the functions that are assigned to event\r\n  // listeners you don't see a load of `onetime` functions but actually the\r\n  // names of the functions that this module will call.\r\n  //\r\n  onetime.displayName = fn.displayName || fn.name || onetime.displayName || onetime.name;\r\n  return onetime;\r\n};\r\n\r\n},{}],8:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar has = Object.prototype.hasOwnProperty\r\n  , ms = _dereq_('millisecond');\r\n\r\n/**\r\n * Timer instance.\r\n *\r\n * @constructor\r\n * @param {Object} timer New timer instance.\r\n * @param {Function} clear Clears the timer instance.\r\n * @param {Function} fn The functions that need to be executed.\r\n * @api private\r\n */\r\nfunction Timer(timer, clear, fn) {\r\n  this.clear = clear;\r\n  this.timer = timer;\r\n  this.fns = [fn];\r\n}\r\n\r\n/**\r\n * Custom wrappers for the various of clear{whatever} functions. We cannot\r\n * invoke them directly as this will cause thrown errors in Google Chrome with\r\n * an Illegal Invocation Error\r\n *\r\n * @see #2\r\n * @type {Function}\r\n * @api private\r\n */\r\nfunction unsetTimeout(id) { clearTimeout(id); }\r\nfunction unsetInterval(id) { clearInterval(id); }\r\nfunction unsetImmediate(id) { clearImmediate(id); }\r\n\r\n/**\r\n * Simple timer management.\r\n *\r\n * @constructor\r\n * @param {Mixed} context Context of the callbacks that we execute.\r\n * @api public\r\n */\r\nfunction Tick(context) {\r\n  if (!(this instanceof Tick)) return new Tick(context);\r\n\r\n  this.timers = {};\r\n  this.context = context || this;\r\n}\r\n\r\n/**\r\n * Return a function which will just iterate over all assigned callbacks and\r\n * optionally clear the timers from memory if needed.\r\n *\r\n * @param {String} name Name of the timer we need to execute.\r\n * @param {Boolean} clear Also clear from memory.\r\n * @returns {Function}\r\n * @api private\r\n */\r\nTick.prototype.tock = function ticktock(name, clear) {\r\n  var tock = this;\r\n\r\n  return function tickedtock() {\r\n    if (!(name in tock.timers)) return;\r\n\r\n    var timer = tock.timers[name]\r\n      , fns = timer.fns.slice()\r\n      , l = fns.length\r\n      , i = 0;\r\n\r\n    if (clear) tock.clear(name);\r\n\r\n    for (; i < l; i++) {\r\n      fns[i].call(tock.context);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Add a new timeout.\r\n *\r\n * @param {String} name Name of the timer.\r\n * @param {Function} fn Completion callback.\r\n * @param {Mixed} time Duration of the timer.\r\n * @returns {Tick}\r\n * @api public\r\n */\r\nTick.prototype.setTimeout = function timeout(name, fn, time) {\r\n  var tick = this;\r\n\r\n  if (tick.timers[name]) {\r\n    tick.timers[name].fns.push(fn);\r\n    return tick;\r\n  }\r\n\r\n  tick.timers[name] = new Timer(\r\n    setTimeout(tick.tock(name, true), ms(time)),\r\n    unsetTimeout,\r\n    fn\r\n  );\r\n\r\n  return tick;\r\n};\r\n\r\n/**\r\n * Add a new interval.\r\n *\r\n * @param {String} name Name of the timer.\r\n * @param {Function} fn Completion callback.\r\n * @param {Mixed} time Interval of the timer.\r\n * @returns {Tick}\r\n * @api public\r\n */\r\nTick.prototype.setInterval = function interval(name, fn, time) {\r\n  var tick = this;\r\n\r\n  if (tick.timers[name]) {\r\n    tick.timers[name].fns.push(fn);\r\n    return tick;\r\n  }\r\n\r\n  tick.timers[name] = new Timer(\r\n    setInterval(tick.tock(name), ms(time)),\r\n    unsetInterval,\r\n    fn\r\n  );\r\n\r\n  return tick;\r\n};\r\n\r\n/**\r\n * Add a new setImmediate.\r\n *\r\n * @param {String} name Name of the timer.\r\n * @param {Function} fn Completion callback.\r\n * @returns {Tick}\r\n * @api public\r\n */\r\nTick.prototype.setImmediate = function immediate(name, fn) {\r\n  var tick = this;\r\n\r\n  if ('function' !== typeof setImmediate) return tick.setTimeout(name, fn, 0);\r\n\r\n  if (tick.timers[name]) {\r\n    tick.timers[name].fns.push(fn);\r\n    return tick;\r\n  }\r\n\r\n  tick.timers[name] = new Timer(\r\n    setImmediate(tick.tock(name, true)),\r\n    unsetImmediate,\r\n    fn\r\n  );\r\n\r\n  return tick;\r\n};\r\n\r\n/**\r\n * Check if we have a timer set.\r\n *\r\n * @param {String} name\r\n * @returns {Boolean}\r\n * @api public\r\n */\r\nTick.prototype.active = function active(name) {\r\n  return name in this.timers;\r\n};\r\n\r\n/**\r\n * Properly clean up all timeout references. If no arguments are supplied we\r\n * will attempt to clear every single timer that is present.\r\n *\r\n * @param {Arguments} ..args.. The names of the timeouts we need to clear\r\n * @returns {Tick}\r\n * @api public\r\n */\r\nTick.prototype.clear = function clear() {\r\n  var args = arguments.length ? arguments : []\r\n    , tick = this\r\n    , timer, i, l;\r\n\r\n  if (args.length === 1 && 'string' === typeof args[0]) {\r\n    args = args[0].split(/[, ]+/);\r\n  }\r\n\r\n  if (!args.length) {\r\n    for (timer in tick.timers) {\r\n      if (has.call(tick.timers, timer)) args.push(timer);\r\n    }\r\n  }\r\n\r\n  for (i = 0, l = args.length; i < l; i++) {\r\n    timer = tick.timers[args[i]];\r\n\r\n    if (!timer) continue;\r\n    timer.clear(timer.timer);\r\n\r\n    timer.fns = timer.timer = timer.clear = null;\r\n    delete tick.timers[args[i]];\r\n  }\r\n\r\n  return tick;\r\n};\r\n\r\n/**\r\n * We will no longer use this module, prepare your self for global cleanups.\r\n *\r\n * @returns {Boolean}\r\n * @api public\r\n */\r\nTick.prototype.end = Tick.prototype.destroy = function end() {\r\n  if (!this.context) return false;\r\n\r\n  this.clear();\r\n  this.context = this.timers = null;\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Adjust a timeout or interval to a new duration.\r\n *\r\n * @returns {Tick}\r\n * @api public\r\n */\r\nTick.prototype.adjust = function adjust(name, time) {\r\n  var interval\r\n    , tick = this\r\n    , timer = tick.timers[name];\r\n\r\n  if (!timer) return tick;\r\n\r\n  interval = timer.clear === unsetInterval;\r\n  timer.clear(timer.timer);\r\n  timer.timer = (interval ? setInterval : setTimeout)(tick.tock(name, !interval), ms(time));\r\n\r\n  return tick;\r\n};\r\n\r\n//\r\n// Expose the timer factory.\r\n//\r\nmodule.exports = Tick;\r\n\r\n},{\"millisecond\":9}],9:[function(_dereq_,module,exports){\r\narguments[4][6][0].apply(exports,arguments)\r\n},{\"dup\":6}],10:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar required = _dereq_('requires-port')\r\n  , lolcation = _dereq_('./lolcation')\r\n  , qs = _dereq_('querystringify')\r\n  , relativere = /^\\/(?!\\/)/;\r\n\r\n/**\r\n * These are the parse instructions for the URL parsers, it informs the parser\r\n * about:\r\n *\r\n * 0. The char it Needs to parse, if it's a string it should be done using\r\n *    indexOf, RegExp using exec and NaN means set as current value.\r\n * 1. The property we should set when parsing this value.\r\n * 2. Indication if it's backwards or forward parsing, when set as number it's\r\n *    the value of extra chars that should be split off.\r\n * 3. Inherit from location if non existing in the parser.\r\n * 4. `toLowerCase` the resulting value.\r\n */\r\nvar instructions = [\r\n  ['#', 'hash'],                        // Extract from the back.\r\n  ['?', 'query'],                       // Extract from the back.\r\n  ['//', 'protocol', 2, 1, 1],          // Extract from the front.\r\n  ['/', 'pathname'],                    // Extract from the back.\r\n  ['@', 'auth', 1],                     // Extract from the front.\r\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\r\n  [/\\:(\\d+)$/, 'port'],                 // RegExp the back.\r\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\r\n];\r\n\r\n/**\r\n * The actual URL instance. Instead of returning an object we've opted-in to\r\n * create an actual constructor as it's much more memory efficient and\r\n * faster and it pleases my CDO.\r\n *\r\n * @constructor\r\n * @param {String} address URL we want to parse.\r\n * @param {Boolean|function} parser Parser for the query string.\r\n * @param {Object} location Location defaults for relative paths.\r\n * @api public\r\n */\r\nfunction URL(address, location, parser) {\r\n  if (!(this instanceof URL)) {\r\n    return new URL(address, location, parser);\r\n  }\r\n\r\n  var relative = relativere.test(address)\r\n    , parse, instruction, index, key\r\n    , type = typeof location\r\n    , url = this\r\n    , i = 0;\r\n\r\n  //\r\n  // The following if statements allows this module two have compatibility with\r\n  // 2 different API:\r\n  //\r\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\r\n  //    where the boolean indicates that the query string should also be parsed.\r\n  //\r\n  // 2. The `URL` interface of the browser which accepts a URL, object as\r\n  //    arguments. The supplied object will be used as default values / fall-back\r\n  //    for relative paths.\r\n  //\r\n  if ('object' !== type && 'string' !== type) {\r\n    parser = location;\r\n    location = null;\r\n  }\r\n\r\n  if (parser && 'function' !== typeof parser) {\r\n    parser = qs.parse;\r\n  }\r\n\r\n  location = lolcation(location);\r\n\r\n  for (; i < instructions.length; i++) {\r\n    instruction = instructions[i];\r\n    parse = instruction[0];\r\n    key = instruction[1];\r\n\r\n    if (parse !== parse) {\r\n      url[key] = address;\r\n    } else if ('string' === typeof parse) {\r\n      if (~(index = address.indexOf(parse))) {\r\n        if ('number' === typeof instruction[2]) {\r\n          url[key] = address.slice(0, index);\r\n          address = address.slice(index + instruction[2]);\r\n        } else {\r\n          url[key] = address.slice(index);\r\n          address = address.slice(0, index);\r\n        }\r\n      }\r\n    } else if (index = parse.exec(address)) {\r\n      url[key] = index[1];\r\n      address = address.slice(0, address.length - index[0].length);\r\n    }\r\n\r\n    url[key] = url[key] || (instruction[3] || ('port' === key && relative) ? location[key] || '' : '');\r\n\r\n    //\r\n    // Hostname, host and protocol should be lowercased so they can be used to\r\n    // create a proper `origin`.\r\n    //\r\n    if (instruction[4]) {\r\n      url[key] = url[key].toLowerCase();\r\n    }\r\n  }\r\n\r\n  //\r\n  // Also parse the supplied query string in to an object. If we're supplied\r\n  // with a custom parser as function use that instead of the default build-in\r\n  // parser.\r\n  //\r\n  if (parser) url.query = parser(url.query);\r\n\r\n  //\r\n  // We should not add port numbers if they are already the default port number\r\n  // for a given protocol. As the host also contains the port number we're going\r\n  // override it with the hostname which contains no port number.\r\n  //\r\n  if (!required(url.port, url.protocol)) {\r\n    url.host = url.hostname;\r\n    url.port = '';\r\n  }\r\n\r\n  //\r\n  // Parse down the `auth` for the username and password.\r\n  //\r\n  url.username = url.password = '';\r\n  if (url.auth) {\r\n    instruction = url.auth.split(':');\r\n    url.username = instruction[0] || '';\r\n    url.password = instruction[1] || '';\r\n  }\r\n\r\n  //\r\n  // The href is just the compiled result.\r\n  //\r\n  url.href = url.toString();\r\n}\r\n\r\n/**\r\n * This is convenience method for changing properties in the URL instance to\r\n * insure that they all propagate correctly.\r\n *\r\n * @param {String} prop Property we need to adjust.\r\n * @param {Mixed} value The newly assigned value.\r\n * @returns {URL}\r\n * @api public\r\n */\r\nURL.prototype.set = function set(part, value, fn) {\r\n  var url = this;\r\n\r\n  if ('query' === part) {\r\n    if ('string' === typeof value) value = (fn || qs.parse)(value);\r\n    url[part] = value;\r\n  } else if ('port' === part) {\r\n    url[part] = value;\r\n\r\n    if (!required(value, url.protocol)) {\r\n      url.host = url.hostname;\r\n      url[part] = '';\r\n    } else if (value) {\r\n      url.host = url.hostname +':'+ value;\r\n    }\r\n  } else if ('hostname' === part) {\r\n    url[part] = value;\r\n\r\n    if (url.port) value += ':'+ url.port;\r\n    url.host = value;\r\n  } else if ('host' === part) {\r\n    url[part] = value;\r\n\r\n    if (/\\:\\d+/.test(value)) {\r\n      value = value.split(':');\r\n      url.hostname = value[0];\r\n      url.port = value[1];\r\n    }\r\n  } else {\r\n    url[part] = value;\r\n  }\r\n\r\n  url.href = url.toString();\r\n  return url;\r\n};\r\n\r\n/**\r\n * Transform the properties back in to a valid and full URL string.\r\n *\r\n * @param {Function} stringify Optional query stringify function.\r\n * @returns {String}\r\n * @api public\r\n */\r\nURL.prototype.toString = function toString(stringify) {\r\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\r\n\r\n  var query\r\n    , url = this\r\n    , result = url.protocol +'//';\r\n\r\n  if (url.username) {\r\n    result += url.username;\r\n    if (url.password) result += ':'+ url.password;\r\n    result += '@';\r\n  }\r\n\r\n  result += url.hostname;\r\n  if (url.port) result += ':'+ url.port;\r\n\r\n  result += url.pathname;\r\n\r\n  if (url.query) {\r\n    if ('object' === typeof url.query) query = stringify(url.query);\r\n    else query = url.query;\r\n\r\n    result += (query.charAt(0) === '?' ? '' : '?') + query;\r\n  }\r\n\r\n  if (url.hash) result += url.hash;\r\n\r\n  return result;\r\n};\r\n\r\n//\r\n// Expose the URL parser and some additional properties that might be useful for\r\n// others.\r\n//\r\nURL.qs = qs;\r\nURL.location = lolcation;\r\nmodule.exports = URL;\r\n\r\n},{\"./lolcation\":11,\"querystringify\":4,\"requires-port\":12}],11:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\n/**\r\n * These properties should not be copied or inherited from. This is only needed\r\n * for all non blob URL's as the a blob URL does not include a hash, only the\r\n * origin.\r\n *\r\n * @type {Object}\r\n * @private\r\n */\r\nvar ignore = { hash: 1, query: 1 }\r\n  , URL;\r\n\r\n/**\r\n * The location object differs when your code is loaded through a normal page,\r\n * Worker or through a worker using a blob. And with the blobble begins the\r\n * trouble as the location object will contain the URL of the blob, not the\r\n * location of the page where our code is loaded in. The actual origin is\r\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\r\n * location from it so we can generate proper relative URL's again.\r\n *\r\n * @param {Object} loc Optional default location object.\r\n * @returns {Object} lolcation object.\r\n * @api public\r\n */\r\nmodule.exports = function lolcation(loc) {\r\n  loc = loc || global.location || {};\r\n  URL = URL || _dereq_('./');\r\n\r\n  var finaldestination = {}\r\n    , type = typeof loc\r\n    , key;\r\n\r\n  if ('blob:' === loc.protocol) {\r\n    finaldestination = new URL(unescape(loc.pathname), {});\r\n  } else if ('string' === type) {\r\n    finaldestination = new URL(loc, {});\r\n    for (key in ignore) delete finaldestination[key];\r\n  } else if ('object' === type) for (key in loc) {\r\n    if (key in ignore) continue;\r\n    finaldestination[key] = loc[key];\r\n  }\r\n\r\n  return finaldestination;\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./\":10}],12:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n/**\r\n * Check if we're required to add a port number.\r\n *\r\n * @see https://url.spec.whatwg.org/#default-port\r\n * @param {Number|String} port Port number we need to check\r\n * @param {String} protocol Protocol we need to check against.\r\n * @returns {Boolean} Is it a default port for the given protocol\r\n * @api private\r\n */\r\nmodule.exports = function required(port, protocol) {\r\n  protocol = protocol.split(':')[0];\r\n  port = +port;\r\n\r\n  if (!port) return false;\r\n\r\n  switch (protocol) {\r\n    case 'http':\r\n    case 'ws':\r\n    return port !== 80;\r\n\r\n    case 'https':\r\n    case 'wss':\r\n    return port !== 443;\r\n\r\n    case 'ftp':\r\n    return port !== 22;\r\n\r\n    case 'gopher':\r\n    return port !== 70;\r\n\r\n    case 'file':\r\n    return false;\r\n  }\r\n\r\n  return port !== 0;\r\n};\r\n\r\n},{}],13:[function(_dereq_,module,exports){\r\n/*globals require, define */\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('eventemitter3')\r\n  , TickTock = _dereq_('tick-tock')\r\n  , Recovery = _dereq_('recovery')\r\n  , qs = _dereq_('querystringify')\r\n  , destroy = _dereq_('demolish')\r\n  , u2028 = /\\u2028/g\r\n  , u2029 = /\\u2029/g;\r\n\r\n/**\r\n * Context assertion, ensure that some of our public Primus methods are called\r\n * with the correct context to ensure that\r\n *\r\n * @param {Primus} self The context of the function.\r\n * @param {String} method The method name.\r\n * @api private\r\n */\r\nfunction context(self, method) {\r\n  if (self instanceof Primus) return;\r\n\r\n  var failure = new Error('Primus#'+ method + '\\'s context should called with a Primus instance');\r\n\r\n  if ('function' !== typeof self.listeners || !self.listeners('error').length) {\r\n    throw failure;\r\n  }\r\n\r\n  self.emit('error', failure);\r\n}\r\n\r\n//\r\n// Sets the default connection URL, it uses the default origin of the browser\r\n// when supported but degrades for older browsers. In Node.js, we cannot guess\r\n// where the user wants to connect to, so we just default to localhost.\r\n//\r\nvar defaultUrl;\r\n\r\ntry {\r\n  if (location.origin) {\r\n    defaultUrl = location.origin;\r\n  } else {\r\n    defaultUrl = location.protocol +'//'+ location.hostname + (location.port ? ':'+ location.port : '');\r\n  }\r\n} catch (e) {\r\n  defaultUrl = 'http://127.0.0.1';\r\n}\r\n\r\n/**\r\n * Primus is a real-time library agnostic framework for establishing real-time\r\n * connections with servers.\r\n *\r\n * Options:\r\n * - reconnect, configuration for the reconnect process.\r\n * - manual, don't automatically call `.open` to start the connection.\r\n * - websockets, force the use of WebSockets, even when you should avoid them.\r\n * - timeout, connect timeout, server didn't respond in a timely manner.\r\n * - ping, The heartbeat interval for sending a ping packet to the server.\r\n * - pong, The heartbeat timeout for receiving a response to the ping.\r\n * - network, Use network events as leading method for network connection drops.\r\n * - strategy, Reconnection strategies.\r\n * - transport, Transport options.\r\n * - url, uri, The URL to use connect with the server.\r\n *\r\n * @constructor\r\n * @param {String} url The URL of your server.\r\n * @param {Object} options The configuration.\r\n * @api public\r\n */\r\nfunction Primus(url, options) {\r\n  if (!(this instanceof Primus)) return new Primus(url, options);\r\n  if ('function' !== typeof this.client) {\r\n    var message = 'The client library has not been compiled correctly, ' +\r\n      'see https://github.com/primus/primus#client-library for more details';\r\n    return this.critical(new Error(message));\r\n  }\r\n\r\n  if ('object' === typeof url) {\r\n    options = url;\r\n    url = options.url || options.uri || defaultUrl;\r\n  } else {\r\n    options = options || {};\r\n  }\r\n\r\n  var primus = this;\r\n\r\n  // The maximum number of messages that can be placed in queue.\r\n  options.queueSize = 'queueSize' in options ? options.queueSize : Infinity;\r\n\r\n  // Connection timeout duration.\r\n  options.timeout = 'timeout' in options ? options.timeout : 10e3;\r\n\r\n  // Stores the back off configuration.\r\n  options.reconnect = 'reconnect' in options ? options.reconnect : {};\r\n\r\n  // Heartbeat ping interval.\r\n  options.ping = 'ping' in options ? options.ping : 25000;\r\n\r\n  // Heartbeat pong response timeout.\r\n  options.pong = 'pong' in options ? options.pong : 10e3;\r\n\r\n  // Reconnect strategies.\r\n  options.strategy = 'strategy' in options ? options.strategy : [];\r\n\r\n  // Custom transport options.\r\n  options.transport = 'transport' in options ? options.transport : {};\r\n\r\n  primus.buffer = [];                           // Stores premature send data.\r\n  primus.writable = true;                       // Silly stream compatibility.\r\n  primus.readable = true;                       // Silly stream compatibility.\r\n  primus.url = primus.parse(url || defaultUrl); // Parse the URL to a readable format.\r\n  primus.readyState = Primus.CLOSED;            // The readyState of the connection.\r\n  primus.options = options;                     // Reference to the supplied options.\r\n  primus.timers = new TickTock(this);           // Contains all our timers.\r\n  primus.socket = null;                         // Reference to the internal connection.\r\n  primus.latency = 0;                           // Latency between messages.\r\n  primus.stamps = 0;                            // Counter to make timestamps unique.\r\n  primus.disconnect = false;                    // Did we receive a disconnect packet?\r\n  primus.transport = options.transport;         // Transport options.\r\n  primus.transformers = {                       // Message transformers.\r\n    outgoing: [],\r\n    incoming: []\r\n  };\r\n\r\n  //\r\n  // Create our reconnection instance.\r\n  //\r\n  primus.recovery = new Recovery(options.reconnect);\r\n\r\n  //\r\n  // Parse the reconnection strategy. It can have the following strategies:\r\n  //\r\n  // - timeout: Reconnect when we have a network timeout.\r\n  // - disconnect: Reconnect when we have an unexpected disconnect.\r\n  // - online: Reconnect when we're back online.\r\n  //\r\n  if ('string' === typeof options.strategy) {\r\n    options.strategy = options.strategy.split(/\\s?\\,\\s?/g);\r\n  }\r\n\r\n  if (false === options.strategy) {\r\n    //\r\n    // Strategies are disabled, but we still need an empty array to join it in\r\n    // to nothing.\r\n    //\r\n    options.strategy = [];\r\n  } else if (!options.strategy.length) {\r\n    options.strategy.push('disconnect', 'online');\r\n\r\n    //\r\n    // Timeout based reconnection should only be enabled conditionally. When\r\n    // authorization is enabled it could trigger.\r\n    //\r\n    if (!this.authorization) options.strategy.push('timeout');\r\n  }\r\n\r\n  options.strategy = options.strategy.join(',').toLowerCase();\r\n\r\n  //\r\n  // Force the use of WebSockets, even when we've detected some potential\r\n  // broken WebSocket implementation.\r\n  //\r\n  if ('websockets' in options) {\r\n    primus.AVOID_WEBSOCKETS = !options.websockets;\r\n  }\r\n\r\n  //\r\n  // Force or disable the use of NETWORK events as leading client side\r\n  // disconnection detection.\r\n  //\r\n  if ('network' in options) {\r\n    primus.NETWORK_EVENTS = options.network;\r\n  }\r\n\r\n  //\r\n  // Check if the user wants to manually initialise a connection. If they don't,\r\n  // we want to do it after a really small timeout so we give the users enough\r\n  // time to listen for `error` events etc.\r\n  //\r\n  if (!options.manual) primus.timers.setTimeout('open', function open() {\r\n    primus.timers.clear('open');\r\n    primus.open();\r\n  }, 0);\r\n\r\n  primus.initialise(options);\r\n}\r\n\r\n/**\r\n * Simple require wrapper to make browserify, node and require.js play nice.\r\n *\r\n * @param {String} name The module to require.\r\n * @returns {Object|Undefined} The module that we required.\r\n * @api private\r\n */\r\nPrimus.require = function requires(name) {\r\n  if ('function' !== typeof _dereq_) return undefined;\r\n\r\n  return !('function' === typeof define && define.amd)\r\n    ? _dereq_(name)\r\n    : undefined;\r\n};\r\n\r\n//\r\n// It's possible that we're running in Node.js or in a Node.js compatible\r\n// environment. In this cases we inherit from the Stream base class.\r\n//\r\nvar Stream;\r\n\r\ntry {\r\n  Primus.Stream = Stream = Primus.require('stream');\r\n\r\n  //\r\n  // Normally inheritance is done in the same way as we do in our catch\r\n  // statement. But due to changes to the EventEmitter interface in Node 0.10\r\n  // this will trigger annoying memory leak warnings and other potential issues\r\n  // outlined in the issue linked below.\r\n  //\r\n  // @see https://github.com/joyent/node/issues/4971\r\n  //\r\n  Primus.require('util').inherits(Primus, Stream);\r\n} catch (e) {\r\n  Primus.Stream = EventEmitter;\r\n  Primus.prototype = new EventEmitter();\r\n}\r\n\r\n/**\r\n * Primus readyStates, used internally to set the correct ready state.\r\n *\r\n * @type {Number}\r\n * @private\r\n */\r\nPrimus.OPENING = 1;   // We're opening the connection.\r\nPrimus.CLOSED  = 2;   // No active connection.\r\nPrimus.OPEN    = 3;   // The connection is open.\r\n\r\n/**\r\n * Are we working with a potentially broken WebSockets implementation? This\r\n * boolean can be used by transformers to remove `WebSockets` from their\r\n * supported transports.\r\n *\r\n * @type {Boolean}\r\n * @private\r\n */\r\nPrimus.prototype.AVOID_WEBSOCKETS = false;\r\n\r\n/**\r\n * Some browsers support registering emitting `online` and `offline` events when\r\n * the connection has been dropped on the client. We're going to detect it in\r\n * a simple `try {} catch (e) {}` statement so we don't have to do complicated\r\n * feature detection.\r\n *\r\n * @type {Boolean}\r\n * @private\r\n */\r\nPrimus.prototype.NETWORK_EVENTS = false;\r\nPrimus.prototype.online = true;\r\n\r\ntry {\r\n  if (\r\n       Primus.prototype.NETWORK_EVENTS = 'onLine' in navigator\r\n    && (window.addEventListener || document.body.attachEvent)\r\n  ) {\r\n    if (!navigator.onLine) {\r\n      Primus.prototype.online = false;\r\n    }\r\n  }\r\n} catch (e) { }\r\n\r\n/**\r\n * The Ark contains all our plugins definitions. It's namespaced by\r\n * name => plugin.\r\n *\r\n * @type {Object}\r\n * @private\r\n */\r\nPrimus.prototype.ark = {};\r\n\r\n/**\r\n * Simple emit wrapper that returns a function that emits an event once it's\r\n * called. This makes it easier for transports to emit specific events.\r\n *\r\n * @returns {Function} A function that will emit the event when called.\r\n * @api public\r\n */\r\nPrimus.prototype.emits = _dereq_('emits');\r\n\r\n/**\r\n * A small wrapper around `emits` to add a default parser when one is not\r\n * supplied. The default parser will defer the emission of the event to make\r\n * sure that the event is emitted at the correct time.\r\n *\r\n * @returns {Function} A function that will emit the event when called.\r\n * @api private\r\n */\r\nPrimus.prototype.trigger = function trigger() {\r\n  for (var i = 0, l = arguments.length, args = new Array(l); i < l; i++) {\r\n    args[i] = arguments[i];\r\n  }\r\n\r\n  if ('function' !== typeof args[l - 1]) args.push(function defer(next) {\r\n    setTimeout(next, 0);\r\n  });\r\n\r\n  return this.emits.apply(this, args);\r\n};\r\n\r\n/**\r\n * Return the given plugin.\r\n *\r\n * @param {String} name The name of the plugin.\r\n * @returns {Object|undefined} The plugin or undefined.\r\n * @api public\r\n */\r\nPrimus.prototype.plugin = function plugin(name) {\r\n  context(this, 'plugin');\r\n\r\n  if (name) return this.ark[name];\r\n\r\n  var plugins = {};\r\n\r\n  for (name in this.ark) {\r\n    plugins[name] = this.ark[name];\r\n  }\r\n\r\n  return plugins;\r\n};\r\n\r\n/**\r\n * Checks if the given event is an emitted event by Primus.\r\n *\r\n * @param {String} evt The event name.\r\n * @returns {Boolean} Indication of the event is reserved for internal use.\r\n * @api public\r\n */\r\nPrimus.prototype.reserved = function reserved(evt) {\r\n  return (/^(incoming|outgoing)::/).test(evt)\r\n  || evt in this.reserved.events;\r\n};\r\n\r\n/**\r\n * The actual events that are used by the client.\r\n *\r\n * @type {Object}\r\n * @public\r\n */\r\nPrimus.prototype.reserved.events = {\r\n  'reconnect scheduled': 1,\r\n  'reconnect timeout': 1,\r\n  'readyStateChange': 1,\r\n  'reconnect failed': 1,\r\n  'reconnected': 1,\r\n  'reconnect': 1,\r\n  'offline': 1,\r\n  'timeout': 1,\r\n  'online': 1,\r\n  'error': 1,\r\n  'close': 1,\r\n  'open': 1,\r\n  'data': 1,\r\n  'end': 1\r\n};\r\n\r\n/**\r\n * Initialise the Primus and setup all parsers and internal listeners.\r\n *\r\n * @param {Object} options The original options object.\r\n * @returns {Primus}\r\n * @api private\r\n */\r\nPrimus.prototype.initialise = function initialise(options) {\r\n  var primus = this\r\n    , start;\r\n\r\n  primus.recovery\r\n  .on('reconnected', primus.emits('reconnected'))\r\n  .on('reconnect failed', primus.emits('reconnect failed', function failed(data) {\r\n    primus.emit('end');\r\n    return data;\r\n  }))\r\n  .on('reconnect timeout', primus.emits('reconnect timeout'))\r\n  .on('reconnect scheduled', primus.emits('reconnect scheduled'))\r\n  .on('reconnect', primus.emits('reconnect', function reconnect(next) {\r\n    primus.emit('outgoing::reconnect');\r\n    next();\r\n  }));\r\n\r\n  primus.on('outgoing::open', function opening() {\r\n    var readyState = primus.readyState;\r\n\r\n    primus.readyState = Primus.OPENING;\r\n    if (readyState !== primus.readyState) {\r\n      primus.emit('readyStateChange', 'opening');\r\n    }\r\n\r\n    start = +new Date();\r\n  });\r\n\r\n  primus.on('incoming::open', function opened() {\r\n    var readyState = primus.readyState;\r\n\r\n    if (primus.recovery.reconnecting()) {\r\n      primus.recovery.reconnected();\r\n    }\r\n\r\n    //\r\n    // The connection has been opened so we should set our state to\r\n    // (writ|read)able so our stream compatibility works as intended.\r\n    //\r\n    primus.writable = true;\r\n    primus.readable = true;\r\n\r\n    //\r\n    // Make sure we are flagged as `online` as we've successfully opened the\r\n    // connection.\r\n    //\r\n    if (!primus.online) {\r\n      primus.online = true;\r\n      primus.emit('online');\r\n    }\r\n\r\n    primus.readyState = Primus.OPEN;\r\n    if (readyState !== primus.readyState) {\r\n      primus.emit('readyStateChange', 'open');\r\n    }\r\n\r\n    primus.latency = +new Date() - start;\r\n    primus.timers.clear('ping', 'pong');\r\n    primus.heartbeat();\r\n\r\n    if (primus.buffer.length) {\r\n      var data = primus.buffer.slice()\r\n        , length = data.length\r\n        , i = 0;\r\n\r\n      primus.buffer.length = 0;\r\n\r\n      for (; i < length; i++) {\r\n        primus._write(data[i]);\r\n      }\r\n    }\r\n\r\n    primus.emit('open');\r\n  });\r\n\r\n  primus.on('incoming::pong', function pong(time) {\r\n    primus.online = true;\r\n    primus.timers.clear('pong');\r\n    primus.heartbeat();\r\n\r\n    primus.latency = (+new Date()) - time;\r\n  });\r\n\r\n  primus.on('incoming::error', function error(e) {\r\n    var connect = primus.timers.active('connect')\r\n      , err = e;\r\n\r\n    //\r\n    // When the error is not an Error instance we try to normalize it.\r\n    //\r\n    if ('string' === typeof e) {\r\n      err = new Error(e);\r\n    } else if (!(e instanceof Error) && 'object' === typeof e) {\r\n      //\r\n      // BrowserChannel and SockJS returns an object which contains some\r\n      // details of the error. In order to have a proper error we \"copy\" the\r\n      // details in an Error instance.\r\n      //\r\n      err = new Error(e.message || e.reason);\r\n      for (var key in e) {\r\n        if (Object.prototype.hasOwnProperty.call(e, key))\r\n          err[key] = e[key];\r\n      }\r\n    }\r\n    //\r\n    // We're still doing a reconnect attempt, it could be that we failed to\r\n    // connect because the server was down. Failing connect attempts should\r\n    // always emit an `error` event instead of a `open` event.\r\n    //\r\n    //\r\n    if (primus.recovery.reconnecting()) return primus.recovery.reconnected(err);\r\n    if (primus.listeners('error').length) primus.emit('error', err);\r\n\r\n    //\r\n    // We received an error while connecting, this most likely the result of an\r\n    // unauthorized access to the server.\r\n    //\r\n    if (connect) {\r\n      if (~primus.options.strategy.indexOf('timeout')) {\r\n        primus.recovery.reconnect();\r\n      } else {\r\n        primus.end();\r\n      }\r\n    }\r\n  });\r\n\r\n  primus.on('incoming::data', function message(raw) {\r\n    primus.decoder(raw, function decoding(err, data) {\r\n      //\r\n      // Do a \"save\" emit('error') when we fail to parse a message. We don't\r\n      // want to throw here as listening to errors should be optional.\r\n      //\r\n      if (err) return primus.listeners('error').length && primus.emit('error', err);\r\n\r\n      //\r\n      // Handle all \"primus::\" prefixed protocol messages.\r\n      //\r\n      if (primus.protocol(data)) return;\r\n      primus.transforms(primus, primus, 'incoming', data, raw);\r\n    });\r\n  });\r\n\r\n  primus.on('incoming::end', function end() {\r\n    var readyState = primus.readyState;\r\n\r\n    //\r\n    // This `end` started with the receiving of a primus::server::close packet\r\n    // which indicated that the user/developer on the server closed the\r\n    // connection and it was not a result of a network disruption. So we should\r\n    // kill the connection without doing a reconnect.\r\n    //\r\n    if (primus.disconnect) {\r\n      primus.disconnect = false;\r\n\r\n      return primus.end();\r\n    }\r\n\r\n    //\r\n    // Always set the readyState to closed, and if we're still connecting, close\r\n    // the connection so we're sure that everything after this if statement block\r\n    // is only executed because our readyState is set to `open`.\r\n    //\r\n    primus.readyState = Primus.CLOSED;\r\n    if (readyState !== primus.readyState) {\r\n      primus.emit('readyStateChange', 'end');\r\n    }\r\n\r\n    if (primus.timers.active('connect')) primus.end();\r\n    if (readyState !== Primus.OPEN) {\r\n      return primus.recovery.reconnecting()\r\n        ? primus.recovery.reconnect()\r\n        : false;\r\n    }\r\n\r\n    this.writable = false;\r\n    this.readable = false;\r\n\r\n    //\r\n    // Clear all timers in case we're not going to reconnect.\r\n    //\r\n    this.timers.clear();\r\n\r\n    //\r\n    // Fire the `close` event as an indication of connection disruption.\r\n    // This is also fired by `primus#end` so it is emitted in all cases.\r\n    //\r\n    primus.emit('close');\r\n\r\n    //\r\n    // The disconnect was unintentional, probably because the server has\r\n    // shutdown, so if the reconnection is enabled start a reconnect procedure.\r\n    //\r\n    if (~primus.options.strategy.indexOf('disconnect')) {\r\n      return primus.recovery.reconnect();\r\n    }\r\n\r\n    primus.emit('outgoing::end');\r\n    primus.emit('end');\r\n  });\r\n\r\n  //\r\n  // Setup the real-time client.\r\n  //\r\n  primus.client();\r\n\r\n  //\r\n  // Process the potential plugins.\r\n  //\r\n  for (var plugin in primus.ark) {\r\n    primus.ark[plugin].call(primus, primus, options);\r\n  }\r\n\r\n  //\r\n  // NOTE: The following code is only required if we're supporting network\r\n  // events as it requires access to browser globals.\r\n  //\r\n  if (!primus.NETWORK_EVENTS) return primus;\r\n\r\n  /**\r\n   * Handler for offline notifications.\r\n   *\r\n   * @api private\r\n   */\r\n  function offline() {\r\n    if (!primus.online) return; // Already or still offline, bailout.\r\n\r\n    primus.online = false;\r\n    primus.emit('offline');\r\n    primus.end();\r\n\r\n    //\r\n    // It is certainly possible that we're in a reconnection loop and that the\r\n    // user goes offline. In this case we want to kill the existing attempt so\r\n    // when the user goes online, it will attempt to reconnect freshly again.\r\n    //\r\n    primus.recovery.reset();\r\n  }\r\n\r\n  /**\r\n   * Handler for online notifications.\r\n   *\r\n   * @api private\r\n   */\r\n  function online() {\r\n    if (primus.online) return; // Already or still online, bailout.\r\n\r\n    primus.online = true;\r\n    primus.emit('online');\r\n\r\n    if (~primus.options.strategy.indexOf('online')) {\r\n      primus.recovery.reconnect();\r\n    }\r\n  }\r\n\r\n  if (window.addEventListener) {\r\n    window.addEventListener('offline', offline, false);\r\n    window.addEventListener('online', online, false);\r\n  } else if (document.body.attachEvent){\r\n    document.body.attachEvent('onoffline', offline);\r\n    document.body.attachEvent('ononline', online);\r\n  }\r\n\r\n  return primus;\r\n};\r\n\r\n/**\r\n * Really dead simple protocol parser. We simply assume that every message that\r\n * is prefixed with `primus::` could be used as some sort of protocol definition\r\n * for Primus.\r\n *\r\n * @param {String} msg The data.\r\n * @returns {Boolean} Is a protocol message.\r\n * @api private\r\n */\r\nPrimus.prototype.protocol = function protocol(msg) {\r\n  if (\r\n       'string' !== typeof msg\r\n    || msg.indexOf('primus::') !== 0\r\n  ) return false;\r\n\r\n  var last = msg.indexOf(':', 8)\r\n    , value = msg.slice(last + 2);\r\n\r\n  switch (msg.slice(8,  last)) {\r\n    case 'pong':\r\n      this.emit('incoming::pong', +value);\r\n    break;\r\n\r\n    case 'server':\r\n      //\r\n      // The server is closing the connection, forcefully disconnect so we don't\r\n      // reconnect again.\r\n      //\r\n      if ('close' === value) {\r\n        this.disconnect = true;\r\n      }\r\n    break;\r\n\r\n    case 'id':\r\n      this.emit('incoming::id', value);\r\n    break;\r\n\r\n    //\r\n    // Unknown protocol, somebody is probably sending `primus::` prefixed\r\n    // messages.\r\n    //\r\n    default:\r\n      return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Execute the set of message transformers from Primus on the incoming or\r\n * outgoing message.\r\n * This function and it's content should be in sync with Spark#transforms in\r\n * spark.js.\r\n *\r\n * @param {Primus} primus Reference to the Primus instance with message transformers.\r\n * @param {Spark|Primus} connection Connection that receives or sends data.\r\n * @param {String} type The type of message, 'incoming' or 'outgoing'.\r\n * @param {Mixed} data The data to send or that has been received.\r\n * @param {String} raw The raw encoded data.\r\n * @returns {Primus}\r\n * @api public\r\n */\r\nPrimus.prototype.transforms = function transforms(primus, connection, type, data, raw) {\r\n  var packet = { data: data }\r\n    , fns = primus.transformers[type];\r\n\r\n  //\r\n  // Iterate in series over the message transformers so we can allow optional\r\n  // asynchronous execution of message transformers which could for example\r\n  // retrieve additional data from the server, do extra decoding or even\r\n  // message validation.\r\n  //\r\n  (function transform(index, done) {\r\n    var transformer = fns[index++];\r\n\r\n    if (!transformer) return done();\r\n\r\n    if (1 === transformer.length) {\r\n      if (false === transformer.call(connection, packet)) {\r\n        //\r\n        // When false is returned by an incoming transformer it means that's\r\n        // being handled by the transformer and we should not emit the `data`\r\n        // event.\r\n        //\r\n        return;\r\n      }\r\n\r\n      return transform(index, done);\r\n    }\r\n\r\n    transformer.call(connection, packet, function finished(err, arg) {\r\n      if (err) return connection.emit('error', err);\r\n      if (false === arg) return;\r\n\r\n      transform(index, done);\r\n    });\r\n  }(0, function done() {\r\n    //\r\n    // We always emit 2 arguments for the data event, the first argument is the\r\n    // parsed data and the second argument is the raw string that we received.\r\n    // This allows you, for example, to do some validation on the parsed data\r\n    // and then save the raw string in your database without the stringify\r\n    // overhead.\r\n    //\r\n    if ('incoming' === type) return connection.emit('data', packet.data, raw);\r\n\r\n    connection._write(packet.data);\r\n  }));\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Retrieve the current id from the server.\r\n *\r\n * @param {Function} fn Callback function.\r\n * @returns {Primus}\r\n * @api public\r\n */\r\nPrimus.prototype.id = function id(fn) {\r\n  if (this.socket && this.socket.id) return fn(this.socket.id);\r\n\r\n  this._write('primus::id::');\r\n  return this.once('incoming::id', fn);\r\n};\r\n\r\n/**\r\n * Establish a connection with the server. When this function is called we\r\n * assume that we don't have any open connections. If you do call it when you\r\n * have a connection open, it could cause duplicate connections.\r\n *\r\n * @returns {Primus}\r\n * @api public\r\n */\r\nPrimus.prototype.open = function open() {\r\n  context(this, 'open');\r\n\r\n  //\r\n  // Only start a `connection timeout` procedure if we're not reconnecting as\r\n  // that shouldn't count as an initial connection. This should be started\r\n  // before the connection is opened to capture failing connections and kill the\r\n  // timeout.\r\n  //\r\n  if (!this.recovery.reconnecting() && this.options.timeout) this.timeout();\r\n\r\n  this.emit('outgoing::open');\r\n  return this;\r\n};\r\n\r\n/**\r\n * Send a new message.\r\n *\r\n * @param {Mixed} data The data that needs to be written.\r\n * @returns {Boolean} Always returns true as we don't support back pressure.\r\n * @api public\r\n */\r\nPrimus.prototype.write = function write(data) {\r\n  context(this, 'write');\r\n  this.transforms(this, this, 'outgoing', data);\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * The actual message writer.\r\n *\r\n * @param {Mixed} data The message that needs to be written.\r\n * @returns {Boolean} Successful write to the underlaying transport.\r\n * @api private\r\n */\r\nPrimus.prototype._write = function write(data) {\r\n  var primus = this;\r\n\r\n  //\r\n  // The connection is closed, normally this would already be done in the\r\n  // `spark.write` method, but as `_write` is used internally, we should also\r\n  // add the same check here to prevent potential crashes by writing to a dead\r\n  // socket.\r\n  //\r\n  if (Primus.OPEN !== primus.readyState) {\r\n    //\r\n    // If the buffer is at capacity, remove the first item.\r\n    //\r\n    if (this.buffer.length === this.options.queueSize) {\r\n      this.buffer.splice(0, 1);\r\n    }\r\n\r\n    this.buffer.push(data);\r\n    return false;\r\n  }\r\n\r\n  primus.encoder(data, function encoded(err, packet) {\r\n    //\r\n    // Do a \"safe\" emit('error') when we fail to parse a message. We don't\r\n    // want to throw here as listening to errors should be optional.\r\n    //\r\n    if (err) return primus.listeners('error').length && primus.emit('error', err);\r\n\r\n    //\r\n    // Hack 1: \\u2028 and \\u2029 are allowed inside a JSON string, but JavaScript\r\n    // defines them as newline separators. Unescaped control characters are not\r\n    // allowed inside JSON strings, so this causes an error at parse time. We\r\n    // work around this issue by escaping these characters. This can cause\r\n    // errors with JSONP requests or if the string is just evaluated.\r\n    //\r\n    if ('string' === typeof packet) {\r\n      if (~packet.indexOf('\\u2028')) packet = packet.replace(u2028, '\\\\u2028');\r\n      if (~packet.indexOf('\\u2029')) packet = packet.replace(u2029, '\\\\u2029');\r\n    }\r\n\r\n    primus.emit('outgoing::data', packet);\r\n  });\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Send a new heartbeat over the connection to ensure that we're still\r\n * connected and our internet connection didn't drop. We cannot use server side\r\n * heartbeats for this unfortunately.\r\n *\r\n * @returns {Primus}\r\n * @api private\r\n */\r\nPrimus.prototype.heartbeat = function heartbeat() {\r\n  var primus = this;\r\n\r\n  if (!primus.options.ping) return primus;\r\n\r\n  /**\r\n   * Exterminate the connection as we've timed out.\r\n   *\r\n   * @api private\r\n   */\r\n  function pong() {\r\n    primus.timers.clear('pong');\r\n\r\n    //\r\n    // The network events already captured the offline event.\r\n    //\r\n    if (!primus.online) return;\r\n\r\n    primus.online = false;\r\n    primus.emit('offline');\r\n    primus.emit('incoming::end');\r\n  }\r\n\r\n  /**\r\n   * We should send a ping message to the server.\r\n   *\r\n   * @api private\r\n   */\r\n  function ping() {\r\n    var value = +new Date();\r\n\r\n    primus.timers.clear('ping');\r\n    primus._write('primus::ping::'+ value);\r\n    primus.emit('outgoing::ping', value);\r\n    primus.timers.setTimeout('pong', pong, primus.options.pong);\r\n  }\r\n\r\n  primus.timers.setTimeout('ping', ping, primus.options.ping);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Start a connection timeout.\r\n *\r\n * @returns {Primus}\r\n * @api private\r\n */\r\nPrimus.prototype.timeout = function timeout() {\r\n  var primus = this;\r\n\r\n  /**\r\n   * Remove all references to the timeout listener as we've received an event\r\n   * that can be used to determine state.\r\n   *\r\n   * @api private\r\n   */\r\n  function remove() {\r\n    primus.removeListener('error', remove)\r\n          .removeListener('open', remove)\r\n          .removeListener('end', remove)\r\n          .timers.clear('connect');\r\n  }\r\n\r\n  primus.timers.setTimeout('connect', function expired() {\r\n    remove(); // Clean up old references.\r\n\r\n    if (primus.readyState === Primus.OPEN || primus.recovery.reconnecting()) {\r\n      return;\r\n    }\r\n\r\n    primus.emit('timeout');\r\n\r\n    //\r\n    // We failed to connect to the server.\r\n    //\r\n    if (~primus.options.strategy.indexOf('timeout')) {\r\n      primus.recovery.reconnect();\r\n    } else {\r\n      primus.end();\r\n    }\r\n  }, primus.options.timeout);\r\n\r\n  return primus.on('error', remove)\r\n    .on('open', remove)\r\n    .on('end', remove);\r\n};\r\n\r\n/**\r\n * Close the connection completely.\r\n *\r\n * @param {Mixed} data last packet of data.\r\n * @returns {Primus}\r\n * @api public\r\n */\r\nPrimus.prototype.end = function end(data) {\r\n  context(this, 'end');\r\n\r\n  if (\r\n      this.readyState === Primus.CLOSED\r\n    && !this.timers.active('connect')\r\n    && !this.timers.active('open')\r\n  ) {\r\n    //\r\n    // If we are reconnecting stop the reconnection procedure.\r\n    //\r\n    if (this.recovery.reconnecting()) {\r\n      this.recovery.reset();\r\n      this.emit('end');\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  if (data !== undefined) this.write(data);\r\n\r\n  this.writable = false;\r\n  this.readable = false;\r\n\r\n  var readyState = this.readyState;\r\n  this.readyState = Primus.CLOSED;\r\n\r\n  if (readyState !== this.readyState) {\r\n    this.emit('readyStateChange', 'end');\r\n  }\r\n\r\n  this.timers.clear();\r\n  this.emit('outgoing::end');\r\n  this.emit('close');\r\n  this.emit('end');\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Completely demolish the Primus instance and forcefully nuke all references.\r\n *\r\n * @returns {Boolean}\r\n * @api public\r\n */\r\nPrimus.prototype.destroy = destroy('url timers options recovery socket transport transformers', {\r\n  before: 'end',\r\n  after: 'removeAllListeners'\r\n});\r\n\r\n/**\r\n * Create a shallow clone of a given object.\r\n *\r\n * @param {Object} obj The object that needs to be cloned.\r\n * @returns {Object} Copy.\r\n * @api private\r\n */\r\nPrimus.prototype.clone = function clone(obj) {\r\n  return this.merge({}, obj);\r\n};\r\n\r\n/**\r\n * Merge different objects in to one target object.\r\n *\r\n * @param {Object} target The object where everything should be merged in.\r\n * @returns {Object} Original target with all merged objects.\r\n * @api private\r\n */\r\nPrimus.prototype.merge = function merge(target) {\r\n  var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n  for (var i = 0, l = args.length, key, obj; i < l; i++) {\r\n    obj = args[i];\r\n\r\n    for (key in obj) {\r\n      if (obj.hasOwnProperty(key)) target[key] = obj[key];\r\n    }\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n/**\r\n * Parse the connection string.\r\n *\r\n * @type {Function}\r\n * @param {String} url Connection URL.\r\n * @returns {Object} Parsed connection.\r\n * @api private\r\n */\r\nPrimus.prototype.parse = _dereq_('url-parse');\r\n\r\n/**\r\n * Parse a query string.\r\n *\r\n * @param {String} query The query string that needs to be parsed.\r\n * @returns {Object} Parsed query string.\r\n * @api private\r\n */\r\nPrimus.prototype.querystring = qs.parse;\r\n/**\r\n * Transform a query string object back into string equiv.\r\n *\r\n * @param {Object} obj The query string object.\r\n * @returns {String}\r\n * @api private\r\n */\r\nPrimus.prototype.querystringify = qs.stringify;\r\n\r\n/**\r\n * Generates a connection URI.\r\n *\r\n * @param {String} protocol The protocol that should used to crate the URI.\r\n * @returns {String|options} The URL.\r\n * @api private\r\n */\r\nPrimus.prototype.uri = function uri(options) {\r\n  var url = this.url\r\n    , server = []\r\n    , qsa = false;\r\n\r\n  //\r\n  // Query strings are only allowed when we've received clearance for it.\r\n  //\r\n  if (options.query) qsa = true;\r\n\r\n  options = options || {};\r\n  options.protocol = 'protocol' in options\r\n    ? options.protocol\r\n    : 'http:';\r\n  options.query = url.query && qsa\r\n    ? url.query.slice(1)\r\n    : false;\r\n  options.secure = 'secure' in options\r\n    ? options.secure\r\n    : url.protocol === 'https:' || url.protocol === 'wss:';\r\n  options.auth = 'auth' in options\r\n    ? options.auth\r\n    : url.auth;\r\n  options.pathname = 'pathname' in options\r\n    ? options.pathname\r\n    : this.pathname;\r\n  options.port = 'port' in options\r\n    ? +options.port\r\n    : +url.port || (options.secure ? 443 : 80);\r\n\r\n  //\r\n  // Allow transformation of the options before we construct a full URL from it.\r\n  //\r\n  this.emit('outgoing::url', options);\r\n\r\n  //\r\n  // We need to make sure that we create a unique connection URL every time to\r\n  // prevent back forward cache from becoming an issue. We're doing this by\r\n  // forcing an cache busting query string in to the URL.\r\n  //\r\n  var querystring = this.querystring(options.query || '');\r\n  querystring._primuscb = +new Date() +'-'+ this.stamps++;\r\n  options.query = this.querystringify(querystring);\r\n\r\n  //\r\n  // Automatically suffix the protocol so we can supply `ws:` and `http:` and\r\n  // it gets transformed correctly.\r\n  //\r\n  server.push(options.secure ? options.protocol.replace(':', 's:') : options.protocol, '');\r\n\r\n  server.push(options.auth ? options.auth +'@'+ url.host : url.host);\r\n\r\n  //\r\n  // Pathnames are optional as some Transformers would just use the pathname\r\n  // directly.\r\n  //\r\n  if (options.pathname) server.push(options.pathname.slice(1));\r\n\r\n  //\r\n  // Optionally add a search query.\r\n  //\r\n  if (qsa) server.push('?'+ options.query);\r\n  else delete options.query;\r\n\r\n  if (options.object) return options;\r\n  return server.join('/');\r\n};\r\n\r\n/**\r\n * Register a new message transformer. This allows you to easily manipulate incoming\r\n * and outgoing data which is particularity handy for plugins that want to send\r\n * meta data together with the messages.\r\n *\r\n * @param {String} type Incoming or outgoing\r\n * @param {Function} fn A new message transformer.\r\n * @returns {Primus}\r\n * @api public\r\n */\r\nPrimus.prototype.transform = function transform(type, fn) {\r\n  context(this, 'transform');\r\n\r\n  if (!(type in this.transformers)) {\r\n    return this.critical(new Error('Invalid transformer type'));\r\n  }\r\n\r\n  this.transformers[type].push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * A critical error has occurred, if we have an `error` listener, emit it there.\r\n * If not, throw it, so we get a stack trace + proper error message.\r\n *\r\n * @param {Error} err The critical error.\r\n * @returns {Primus}\r\n * @api private\r\n */\r\nPrimus.prototype.critical = function critical(err) {\r\n  if (this.listeners('error').length) {\r\n    this.emit('error', err);\r\n    return this;\r\n  }\r\n\r\n  throw err;\r\n};\r\n\r\n/**\r\n * Syntax sugar, adopt a Socket.IO like API.\r\n *\r\n * @param {String} url The URL we want to connect to.\r\n * @param {Object} options Connection options.\r\n * @returns {Primus}\r\n * @api public\r\n */\r\nPrimus.connect = function connect(url, options) {\r\n  return new Primus(url, options);\r\n};\r\n\r\n//\r\n// Expose the EventEmitter so it can be re-used by wrapping libraries we're also\r\n// exposing the Stream interface.\r\n//\r\nPrimus.EventEmitter = EventEmitter;\r\n\r\n//\r\n// These libraries are automatically are automatically inserted at the\r\n// server-side using the Primus#library method.\r\n//\r\nPrimus.prototype.client = function client() {\r\n  var primus = this\r\n    , socket;\r\n\r\n  //\r\n  // Select an available SockJS factory.\r\n  //\r\n  var Factory = (function Factory() {\r\n    if ('undefined' !== typeof SockJS) return SockJS;\r\n\r\n    try { return Primus.require('sockjs-client'); }\r\n    catch (e) {}\r\n\r\n    return undefined;\r\n  })();\r\n\r\n  if (!Factory) return primus.critical(new Error(\r\n    'Missing required `sockjs-client` module. ' +\r\n    'Please run `npm install --save sockjs-client`'\r\n  ));\r\n\r\n  //\r\n  // Connect to the given URL.\r\n  //\r\n  primus.on('outgoing::open', function opening() {\r\n    primus.emit('outgoing::end');\r\n\r\n    primus.socket = socket = new Factory(\r\n      primus.uri({ protocol: 'http:', query: true }),\r\n      null,\r\n      primus.merge(primus.transport, {\r\n      info: {\r\n        websocket: !primus.AVOID_WEBSOCKETS,  // Prevent WebSocket crashes\r\n        cookie_needed: true                   // Disables xdomainrequest bugs\r\n      }\r\n    }));\r\n\r\n    //\r\n    // Setup the Event handlers.\r\n    //\r\n    socket.onopen = primus.trigger('incoming::open');\r\n    socket.onerror = primus.trigger('incoming::error');\r\n    socket.onclose = function (e) {\r\n      //\r\n      // The timeout replicates the behaviour of primus.trigger so we're not\r\n      // affected by any timing bugs.\r\n      //\r\n      setTimeout(function timeout() {\r\n        if (e && e.code > 1000) primus.emit('incoming::error', e);\r\n        primus.emit('incoming::end');\r\n      }, 0);\r\n    };\r\n    socket.onmessage = primus.trigger('incoming::data', function parse(next, evt) {\r\n      setTimeout(function defer() {\r\n        next(undefined, evt.data);\r\n      }, 0);\r\n    });\r\n  });\r\n\r\n  //\r\n  // We need to write a new message to the socket.\r\n  //\r\n  primus.on('outgoing::data', function write(message) {\r\n    if (socket) socket.send(message);\r\n  });\r\n\r\n  //\r\n  // Attempt to reconnect the socket.\r\n  //\r\n  primus.on('outgoing::reconnect', function reconnect() {\r\n    primus.emit('outgoing::open');\r\n  });\r\n\r\n  //\r\n  // We need to close the socket.\r\n  //\r\n  primus.on('outgoing::end', function close() {\r\n    if (!socket) return;\r\n\r\n    socket.onerror = socket.onopen = socket.onclose = socket.onmessage = function () {};\r\n    socket.close();\r\n    socket = null;\r\n  });\r\n};\r\nPrimus.prototype.authorization = false;\r\nPrimus.prototype.pathname = \"/primus\";\r\nPrimus.prototype.encoder = function encoder(data, fn) {\r\n  var err;\r\n\r\n  try { data = JSON.stringify(data); }\r\n  catch (e) { err = e; }\r\n\r\n  fn(err, data);\r\n};\r\nPrimus.prototype.decoder = function decoder(data, fn) {\r\n  var err;\r\n\r\n  if ('string' !== typeof data) return fn(err, data);\r\n\r\n  try { data = JSON.parse(data); }\r\n  catch (e) { err = e; }\r\n\r\n  fn(err, data);\r\n};\r\nPrimus.prototype.version = \"3.1.1\";\r\n\r\nif (\r\n     'undefined' !== typeof document\r\n  && 'undefined' !== typeof navigator\r\n) {\r\n  //\r\n  // Hack 2: If you press ESC in FireFox it will close all active connections.\r\n  // Normally this makes sense, when your page is still loading. But versions\r\n  // before FireFox 22 will close all connections including WebSocket connections\r\n  // after page load. One way to prevent this is to do a `preventDefault()` and\r\n  // cancel the operation before it bubbles up to the browsers default handler.\r\n  // It needs to be added as `keydown` event, if it's added keyup it will not be\r\n  // able to prevent the connection from being closed.\r\n  //\r\n  if (document.addEventListener) {\r\n    document.addEventListener('keydown', function keydown(e) {\r\n      if (e.keyCode !== 27 || !e.preventDefault) return;\r\n\r\n      e.preventDefault();\r\n    }, false);\r\n  }\r\n\r\n  //\r\n  // Hack 3: This is a Mac/Apple bug only, when you're behind a reverse proxy or\r\n  // have you network settings set to `automatic proxy discovery` the safari\r\n  // browser will crash when the WebSocket constructor is initialised. There is\r\n  // no way to detect the usage of these proxies available in JavaScript so we\r\n  // need to do some nasty browser sniffing. This only affects Safari versions\r\n  // lower then 5.1.4\r\n  //\r\n  var ua = (navigator.userAgent || '').toLowerCase()\r\n    , parsed = ua.match(/.+(?:rv|it|ra|ie)[\\/: ](\\d+)\\.(\\d+)(?:\\.(\\d+))?/) || []\r\n    , version = +[parsed[1], parsed[2]].join('.');\r\n\r\n  if (\r\n       !~ua.indexOf('chrome')\r\n    && ~ua.indexOf('safari')\r\n    && version < 534.54\r\n  ) {\r\n    Primus.prototype.AVOID_WEBSOCKETS = true;\r\n  }\r\n}\r\n\r\n//\r\n// Expose the library.\r\n//\r\nmodule.exports = Primus;\r\n\r\n},{\"demolish\":1,\"emits\":2,\"eventemitter3\":3,\"querystringify\":4,\"recovery\":5,\"tick-tock\":8,\"url-parse\":10}]},{},[13])(13);\r\nPrimus.prototype.ark[\"emit\"] = function client(primus) {\r\n  var toString = Object.prototype.toString\r\n    , emit = primus.emit;\r\n\r\n  primus.transform('incoming', function incoming(packet) {\r\n    var data = packet.data;\r\n\r\n    if (\r\n         'object' !== typeof data                       // Events are objects.\r\n      || !~toString.call(data.emit).indexOf(' Array]')  // Not an emit object.\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    //\r\n    // Check if we've received an event that is already used internally.\r\n    // We use our previously saved `emit` function to emit the event so we\r\n    // prevent recursion and message flood.\r\n    //\r\n    if (!this.reserved(data.emit[0])) emit.apply(primus, data.emit);\r\n\r\n    return false;\r\n  });\r\n\r\n  primus.emit = function emitter(event) {\r\n    if (\r\n         primus.reserved(event)\r\n      || 'newListener' === event\r\n      || 'removeListener' === event\r\n    ) return emit.apply(this, arguments);\r\n\r\n    primus.write({ emit: Array.prototype.slice.call(arguments, 0) });\r\n    return true;\r\n  };\r\n};\r\n  return Primus;\r\n});\r\n\r\n(function libraryWrap(Primus) {\r\n(function(f){var g;if(typeof window!=='undefined'){g=window}else if(typeof self!=='undefined'){g=self}g.SockJS=f()})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar transportList = _dereq_('./transport-list');\r\n\r\nmodule.exports = _dereq_('./main')(transportList);\r\n\r\n// TODO can't get rid of this until all servers do\r\nif ('_sockjs_onload' in global) {\r\n  setTimeout(global._sockjs_onload, 1);\r\n}\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./main\":14,\"./transport-list\":16}],2:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , Event = _dereq_('./event')\r\n  ;\r\n\r\nfunction CloseEvent() {\r\n  Event.call(this);\r\n  this.initEvent('close', false, false);\r\n  this.wasClean = false;\r\n  this.code = 0;\r\n  this.reason = '';\r\n}\r\n\r\ninherits(CloseEvent, Event);\r\n\r\nmodule.exports = CloseEvent;\r\n\r\n},{\"./event\":4,\"inherits\":54}],3:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , EventTarget = _dereq_('./eventtarget')\r\n  ;\r\n\r\nfunction EventEmitter() {\r\n  EventTarget.call(this);\r\n}\r\n\r\ninherits(EventEmitter, EventTarget);\r\n\r\nEventEmitter.prototype.removeAllListeners = function(type) {\r\n  if (type) {\r\n    delete this._listeners[type];\r\n  } else {\r\n    this._listeners = {};\r\n  }\r\n};\r\n\r\nEventEmitter.prototype.once = function(type, listener) {\r\n  var self = this\r\n    , fired = false;\r\n\r\n  function g() {\r\n    self.removeListener(type, g);\r\n\r\n    if (!fired) {\r\n      fired = true;\r\n      listener.apply(this, arguments);\r\n    }\r\n  }\r\n\r\n  this.on(type, g);\r\n};\r\n\r\nEventEmitter.prototype.emit = function(type) {\r\n  var listeners = this._listeners[type];\r\n  if (!listeners) {\r\n    return;\r\n  }\r\n  var args = Array.prototype.slice.call(arguments, 1);\r\n  for (var i = 0; i < listeners.length; i++) {\r\n    listeners[i].apply(this, args);\r\n  }\r\n};\r\n\r\nEventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;\r\nEventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;\r\n\r\nmodule.exports.EventEmitter = EventEmitter;\r\n\r\n},{\"./eventtarget\":5,\"inherits\":54}],4:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nfunction Event(eventType) {\r\n  this.type = eventType;\r\n}\r\n\r\nEvent.prototype.initEvent = function(eventType, canBubble, cancelable) {\r\n  this.type = eventType;\r\n  this.bubbles = canBubble;\r\n  this.cancelable = cancelable;\r\n  this.timeStamp = +new Date();\r\n  return this;\r\n};\r\n\r\nEvent.prototype.stopPropagation = function() {};\r\nEvent.prototype.preventDefault  = function() {};\r\n\r\nEvent.CAPTURING_PHASE = 1;\r\nEvent.AT_TARGET       = 2;\r\nEvent.BUBBLING_PHASE  = 3;\r\n\r\nmodule.exports = Event;\r\n\r\n},{}],5:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n/* Simplified implementation of DOM2 EventTarget.\r\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\r\n */\r\n\r\nfunction EventTarget() {\r\n  this._listeners = {};\r\n}\r\n\r\nEventTarget.prototype.addEventListener = function(eventType, listener) {\r\n  if (!(eventType in this._listeners)) {\r\n    this._listeners[eventType] = [];\r\n  }\r\n  var arr = this._listeners[eventType];\r\n  // #4\r\n  if (arr.indexOf(listener) === -1) {\r\n    // Make a copy so as not to interfere with a current dispatchEvent.\r\n    arr = arr.concat([listener]);\r\n  }\r\n  this._listeners[eventType] = arr;\r\n};\r\n\r\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\r\n  var arr = this._listeners[eventType];\r\n  if (!arr) {\r\n    return;\r\n  }\r\n  var idx = arr.indexOf(listener);\r\n  if (idx !== -1) {\r\n    if (arr.length > 1) {\r\n      // Make a copy so as not to interfere with a current dispatchEvent.\r\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\r\n    } else {\r\n      delete this._listeners[eventType];\r\n    }\r\n    return;\r\n  }\r\n};\r\n\r\nEventTarget.prototype.dispatchEvent = function(event) {\r\n  var t = event.type;\r\n  var args = Array.prototype.slice.call(arguments, 0);\r\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\r\n  // their place in line from the /first/ time they're set from\r\n  // non-null. Although WebKit bumps it to the end every time it's\r\n  // set.\r\n  if (this['on' + t]) {\r\n    this['on' + t].apply(this, args);\r\n  }\r\n  if (t in this._listeners) {\r\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\r\n    var listeners = this._listeners[t];\r\n    for (var i = 0; i < listeners.length; i++) {\r\n      listeners[i].apply(this, args);\r\n    }\r\n  }\r\n};\r\n\r\nmodule.exports = EventTarget;\r\n\r\n},{}],6:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , Event = _dereq_('./event')\r\n  ;\r\n\r\nfunction TransportMessageEvent(data) {\r\n  Event.call(this);\r\n  this.initEvent('message', false, false);\r\n  this.data = data;\r\n}\r\n\r\ninherits(TransportMessageEvent, Event);\r\n\r\nmodule.exports = TransportMessageEvent;\r\n\r\n},{\"./event\":4,\"inherits\":54}],7:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar JSON3 = _dereq_('json3')\r\n  , iframeUtils = _dereq_('./utils/iframe')\r\n  ;\r\n\r\nfunction FacadeJS(transport) {\r\n  this._transport = transport;\r\n  transport.on('message', this._transportMessage.bind(this));\r\n  transport.on('close', this._transportClose.bind(this));\r\n}\r\n\r\nFacadeJS.prototype._transportClose = function(code, reason) {\r\n  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));\r\n};\r\nFacadeJS.prototype._transportMessage = function(frame) {\r\n  iframeUtils.postMessage('t', frame);\r\n};\r\nFacadeJS.prototype._send = function(data) {\r\n  this._transport.send(data);\r\n};\r\nFacadeJS.prototype._close = function() {\r\n  this._transport.close();\r\n  this._transport.removeAllListeners();\r\n};\r\n\r\nmodule.exports = FacadeJS;\r\n\r\n},{\"./utils/iframe\":47,\"json3\":55}],8:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar urlUtils = _dereq_('./utils/url')\r\n  , eventUtils = _dereq_('./utils/event')\r\n  , JSON3 = _dereq_('json3')\r\n  , FacadeJS = _dereq_('./facade')\r\n  , InfoIframeReceiver = _dereq_('./info-iframe-receiver')\r\n  , iframeUtils = _dereq_('./utils/iframe')\r\n  , loc = _dereq_('./location')\r\n  ;\r\n\r\nmodule.exports = function(SockJS, availableTransports) {\r\n  var transportMap = {};\r\n  availableTransports.forEach(function(at) {\r\n    if (at.facadeTransport) {\r\n      transportMap[at.facadeTransport.transportName] = at.facadeTransport;\r\n    }\r\n  });\r\n\r\n  // hard-coded for the info iframe\r\n  // TODO see if we can make this more dynamic\r\n  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;\r\n  var parentOrigin;\r\n\r\n  /* eslint-disable camelcase */\r\n  SockJS.bootstrap_iframe = function() {\r\n    /* eslint-enable camelcase */\r\n    var facade;\r\n    iframeUtils.currentWindowId = loc.hash.slice(1);\r\n    var onMessage = function(e) {\r\n      if (e.source !== parent) {\r\n        return;\r\n      }\r\n      if (typeof parentOrigin === 'undefined') {\r\n        parentOrigin = e.origin;\r\n      }\r\n      if (e.origin !== parentOrigin) {\r\n        return;\r\n      }\r\n\r\n      var iframeMessage;\r\n      try {\r\n        iframeMessage = JSON3.parse(e.data);\r\n      } catch (ignored) {\r\n        return;\r\n      }\r\n\r\n      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {\r\n        return;\r\n      }\r\n      switch (iframeMessage.type) {\r\n      case 's':\r\n        var p;\r\n        try {\r\n          p = JSON3.parse(iframeMessage.data);\r\n        } catch (ignored) {\r\n          break;\r\n        }\r\n        var version = p[0];\r\n        var transport = p[1];\r\n        var transUrl = p[2];\r\n        var baseUrl = p[3];\r\n        // change this to semver logic\r\n        if (version !== SockJS.version) {\r\n          throw new Error('Incompatibile SockJS! Main site uses:' +\r\n                    ' \"' + version + '\", the iframe:' +\r\n                    ' \"' + SockJS.version + '\".');\r\n        }\r\n\r\n        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||\r\n            !urlUtils.isOriginEqual(baseUrl, loc.href)) {\r\n          throw new Error('Can\\'t connect to different domain from within an ' +\r\n                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');\r\n        }\r\n        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));\r\n        break;\r\n      case 'm':\r\n        facade._send(iframeMessage.data);\r\n        break;\r\n      case 'c':\r\n        if (facade) {\r\n          facade._close();\r\n        }\r\n        facade = null;\r\n        break;\r\n      }\r\n    };\r\n\r\n    eventUtils.attachEvent('message', onMessage);\r\n\r\n    // Start\r\n    iframeUtils.postMessage('s');\r\n  };\r\n};\r\n\r\n},{\"./facade\":7,\"./info-iframe-receiver\":10,\"./location\":13,\"./utils/event\":46,\"./utils/iframe\":47,\"./utils/url\":52,\"json3\":55}],9:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('events').EventEmitter\r\n  , inherits = _dereq_('inherits')\r\n  , JSON3 = _dereq_('json3')\r\n  , objectUtils = _dereq_('./utils/object')\r\n  ;\r\n\r\nfunction InfoAjax(url, AjaxObject) {\r\n  EventEmitter.call(this);\r\n\r\n  var self = this;\r\n  var t0 = +new Date();\r\n  this.xo = new AjaxObject('GET', url);\r\n\r\n  this.xo.once('finish', function(status, text) {\r\n    var info, rtt;\r\n    if (status === 200) {\r\n      rtt = (+new Date()) - t0;\r\n      if (text) {\r\n        try {\r\n          info = JSON3.parse(text);\r\n        } catch (e) {\r\n        }\r\n      }\r\n\r\n      if (!objectUtils.isObject(info)) {\r\n        info = {};\r\n      }\r\n    }\r\n    self.emit('finish', info, rtt);\r\n    self.removeAllListeners();\r\n  });\r\n}\r\n\r\ninherits(InfoAjax, EventEmitter);\r\n\r\nInfoAjax.prototype.close = function() {\r\n  this.removeAllListeners();\r\n  this.xo.close();\r\n};\r\n\r\nmodule.exports = InfoAjax;\r\n\r\n},{\"./utils/object\":49,\"events\":3,\"inherits\":54,\"json3\":55}],10:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  , JSON3 = _dereq_('json3')\r\n  , XHRLocalObject = _dereq_('./transport/sender/xhr-local')\r\n  , InfoAjax = _dereq_('./info-ajax')\r\n  ;\r\n\r\nfunction InfoReceiverIframe(transUrl, baseUrl) {\r\n  var self = this;\r\n  EventEmitter.call(this);\r\n\r\n  this.ir = new InfoAjax(baseUrl, XHRLocalObject);\r\n  this.ir.once('finish', function(info, rtt) {\r\n    self.ir = null;\r\n    self.emit('message', JSON3.stringify([info, rtt]));\r\n  });\r\n}\r\n\r\ninherits(InfoReceiverIframe, EventEmitter);\r\n\r\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\r\n\r\nInfoReceiverIframe.prototype.close = function() {\r\n  if (this.ir) {\r\n    this.ir.close();\r\n    this.ir = null;\r\n  }\r\n  this.removeAllListeners();\r\n};\r\n\r\nmodule.exports = InfoReceiverIframe;\r\n\r\n},{\"./info-ajax\":9,\"./transport/sender/xhr-local\":37,\"events\":3,\"inherits\":54,\"json3\":55}],11:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('events').EventEmitter\r\n  , inherits = _dereq_('inherits')\r\n  , JSON3 = _dereq_('json3')\r\n  , utils = _dereq_('./utils/event')\r\n  , IframeTransport = _dereq_('./transport/iframe')\r\n  , InfoReceiverIframe = _dereq_('./info-iframe-receiver')\r\n  ;\r\n\r\nfunction InfoIframe(url) {\r\n  var self = this;\r\n  EventEmitter.call(this);\r\n\r\n  var go = function() {\r\n    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, url);\r\n\r\n    ifr.once('message', function(msg) {\r\n      if (msg) {\r\n        var d;\r\n        try {\r\n          d = JSON3.parse(msg);\r\n        } catch (e) {\r\n          self.emit('finish');\r\n          self.close();\r\n          return;\r\n        }\r\n\r\n        var info = d[0], rtt = d[1];\r\n        self.emit('finish', info, rtt);\r\n      }\r\n      self.close();\r\n    });\r\n\r\n    ifr.once('close', function() {\r\n      self.emit('finish');\r\n      self.close();\r\n    });\r\n  };\r\n\r\n  // TODO this seems the same as the 'needBody' from transports\r\n  if (!global.document.body) {\r\n    utils.attachEvent('load', go);\r\n  } else {\r\n    go();\r\n  }\r\n}\r\n\r\ninherits(InfoIframe, EventEmitter);\r\n\r\nInfoIframe.enabled = function() {\r\n  return IframeTransport.enabled();\r\n};\r\n\r\nInfoIframe.prototype.close = function() {\r\n  if (this.ifr) {\r\n    this.ifr.close();\r\n  }\r\n  this.removeAllListeners();\r\n  this.ifr = null;\r\n};\r\n\r\nmodule.exports = InfoIframe;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./info-iframe-receiver\":10,\"./transport/iframe\":22,\"./utils/event\":46,\"events\":3,\"inherits\":54,\"json3\":55}],12:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('events').EventEmitter\r\n  , inherits = _dereq_('inherits')\r\n  , urlUtils = _dereq_('./utils/url')\r\n  , XDR = _dereq_('./transport/sender/xdr')\r\n  , XHRCors = _dereq_('./transport/sender/xhr-cors')\r\n  , XHRLocal = _dereq_('./transport/sender/xhr-local')\r\n  , XHRFake = _dereq_('./transport/sender/xhr-fake')\r\n  , InfoIframe = _dereq_('./info-iframe')\r\n  , InfoAjax = _dereq_('./info-ajax')\r\n  ;\r\n\r\nfunction InfoReceiver(baseUrl, urlInfo) {\r\n  var self = this;\r\n  EventEmitter.call(this);\r\n\r\n  setTimeout(function() {\r\n    self.doXhr(baseUrl, urlInfo);\r\n  }, 0);\r\n}\r\n\r\ninherits(InfoReceiver, EventEmitter);\r\n\r\n// TODO this is currently ignoring the list of available transports and the whitelist\r\n\r\nInfoReceiver._getReceiver = function(url, urlInfo) {\r\n  // determine method of CORS support (if needed)\r\n  if (urlInfo.sameOrigin) {\r\n    return new InfoAjax(url, XHRLocal);\r\n  }\r\n  if (XHRCors.enabled) {\r\n    return new InfoAjax(url, XHRCors);\r\n  }\r\n  if (XDR.enabled && urlInfo.sameScheme) {\r\n    return new InfoAjax(url, XDR);\r\n  }\r\n  if (InfoIframe.enabled()) {\r\n    return new InfoIframe(url);\r\n  }\r\n  return new InfoAjax(url, XHRFake);\r\n};\r\n\r\nInfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {\r\n  var self = this\r\n    , url = urlUtils.addPath(baseUrl, '/info')\r\n    ;\r\n\r\n  this.xo = InfoReceiver._getReceiver(url, urlInfo);\r\n\r\n  this.timeoutRef = setTimeout(function() {\r\n    self._cleanup(false);\r\n    self.emit('finish');\r\n  }, InfoReceiver.timeout);\r\n\r\n  this.xo.once('finish', function(info, rtt) {\r\n    self._cleanup(true);\r\n    self.emit('finish', info, rtt);\r\n  });\r\n};\r\n\r\nInfoReceiver.prototype._cleanup = function(wasClean) {\r\n  clearTimeout(this.timeoutRef);\r\n  this.timeoutRef = null;\r\n  if (!wasClean && this.xo) {\r\n    this.xo.close();\r\n  }\r\n  this.xo = null;\r\n};\r\n\r\nInfoReceiver.prototype.close = function() {\r\n  this.removeAllListeners();\r\n  this._cleanup(false);\r\n};\r\n\r\nInfoReceiver.timeout = 8000;\r\n\r\nmodule.exports = InfoReceiver;\r\n\r\n},{\"./info-ajax\":9,\"./info-iframe\":11,\"./transport/sender/xdr\":34,\"./transport/sender/xhr-cors\":35,\"./transport/sender/xhr-fake\":36,\"./transport/sender/xhr-local\":37,\"./utils/url\":52,\"events\":3,\"inherits\":54}],13:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nmodule.exports = global.location || {\r\n  origin: 'http://localhost:80'\r\n, protocol: 'http'\r\n, host: 'localhost'\r\n, port: 80\r\n, href: 'http://localhost/'\r\n, hash: ''\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],14:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\n_dereq_('./shims');\r\n\r\nvar URL = _dereq_('url-parse')\r\n  , inherits = _dereq_('inherits')\r\n  , JSON3 = _dereq_('json3')\r\n  , random = _dereq_('./utils/random')\r\n  , escape = _dereq_('./utils/escape')\r\n  , urlUtils = _dereq_('./utils/url')\r\n  , eventUtils = _dereq_('./utils/event')\r\n  , transport = _dereq_('./utils/transport')\r\n  , objectUtils = _dereq_('./utils/object')\r\n  , browser = _dereq_('./utils/browser')\r\n  , log = _dereq_('./utils/log')\r\n  , Event = _dereq_('./event/event')\r\n  , EventTarget = _dereq_('./event/eventtarget')\r\n  , loc = _dereq_('./location')\r\n  , CloseEvent = _dereq_('./event/close')\r\n  , TransportMessageEvent = _dereq_('./event/trans-message')\r\n  , InfoReceiver = _dereq_('./info-receiver')\r\n  ;\r\n\r\nvar transports;\r\n\r\n// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface\r\nfunction SockJS(url, protocols, options) {\r\n  if (!(this instanceof SockJS)) {\r\n    return new SockJS(url, protocols, options);\r\n  }\r\n  if (arguments.length < 1) {\r\n    throw new TypeError(\"Failed to construct 'SockJS: 1 argument required, but only 0 present\");\r\n  }\r\n  EventTarget.call(this);\r\n\r\n  this.readyState = SockJS.CONNECTING;\r\n  this.extensions = '';\r\n  this.protocol = '';\r\n\r\n  // non-standard extension\r\n  options = options || {};\r\n  if (options.protocols_whitelist) {\r\n    log.warn(\"'protocols_whitelist' is DEPRECATED. Use 'transports' instead.\");\r\n  }\r\n  this._transportsWhitelist = options.transports;\r\n  this._server = options.server || random.numberString(1000);\r\n\r\n  // Step 1 of WS spec - parse and validate the url. Issue #8\r\n  var parsedUrl = new URL(url);\r\n  if (!parsedUrl.host || !parsedUrl.protocol) {\r\n    throw new SyntaxError(\"The URL '\" + url + \"' is invalid\");\r\n  } else if (parsedUrl.hash) {\r\n    throw new SyntaxError('The URL must not contain a fragment');\r\n  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\r\n    throw new SyntaxError(\"The URL's scheme must be either 'http:' or 'https:'. '\" + parsedUrl.protocol + \"' is not allowed.\");\r\n  }\r\n\r\n  var secure = parsedUrl.protocol === 'https:';\r\n  // Step 2 - don't allow secure origin with an insecure protocol\r\n  if (loc.protocol === 'https' && !secure) {\r\n    throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');\r\n  }\r\n\r\n  // Step 3 - check port access - no need here\r\n  // Step 4 - parse protocols argument\r\n  if (!protocols) {\r\n    protocols = [];\r\n  } else if (!Array.isArray(protocols)) {\r\n    protocols = [protocols];\r\n  }\r\n\r\n  // Step 5 - check protocols argument\r\n  var sortedProtocols = protocols.sort();\r\n  sortedProtocols.forEach(function(proto, i) {\r\n    if (!proto) {\r\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is invalid.\");\r\n    }\r\n    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {\r\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is duplicated.\");\r\n    }\r\n  });\r\n\r\n  // Step 6 - convert origin\r\n  var o = urlUtils.getOrigin(loc.href);\r\n  this._origin = o ? o.toLowerCase() : null;\r\n\r\n  // remove the trailing slash\r\n  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\\/+$/, ''));\r\n\r\n  // store the sanitized url\r\n  this.url = parsedUrl.href;\r\n\r\n  // Step 7 - start connection in background\r\n  // obtain server info\r\n  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26\r\n  this._urlInfo = {\r\n    nullOrigin: !browser.hasDomain()\r\n  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)\r\n  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)\r\n  };\r\n\r\n  this._ir = new InfoReceiver(this.url, this._urlInfo);\r\n  this._ir.once('finish', this._receiveInfo.bind(this));\r\n}\r\n\r\ninherits(SockJS, EventTarget);\r\n\r\nfunction userSetCode(code) {\r\n  return code === 1000 || (code >= 3000 && code <= 4999);\r\n}\r\n\r\nSockJS.prototype.close = function(code, reason) {\r\n  // Step 1\r\n  if (code && !userSetCode(code)) {\r\n    throw new Error('InvalidAccessError: Invalid code');\r\n  }\r\n  // Step 2.4 states the max is 123 bytes, but we are just checking length\r\n  if (reason && reason.length > 123) {\r\n    throw new SyntaxError('reason argument has an invalid length');\r\n  }\r\n\r\n  // Step 3.1\r\n  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {\r\n    return;\r\n  }\r\n\r\n  // TODO look at docs to determine how to set this\r\n  var wasClean = true;\r\n  this._close(code || 1000, reason || 'Normal closure', wasClean);\r\n};\r\n\r\nSockJS.prototype.send = function(data) {\r\n  // #13 - convert anything non-string to string\r\n  // TODO this currently turns objects into [object Object]\r\n  if (typeof data !== 'string') {\r\n    data = '' + data;\r\n  }\r\n  if (this.readyState === SockJS.CONNECTING) {\r\n    throw new Error('InvalidStateError: The connection has not been established yet');\r\n  }\r\n  if (this.readyState !== SockJS.OPEN) {\r\n    return;\r\n  }\r\n  this._transport.send(escape.quote(data));\r\n};\r\n\r\nSockJS.version = _dereq_('./version');\r\n\r\nSockJS.CONNECTING = 0;\r\nSockJS.OPEN = 1;\r\nSockJS.CLOSING = 2;\r\nSockJS.CLOSED = 3;\r\n\r\nSockJS.prototype._receiveInfo = function(info, rtt) {\r\n  this._ir = null;\r\n  if (!info) {\r\n    this._close(1002, 'Cannot connect to server');\r\n    return;\r\n  }\r\n\r\n  // establish a round-trip timeout (RTO) based on the\r\n  // round-trip time (RTT)\r\n  this._rto = this.countRTO(rtt);\r\n  // allow server to override url used for the actual transport\r\n  this._transUrl = info.base_url ? info.base_url : this.url;\r\n  info = objectUtils.extend(info, this._urlInfo);\r\n  // determine list of desired and supported transports\r\n  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);\r\n  this._transports = enabledTransports.main;\r\n\r\n  this._connect();\r\n};\r\n\r\nSockJS.prototype._connect = function() {\r\n  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {\r\n    if (Transport.needBody) {\r\n      if (!global.document.body ||\r\n          (typeof global.document.readyState !== 'undefined' &&\r\n            global.document.readyState !== 'complete' &&\r\n            global.document.readyState !== 'interactive')) {\r\n        this._transports.unshift(Transport);\r\n        eventUtils.attachEvent('load', this._connect.bind(this));\r\n        return;\r\n      }\r\n    }\r\n\r\n    // calculate timeout based on RTO and round trips. Default to 5s\r\n    var timeoutMs = (this._rto * Transport.roundTrips) || 5000;\r\n    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);\r\n\r\n    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + random.string(8));\r\n    var transportObj = new Transport(transportUrl, this._transUrl);\r\n    transportObj.on('message', this._transportMessage.bind(this));\r\n    transportObj.once('close', this._transportClose.bind(this));\r\n    transportObj.transportName = Transport.transportName;\r\n    this._transport = transportObj;\r\n\r\n    return;\r\n  }\r\n  this._close(2000, 'All transports failed', false);\r\n};\r\n\r\nSockJS.prototype._transportTimeout = function() {\r\n  if (this.readyState === SockJS.CONNECTING) {\r\n    this._transportClose(2007, 'Transport timed out');\r\n  }\r\n};\r\n\r\nSockJS.prototype._transportMessage = function(msg) {\r\n  var self = this\r\n    , type = msg.slice(0, 1)\r\n    , content = msg.slice(1)\r\n    , payload\r\n    ;\r\n\r\n  // first check for messages that don't need a payload\r\n  switch (type) {\r\n    case 'o':\r\n      this._open();\r\n      return;\r\n    case 'h':\r\n      this.dispatchEvent(new Event('heartbeat'));\r\n      return;\r\n  }\r\n\r\n  if (content) {\r\n    try {\r\n      payload = JSON3.parse(content);\r\n    } catch (e) {\r\n    }\r\n  }\r\n\r\n  if (typeof payload === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  switch (type) {\r\n    case 'a':\r\n      if (Array.isArray(payload)) {\r\n        payload.forEach(function(p) {\r\n          self.dispatchEvent(new TransportMessageEvent(p));\r\n        });\r\n      }\r\n      break;\r\n    case 'm':\r\n      this.dispatchEvent(new TransportMessageEvent(payload));\r\n      break;\r\n    case 'c':\r\n      if (Array.isArray(payload) && payload.length === 2) {\r\n        this._close(payload[0], payload[1], true);\r\n      }\r\n      break;\r\n  }\r\n};\r\n\r\nSockJS.prototype._transportClose = function(code, reason) {\r\n  if (this._transport) {\r\n    this._transport.removeAllListeners();\r\n    this._transport = null;\r\n    this.transport = null;\r\n  }\r\n\r\n  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {\r\n    this._connect();\r\n    return;\r\n  }\r\n\r\n  this._close(code, reason);\r\n};\r\n\r\nSockJS.prototype._open = function() {\r\n  if (this.readyState === SockJS.CONNECTING) {\r\n    if (this._transportTimeoutId) {\r\n      clearTimeout(this._transportTimeoutId);\r\n      this._transportTimeoutId = null;\r\n    }\r\n    this.readyState = SockJS.OPEN;\r\n    this.transport = this._transport.transportName;\r\n    this.dispatchEvent(new Event('open'));\r\n  } else {\r\n    // The server might have been restarted, and lost track of our\r\n    // connection.\r\n    this._close(1006, 'Server lost session');\r\n  }\r\n};\r\n\r\nSockJS.prototype._close = function(code, reason, wasClean) {\r\n  var forceFail = false;\r\n\r\n  if (this._ir) {\r\n    forceFail = true;\r\n    this._ir.close();\r\n    this._ir = null;\r\n  }\r\n  if (this._transport) {\r\n    this._transport.close();\r\n    this._transport = null;\r\n    this.transport = null;\r\n  }\r\n\r\n  if (this.readyState === SockJS.CLOSED) {\r\n    throw new Error('InvalidStateError: SockJS has already been closed');\r\n  }\r\n\r\n  this.readyState = SockJS.CLOSING;\r\n  setTimeout(function() {\r\n    this.readyState = SockJS.CLOSED;\r\n\r\n    if (forceFail) {\r\n      this.dispatchEvent(new Event('error'));\r\n    }\r\n\r\n    var e = new CloseEvent('close');\r\n    e.wasClean = wasClean || false;\r\n    e.code = code || 1000;\r\n    e.reason = reason;\r\n\r\n    this.dispatchEvent(e);\r\n    this.onmessage = this.onclose = this.onerror = null;\r\n  }.bind(this), 0);\r\n};\r\n\r\n// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/\r\n// and RFC 2988.\r\nSockJS.prototype.countRTO = function(rtt) {\r\n  // In a local environment, when using IE8/9 and the `jsonp-polling`\r\n  // transport the time needed to establish a connection (the time that pass\r\n  // from the opening of the transport to the call of `_dispatchOpen`) is\r\n  // around 200msec (the lower bound used in the article above) and this\r\n  // causes spurious timeouts. For this reason we calculate a value slightly\r\n  // larger than that used in the article.\r\n  if (rtt > 100) {\r\n    return 4 * rtt; // rto > 400msec\r\n  }\r\n  return 300 + rtt; // 300msec < rto <= 400msec\r\n};\r\n\r\nmodule.exports = function(availableTransports) {\r\n  transports = transport(availableTransports);\r\n  _dereq_('./iframe-bootstrap')(SockJS, availableTransports);\r\n  return SockJS;\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./event/close\":2,\"./event/event\":4,\"./event/eventtarget\":5,\"./event/trans-message\":6,\"./iframe-bootstrap\":8,\"./info-receiver\":12,\"./location\":13,\"./shims\":15,\"./utils/browser\":44,\"./utils/escape\":45,\"./utils/event\":46,\"./utils/log\":48,\"./utils/object\":49,\"./utils/random\":50,\"./utils/transport\":51,\"./utils/url\":52,\"./version\":53,\"inherits\":54,\"json3\":55,\"url-parse\":56}],15:[function(_dereq_,module,exports){\r\n/* eslint-disable */\r\n/* jscs: disable */\r\n'use strict';\r\n\r\n// pulled specific shims from https://github.com/es-shims/es5-shim\r\n\r\nvar ArrayPrototype = Array.prototype;\r\nvar ObjectPrototype = Object.prototype;\r\nvar FunctionPrototype = Function.prototype;\r\nvar StringPrototype = String.prototype;\r\nvar array_slice = ArrayPrototype.slice;\r\n\r\nvar _toString = ObjectPrototype.toString;\r\nvar isFunction = function (val) {\r\n    return ObjectPrototype.toString.call(val) === '[object Function]';\r\n};\r\nvar isArray = function isArray(obj) {\r\n    return _toString.call(obj) === '[object Array]';\r\n};\r\nvar isString = function isString(obj) {\r\n    return _toString.call(obj) === '[object String]';\r\n};\r\n\r\nvar supportsDescriptors = Object.defineProperty && (function () {\r\n    try {\r\n        Object.defineProperty({}, 'x', {});\r\n        return true;\r\n    } catch (e) { /* this is ES3 */\r\n        return false;\r\n    }\r\n}());\r\n\r\n// Define configurable, writable and non-enumerable props\r\n// if they don't exist.\r\nvar defineProperty;\r\nif (supportsDescriptors) {\r\n    defineProperty = function (object, name, method, forceAssign) {\r\n        if (!forceAssign && (name in object)) { return; }\r\n        Object.defineProperty(object, name, {\r\n            configurable: true,\r\n            enumerable: false,\r\n            writable: true,\r\n            value: method\r\n        });\r\n    };\r\n} else {\r\n    defineProperty = function (object, name, method, forceAssign) {\r\n        if (!forceAssign && (name in object)) { return; }\r\n        object[name] = method;\r\n    };\r\n}\r\nvar defineProperties = function (object, map, forceAssign) {\r\n    for (var name in map) {\r\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\r\n          defineProperty(object, name, map[name], forceAssign);\r\n        }\r\n    }\r\n};\r\n\r\nvar toObject = function (o) {\r\n    if (o == null) { // this matches both null and undefined\r\n        throw new TypeError(\"can't convert \" + o + ' to object');\r\n    }\r\n    return Object(o);\r\n};\r\n\r\n//\r\n// Util\r\n// ======\r\n//\r\n\r\n// ES5 9.4\r\n// http://es5.github.com/#x9.4\r\n// http://jsperf.com/to-integer\r\n\r\nfunction toInteger(num) {\r\n    var n = +num;\r\n    if (n !== n) { // isNaN\r\n        n = 0;\r\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\r\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\r\n    }\r\n    return n;\r\n}\r\n\r\nfunction ToUint32(x) {\r\n    return x >>> 0;\r\n}\r\n\r\n//\r\n// Function\r\n// ========\r\n//\r\n\r\n// ES-5 15.3.4.5\r\n// http://es5.github.com/#x15.3.4.5\r\n\r\nfunction Empty() {}\r\n\r\ndefineProperties(FunctionPrototype, {\r\n    bind: function bind(that) { // .length is 1\r\n        // 1. Let Target be the this value.\r\n        var target = this;\r\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\r\n        if (!isFunction(target)) {\r\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\r\n        }\r\n        // 3. Let A be a new (possibly empty) internal list of all of the\r\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\r\n        // XXX slicedArgs will stand in for \"A\" if used\r\n        var args = array_slice.call(arguments, 1); // for normal call\r\n        // 4. Let F be a new native ECMAScript object.\r\n        // 11. Set the [[Prototype]] internal property of F to the standard\r\n        //   built-in Function prototype object as specified in 15.3.3.1.\r\n        // 12. Set the [[Call]] internal property of F as described in\r\n        //   15.3.4.5.1.\r\n        // 13. Set the [[Construct]] internal property of F as described in\r\n        //   15.3.4.5.2.\r\n        // 14. Set the [[HasInstance]] internal property of F as described in\r\n        //   15.3.4.5.3.\r\n        var binder = function () {\r\n\r\n            if (this instanceof bound) {\r\n                // 15.3.4.5.2 [[Construct]]\r\n                // When the [[Construct]] internal method of a function object,\r\n                // F that was created using the bind function is called with a\r\n                // list of arguments ExtraArgs, the following steps are taken:\r\n                // 1. Let target be the value of F's [[TargetFunction]]\r\n                //   internal property.\r\n                // 2. If target has no [[Construct]] internal method, a\r\n                //   TypeError exception is thrown.\r\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\r\n                //   property.\r\n                // 4. Let args be a new list containing the same values as the\r\n                //   list boundArgs in the same order followed by the same\r\n                //   values as the list ExtraArgs in the same order.\r\n                // 5. Return the result of calling the [[Construct]] internal\r\n                //   method of target providing args as the arguments.\r\n\r\n                var result = target.apply(\r\n                    this,\r\n                    args.concat(array_slice.call(arguments))\r\n                );\r\n                if (Object(result) === result) {\r\n                    return result;\r\n                }\r\n                return this;\r\n\r\n            } else {\r\n                // 15.3.4.5.1 [[Call]]\r\n                // When the [[Call]] internal method of a function object, F,\r\n                // which was created using the bind function is called with a\r\n                // this value and a list of arguments ExtraArgs, the following\r\n                // steps are taken:\r\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\r\n                //   property.\r\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\r\n                //   property.\r\n                // 3. Let target be the value of F's [[TargetFunction]] internal\r\n                //   property.\r\n                // 4. Let args be a new list containing the same values as the\r\n                //   list boundArgs in the same order followed by the same\r\n                //   values as the list ExtraArgs in the same order.\r\n                // 5. Return the result of calling the [[Call]] internal method\r\n                //   of target providing boundThis as the this value and\r\n                //   providing args as the arguments.\r\n\r\n                // equiv: target.call(this, ...boundArgs, ...args)\r\n                return target.apply(\r\n                    that,\r\n                    args.concat(array_slice.call(arguments))\r\n                );\r\n\r\n            }\r\n\r\n        };\r\n\r\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\r\n        //     a. Let L be the length property of Target minus the length of A.\r\n        //     b. Set the length own property of F to either 0 or L, whichever is\r\n        //       larger.\r\n        // 16. Else set the length own property of F to 0.\r\n\r\n        var boundLength = Math.max(0, target.length - args.length);\r\n\r\n        // 17. Set the attributes of the length own property of F to the values\r\n        //   specified in 15.3.5.1.\r\n        var boundArgs = [];\r\n        for (var i = 0; i < boundLength; i++) {\r\n            boundArgs.push('$' + i);\r\n        }\r\n\r\n        // XXX Build a dynamic function with desired amount of arguments is the only\r\n        // way to set the length property of a function.\r\n        // In environments where Content Security Policies enabled (Chrome extensions,\r\n        // for ex.) all use of eval or Function costructor throws an exception.\r\n        // However in all of these environments Function.prototype.bind exists\r\n        // and so this code will never be executed.\r\n        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\r\n\r\n        if (target.prototype) {\r\n            Empty.prototype = target.prototype;\r\n            bound.prototype = new Empty();\r\n            // Clean up dangling references.\r\n            Empty.prototype = null;\r\n        }\r\n\r\n        // TODO\r\n        // 18. Set the [[Extensible]] internal property of F to true.\r\n\r\n        // TODO\r\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\r\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\r\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\r\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\r\n        //   false.\r\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\r\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\r\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\r\n        //   and false.\r\n\r\n        // TODO\r\n        // NOTE Function objects created using Function.prototype.bind do not\r\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\r\n        // [[Scope]] internal properties.\r\n        // XXX can't delete prototype in pure-js.\r\n\r\n        // 22. Return F.\r\n        return bound;\r\n    }\r\n});\r\n\r\n//\r\n// Array\r\n// =====\r\n//\r\n\r\n// ES5 15.4.3.2\r\n// http://es5.github.com/#x15.4.3.2\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\r\ndefineProperties(Array, { isArray: isArray });\r\n\r\nvar boxedString = Object('a');\r\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\r\n\r\nvar properlyBoxesContext = function properlyBoxed(method) {\r\n    // Check node 0.6.21 bug where third parameter is not boxed\r\n    var properlyBoxesNonStrict = true;\r\n    var properlyBoxesStrict = true;\r\n    if (method) {\r\n        method.call('foo', function (_, __, context) {\r\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\r\n        });\r\n\r\n        method.call([1], function () {\r\n            'use strict';\r\n            properlyBoxesStrict = typeof this === 'string';\r\n        }, 'x');\r\n    }\r\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\r\n};\r\n\r\ndefineProperties(ArrayPrototype, {\r\n    forEach: function forEach(fun /*, thisp*/) {\r\n        var object = toObject(this),\r\n            self = splitString && isString(this) ? this.split('') : object,\r\n            thisp = arguments[1],\r\n            i = -1,\r\n            length = self.length >>> 0;\r\n\r\n        // If no callback function or if callback is not a callable function\r\n        if (!isFunction(fun)) {\r\n            throw new TypeError(); // TODO message\r\n        }\r\n\r\n        while (++i < length) {\r\n            if (i in self) {\r\n                // Invoke the callback function with call, passing arguments:\r\n                // context, property value, property key, thisArg object\r\n                // context\r\n                fun.call(thisp, self[i], i, object);\r\n            }\r\n        }\r\n    }\r\n}, !properlyBoxesContext(ArrayPrototype.forEach));\r\n\r\n// ES5 15.4.4.14\r\n// http://es5.github.com/#x15.4.4.14\r\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\r\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\r\ndefineProperties(ArrayPrototype, {\r\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\r\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\r\n            length = self.length >>> 0;\r\n\r\n        if (!length) {\r\n            return -1;\r\n        }\r\n\r\n        var i = 0;\r\n        if (arguments.length > 1) {\r\n            i = toInteger(arguments[1]);\r\n        }\r\n\r\n        // handle negative indices\r\n        i = i >= 0 ? i : Math.max(0, length + i);\r\n        for (; i < length; i++) {\r\n            if (i in self && self[i] === sought) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n}, hasFirefox2IndexOfBug);\r\n\r\n//\r\n// String\r\n// ======\r\n//\r\n\r\n// ES5 15.5.4.14\r\n// http://es5.github.com/#x15.5.4.14\r\n\r\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\r\n// Many browsers do not split properly with regular expressions or they\r\n// do not perform the split correctly under obscure conditions.\r\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\r\n// I've tested in many browsers and this seems to cover the deviant ones:\r\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\r\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\r\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\r\n//       [undefined, \"t\", undefined, \"e\", ...]\r\n//    ''.split(/.?/) should be [], not [\"\"]\r\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\r\n\r\nvar string_split = StringPrototype.split;\r\nif (\r\n    'ab'.split(/(?:ab)*/).length !== 2 ||\r\n    '.'.split(/(.?)(.?)/).length !== 4 ||\r\n    'tesst'.split(/(s)*/)[1] === 't' ||\r\n    'test'.split(/(?:)/, -1).length !== 4 ||\r\n    ''.split(/.?/).length ||\r\n    '.'.split(/()()/).length > 1\r\n) {\r\n    (function () {\r\n        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group\r\n\r\n        StringPrototype.split = function (separator, limit) {\r\n            var string = this;\r\n            if (separator === void 0 && limit === 0) {\r\n                return [];\r\n            }\r\n\r\n            // If `separator` is not a regex, use native split\r\n            if (_toString.call(separator) !== '[object RegExp]') {\r\n                return string_split.call(this, separator, limit);\r\n            }\r\n\r\n            var output = [],\r\n                flags = (separator.ignoreCase ? 'i' : '') +\r\n                        (separator.multiline  ? 'm' : '') +\r\n                        (separator.extended   ? 'x' : '') + // Proposed for ES6\r\n                        (separator.sticky     ? 'y' : ''), // Firefox 3+\r\n                lastLastIndex = 0,\r\n                // Make `global` and avoid `lastIndex` issues by working with a copy\r\n                separator2, match, lastIndex, lastLength;\r\n            separator = new RegExp(separator.source, flags + 'g');\r\n            string += ''; // Type-convert\r\n            if (!compliantExecNpcg) {\r\n                // Doesn't need flags gy, but they don't hurt\r\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\r\n            }\r\n            /* Values for `limit`, per the spec:\r\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\r\n             * If 0, Infinity, or NaN: 0\r\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\r\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\r\n             * If other: Type-convert, then use the above rules\r\n             */\r\n            limit = limit === void 0 ?\r\n                -1 >>> 0 : // Math.pow(2, 32) - 1\r\n                ToUint32(limit);\r\n            while (match = separator.exec(string)) {\r\n                // `separator.lastIndex` is not reliable cross-browser\r\n                lastIndex = match.index + match[0].length;\r\n                if (lastIndex > lastLastIndex) {\r\n                    output.push(string.slice(lastLastIndex, match.index));\r\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\r\n                    // nonparticipating capturing groups\r\n                    if (!compliantExecNpcg && match.length > 1) {\r\n                        match[0].replace(separator2, function () {\r\n                            for (var i = 1; i < arguments.length - 2; i++) {\r\n                                if (arguments[i] === void 0) {\r\n                                    match[i] = void 0;\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                    if (match.length > 1 && match.index < string.length) {\r\n                        ArrayPrototype.push.apply(output, match.slice(1));\r\n                    }\r\n                    lastLength = match[0].length;\r\n                    lastLastIndex = lastIndex;\r\n                    if (output.length >= limit) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (separator.lastIndex === match.index) {\r\n                    separator.lastIndex++; // Avoid an infinite loop\r\n                }\r\n            }\r\n            if (lastLastIndex === string.length) {\r\n                if (lastLength || !separator.test('')) {\r\n                    output.push('');\r\n                }\r\n            } else {\r\n                output.push(string.slice(lastLastIndex));\r\n            }\r\n            return output.length > limit ? output.slice(0, limit) : output;\r\n        };\r\n    }());\r\n\r\n// [bugfix, chrome]\r\n// If separator is undefined, then the result array contains just one String,\r\n// which is the this value (converted to a String). If limit is not undefined,\r\n// then the output array is truncated so that it contains no more than limit\r\n// elements.\r\n// \"0\".split(undefined, 0) -> []\r\n} else if ('0'.split(void 0, 0).length) {\r\n    StringPrototype.split = function split(separator, limit) {\r\n        if (separator === void 0 && limit === 0) { return []; }\r\n        return string_split.call(this, separator, limit);\r\n    };\r\n}\r\n\r\n// ES5 15.5.4.20\r\n// whitespace from: http://es5.github.io/#x15.5.4.20\r\nvar ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\r\n    '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' +\r\n    '\\u2029\\uFEFF';\r\nvar zeroWidth = '\\u200b';\r\nvar wsRegexChars = '[' + ws + ']';\r\nvar trimBeginRegexp = new RegExp('^' + wsRegexChars + wsRegexChars + '*');\r\nvar trimEndRegexp = new RegExp(wsRegexChars + wsRegexChars + '*$');\r\nvar hasTrimWhitespaceBug = StringPrototype.trim && (ws.trim() || !zeroWidth.trim());\r\ndefineProperties(StringPrototype, {\r\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\r\n    // http://perfectionkills.com/whitespace-deviations/\r\n    trim: function trim() {\r\n        if (this === void 0 || this === null) {\r\n            throw new TypeError(\"can't convert \" + this + ' to object');\r\n        }\r\n        return String(this).replace(trimBeginRegexp, '').replace(trimEndRegexp, '');\r\n    }\r\n}, hasTrimWhitespaceBug);\r\n\r\n// ECMA-262, 3rd B.2.3\r\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\r\n// non-normative section suggesting uniform semantics and it should be\r\n// normalized across all browsers\r\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\r\nvar string_substr = StringPrototype.substr;\r\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\r\ndefineProperties(StringPrototype, {\r\n    substr: function substr(start, length) {\r\n        return string_substr.call(\r\n            this,\r\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\r\n            length\r\n        );\r\n    }\r\n}, hasNegativeSubstrBug);\r\n\r\n},{}],16:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nmodule.exports = [\r\n  // streaming transports\r\n  _dereq_('./transport/websocket')\r\n, _dereq_('./transport/xhr-streaming')\r\n, _dereq_('./transport/xdr-streaming')\r\n, _dereq_('./transport/eventsource')\r\n, _dereq_('./transport/lib/iframe-wrap')(_dereq_('./transport/eventsource'))\r\n\r\n  // polling transports\r\n, _dereq_('./transport/htmlfile')\r\n, _dereq_('./transport/lib/iframe-wrap')(_dereq_('./transport/htmlfile'))\r\n, _dereq_('./transport/xhr-polling')\r\n, _dereq_('./transport/xdr-polling')\r\n, _dereq_('./transport/lib/iframe-wrap')(_dereq_('./transport/xhr-polling'))\r\n, _dereq_('./transport/jsonp-polling')\r\n];\r\n\r\n},{\"./transport/eventsource\":20,\"./transport/htmlfile\":21,\"./transport/jsonp-polling\":23,\"./transport/lib/iframe-wrap\":26,\"./transport/websocket\":38,\"./transport/xdr-polling\":39,\"./transport/xdr-streaming\":40,\"./transport/xhr-polling\":41,\"./transport/xhr-streaming\":42}],17:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('events').EventEmitter\r\n  , inherits = _dereq_('inherits')\r\n  , utils = _dereq_('../../utils/event')\r\n  , urlUtils = _dereq_('../../utils/url')\r\n  , XHR = global.XMLHttpRequest\r\n  ;\r\n\r\nfunction AbstractXHRObject(method, url, payload, opts) {\r\n  var self = this;\r\n  EventEmitter.call(this);\r\n\r\n  setTimeout(function () {\r\n    self._start(method, url, payload, opts);\r\n  }, 0);\r\n}\r\n\r\ninherits(AbstractXHRObject, EventEmitter);\r\n\r\nAbstractXHRObject.prototype._start = function(method, url, payload, opts) {\r\n  var self = this;\r\n\r\n  try {\r\n    this.xhr = new XHR();\r\n  } catch (x) {}\r\n\r\n  if (!this.xhr) {\r\n    this.emit('finish', 0, 'no xhr support');\r\n    this._cleanup();\r\n    return;\r\n  }\r\n\r\n  // several browsers cache POSTs\r\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\r\n\r\n  // Explorer tends to keep connection open, even after the\r\n  // tab gets closed: http://bugs.jquery.com/ticket/5280\r\n  this.unloadRef = utils.unloadAdd(function() {\r\n    self._cleanup(true);\r\n  });\r\n  try {\r\n    this.xhr.open(method, url, true);\r\n    if (this.timeout && 'timeout' in this.xhr) {\r\n      this.xhr.timeout = this.timeout;\r\n      this.xhr.ontimeout = function() {\r\n        self.emit('finish', 0, '');\r\n        self._cleanup(false);\r\n      };\r\n    }\r\n  } catch (e) {\r\n    // IE raises an exception on wrong port.\r\n    this.emit('finish', 0, '');\r\n    this._cleanup(false);\r\n    return;\r\n  }\r\n\r\n  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {\r\n    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :\r\n    // \"This never affects same-site requests.\"\r\n\r\n    this.xhr.withCredentials = 'true';\r\n  }\r\n  if (opts && opts.headers) {\r\n    for (var key in opts.headers) {\r\n      this.xhr.setRequestHeader(key, opts.headers[key]);\r\n    }\r\n  }\r\n\r\n  this.xhr.onreadystatechange = function() {\r\n    if (self.xhr) {\r\n      var x = self.xhr;\r\n      var text, status;\r\n      switch (x.readyState) {\r\n      case 3:\r\n        // IE doesn't like peeking into responseText or status\r\n        // on Microsoft.XMLHTTP and readystate=3\r\n        try {\r\n          status = x.status;\r\n          text = x.responseText;\r\n        } catch (e) {}\r\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\r\n        if (status === 1223) {\r\n          status = 204;\r\n        }\r\n\r\n        // IE does return readystate == 3 for 404 answers.\r\n        if (status === 200 && text && text.length > 0) {\r\n          self.emit('chunk', status, text);\r\n        }\r\n        break;\r\n      case 4:\r\n        status = x.status;\r\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\r\n        if (status === 1223) {\r\n          status = 204;\r\n        }\r\n        // IE returns this for a bad port\r\n        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx\r\n        if (status === 12005 || status === 12029) {\r\n          status = 0;\r\n        }\r\n\r\n        self.emit('finish', status, x.responseText);\r\n        self._cleanup(false);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  try {\r\n    self.xhr.send(payload);\r\n  } catch (e) {\r\n    self.emit('finish', 0, '');\r\n    self._cleanup(false);\r\n  }\r\n};\r\n\r\nAbstractXHRObject.prototype._cleanup = function(abort) {\r\n  if (!this.xhr) {\r\n    return;\r\n  }\r\n  this.removeAllListeners();\r\n  utils.unloadDel(this.unloadRef);\r\n\r\n  // IE needs this field to be a function\r\n  this.xhr.onreadystatechange = function() {};\r\n  if (this.xhr.ontimeout) {\r\n    this.xhr.ontimeout = null;\r\n  }\r\n\r\n  if (abort) {\r\n    try {\r\n      this.xhr.abort();\r\n    } catch (x) {}\r\n  }\r\n  this.unloadRef = this.xhr = null;\r\n};\r\n\r\nAbstractXHRObject.prototype.close = function() {\r\n  this._cleanup(true);\r\n};\r\n\r\nAbstractXHRObject.enabled = !!XHR;\r\n// override XMLHttpRequest for IE6/7\r\n// obfuscate to avoid firewalls\r\nvar axo = ['Active'].concat('Object').join('X');\r\nif (!AbstractXHRObject.enabled && (axo in global)) {\r\n  XHR = function() {\r\n    try {\r\n      return new global[axo]('Microsoft.XMLHTTP');\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  };\r\n  AbstractXHRObject.enabled = !!new XHR();\r\n}\r\n\r\nvar cors = false;\r\ntry {\r\n  cors = 'withCredentials' in new XHR();\r\n} catch (ignored) {}\r\n\r\nAbstractXHRObject.supportsCORS = cors;\r\n\r\nmodule.exports = AbstractXHRObject;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../../utils/event\":46,\"../../utils/url\":52,\"events\":3,\"inherits\":54}],18:[function(_dereq_,module,exports){\r\n(function (global){\r\nmodule.exports = global.EventSource;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],19:[function(_dereq_,module,exports){\r\n(function (global){\r\nmodule.exports = global.WebSocket || global.MozWebSocket;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],20:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , AjaxBasedTransport = _dereq_('./lib/ajax-based')\r\n  , EventSourceReceiver = _dereq_('./receiver/eventsource')\r\n  , XHRCorsObject = _dereq_('./sender/xhr-cors')\r\n  , EventSourceDriver = _dereq_('eventsource')\r\n  ;\r\n\r\nfunction EventSourceTransport(transUrl) {\r\n  if (!EventSourceTransport.enabled()) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n\r\n  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);\r\n}\r\n\r\ninherits(EventSourceTransport, AjaxBasedTransport);\r\n\r\nEventSourceTransport.enabled = function() {\r\n  return !!EventSourceDriver;\r\n};\r\n\r\nEventSourceTransport.transportName = 'eventsource';\r\nEventSourceTransport.roundTrips = 2;\r\n\r\nmodule.exports = EventSourceTransport;\r\n\r\n},{\"./lib/ajax-based\":24,\"./receiver/eventsource\":29,\"./sender/xhr-cors\":35,\"eventsource\":18,\"inherits\":54}],21:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , HtmlfileReceiver = _dereq_('./receiver/htmlfile')\r\n  , XHRLocalObject = _dereq_('./sender/xhr-local')\r\n  , AjaxBasedTransport = _dereq_('./lib/ajax-based')\r\n  ;\r\n\r\nfunction HtmlFileTransport(transUrl) {\r\n  if (!HtmlfileReceiver.enabled) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);\r\n}\r\n\r\ninherits(HtmlFileTransport, AjaxBasedTransport);\r\n\r\nHtmlFileTransport.enabled = function(info) {\r\n  return HtmlfileReceiver.enabled && info.sameOrigin;\r\n};\r\n\r\nHtmlFileTransport.transportName = 'htmlfile';\r\nHtmlFileTransport.roundTrips = 2;\r\n\r\nmodule.exports = HtmlFileTransport;\r\n\r\n},{\"./lib/ajax-based\":24,\"./receiver/htmlfile\":30,\"./sender/xhr-local\":37,\"inherits\":54}],22:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n// Few cool transports do work only for same-origin. In order to make\r\n// them work cross-domain we shall use iframe, served from the\r\n// remote domain. New browsers have capabilities to communicate with\r\n// cross domain iframe using postMessage(). In IE it was implemented\r\n// from IE 8+, but of course, IE got some details wrong:\r\n//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx\r\n//    http://stevesouders.com/misc/test-postmessage.php\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , JSON3 = _dereq_('json3')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  , version = _dereq_('../version')\r\n  , urlUtils = _dereq_('../utils/url')\r\n  , iframeUtils = _dereq_('../utils/iframe')\r\n  , eventUtils = _dereq_('../utils/event')\r\n  , random = _dereq_('../utils/random')\r\n  ;\r\n\r\nfunction IframeTransport(transport, transUrl, baseUrl) {\r\n  if (!IframeTransport.enabled()) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n  EventEmitter.call(this);\r\n\r\n  var self = this;\r\n  this.origin = urlUtils.getOrigin(baseUrl);\r\n  this.baseUrl = baseUrl;\r\n  this.transUrl = transUrl;\r\n  this.transport = transport;\r\n  this.windowId = random.string(8);\r\n\r\n  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;\r\n\r\n  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {\r\n    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');\r\n    self.close();\r\n  });\r\n\r\n  this.onmessageCallback = this._message.bind(this);\r\n  eventUtils.attachEvent('message', this.onmessageCallback);\r\n}\r\n\r\ninherits(IframeTransport, EventEmitter);\r\n\r\nIframeTransport.prototype.close = function() {\r\n  this.removeAllListeners();\r\n  if (this.iframeObj) {\r\n    eventUtils.detachEvent('message', this.onmessageCallback);\r\n    try {\r\n      // When the iframe is not loaded, IE raises an exception\r\n      // on 'contentWindow'.\r\n      this.postMessage('c');\r\n    } catch (x) {}\r\n    this.iframeObj.cleanup();\r\n    this.iframeObj = null;\r\n    this.onmessageCallback = this.iframeObj = null;\r\n  }\r\n};\r\n\r\nIframeTransport.prototype._message = function(e) {\r\n  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {\r\n    return;\r\n  }\r\n\r\n  var iframeMessage;\r\n  try {\r\n    iframeMessage = JSON3.parse(e.data);\r\n  } catch (ignored) {\r\n    return;\r\n  }\r\n\r\n  if (iframeMessage.windowId !== this.windowId) {\r\n    return;\r\n  }\r\n\r\n  switch (iframeMessage.type) {\r\n  case 's':\r\n    this.iframeObj.loaded();\r\n    // window global dependency\r\n    this.postMessage('s', JSON3.stringify([\r\n      version\r\n    , this.transport\r\n    , this.transUrl\r\n    , this.baseUrl\r\n    ]));\r\n    break;\r\n  case 't':\r\n    this.emit('message', iframeMessage.data);\r\n    break;\r\n  case 'c':\r\n    var cdata;\r\n    try {\r\n      cdata = JSON3.parse(iframeMessage.data);\r\n    } catch (ignored) {\r\n      return;\r\n    }\r\n    this.emit('close', cdata[0], cdata[1]);\r\n    this.close();\r\n    break;\r\n  }\r\n};\r\n\r\nIframeTransport.prototype.postMessage = function(type, data) {\r\n  this.iframeObj.post(JSON3.stringify({\r\n    windowId: this.windowId\r\n  , type: type\r\n  , data: data || ''\r\n  }), this.origin);\r\n};\r\n\r\nIframeTransport.prototype.send = function(message) {\r\n  this.postMessage('m', message);\r\n};\r\n\r\nIframeTransport.enabled = function() {\r\n  return iframeUtils.iframeEnabled;\r\n};\r\n\r\nIframeTransport.transportName = 'iframe';\r\nIframeTransport.roundTrips = 2;\r\n\r\nmodule.exports = IframeTransport;\r\n\r\n},{\"../utils/event\":46,\"../utils/iframe\":47,\"../utils/random\":50,\"../utils/url\":52,\"../version\":53,\"events\":3,\"inherits\":54,\"json3\":55}],23:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\n// The simplest and most robust transport, using the well-know cross\r\n// domain hack - JSONP. This transport is quite inefficient - one\r\n// message could use up to one http request. But at least it works almost\r\n// everywhere.\r\n// Known limitations:\r\n//   o you will get a spinning cursor\r\n//   o for Konqueror a dumb timer is needed to detect errors\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , SenderReceiver = _dereq_('./lib/sender-receiver')\r\n  , JsonpReceiver = _dereq_('./receiver/jsonp')\r\n  , jsonpSender = _dereq_('./sender/jsonp')\r\n  ;\r\n\r\nfunction JsonPTransport(transUrl) {\r\n  if (!JsonPTransport.enabled()) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);\r\n}\r\n\r\ninherits(JsonPTransport, SenderReceiver);\r\n\r\nJsonPTransport.enabled = function() {\r\n  return !!global.document;\r\n};\r\n\r\nJsonPTransport.transportName = 'jsonp-polling';\r\nJsonPTransport.roundTrips = 1;\r\nJsonPTransport.needBody = true;\r\n\r\nmodule.exports = JsonPTransport;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./lib/sender-receiver\":28,\"./receiver/jsonp\":31,\"./sender/jsonp\":33,\"inherits\":54}],24:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , urlUtils = _dereq_('../../utils/url')\r\n  , SenderReceiver = _dereq_('./sender-receiver')\r\n  ;\r\n\r\nfunction createAjaxSender(AjaxObject) {\r\n  return function(url, payload, callback) {\r\n    var opt = {};\r\n    if (typeof payload === 'string') {\r\n      opt.headers = {'Content-type':'text/plain'};\r\n    }\r\n    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');\r\n    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);\r\n    xo.once('finish', function(status) {\r\n      xo = null;\r\n\r\n      if (status !== 200 && status !== 204) {\r\n        return callback(new Error('http status ' + status));\r\n      }\r\n      callback();\r\n    });\r\n    return function() {\r\n      xo.close();\r\n      xo = null;\r\n\r\n      var err = new Error('Aborted');\r\n      err.code = 1000;\r\n      callback(err);\r\n    };\r\n  };\r\n}\r\n\r\nfunction AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {\r\n  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);\r\n}\r\n\r\ninherits(AjaxBasedTransport, SenderReceiver);\r\n\r\nmodule.exports = AjaxBasedTransport;\r\n\r\n},{\"../../utils/url\":52,\"./sender-receiver\":28,\"inherits\":54}],25:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  ;\r\n\r\nfunction BufferedSender(url, sender) {\r\n  EventEmitter.call(this);\r\n  this.sendBuffer = [];\r\n  this.sender = sender;\r\n  this.url = url;\r\n}\r\n\r\ninherits(BufferedSender, EventEmitter);\r\n\r\nBufferedSender.prototype.send = function(message) {\r\n  this.sendBuffer.push(message);\r\n  if (!this.sendStop) {\r\n    this.sendSchedule();\r\n  }\r\n};\r\n\r\n// For polling transports in a situation when in the message callback,\r\n// new message is being send. If the sending connection was started\r\n// before receiving one, it is possible to saturate the network and\r\n// timeout due to the lack of receiving socket. To avoid that we delay\r\n// sending messages by some small time, in order to let receiving\r\n// connection be started beforehand. This is only a halfmeasure and\r\n// does not fix the big problem, but it does make the tests go more\r\n// stable on slow networks.\r\nBufferedSender.prototype.sendScheduleWait = function() {\r\n  var self = this;\r\n  var tref;\r\n  this.sendStop = function() {\r\n    self.sendStop = null;\r\n    clearTimeout(tref);\r\n  };\r\n  tref = setTimeout(function() {\r\n    self.sendStop = null;\r\n    self.sendSchedule();\r\n  }, 25);\r\n};\r\n\r\nBufferedSender.prototype.sendSchedule = function() {\r\n  var self = this;\r\n  if (this.sendBuffer.length > 0) {\r\n    var payload = '[' + this.sendBuffer.join(',') + ']';\r\n    this.sendStop = this.sender(this.url, payload, function(err) {\r\n      self.sendStop = null;\r\n      if (err) {\r\n        self.emit('close', err.code || 1006, 'Sending error: ' + err);\r\n        self._cleanup();\r\n      } else {\r\n        self.sendScheduleWait();\r\n      }\r\n    });\r\n    this.sendBuffer = [];\r\n  }\r\n};\r\n\r\nBufferedSender.prototype._cleanup = function() {\r\n  this.removeAllListeners();\r\n};\r\n\r\nBufferedSender.prototype.stop = function() {\r\n  this._cleanup();\r\n  if (this.sendStop) {\r\n    this.sendStop();\r\n    this.sendStop = null;\r\n  }\r\n};\r\n\r\nmodule.exports = BufferedSender;\r\n\r\n},{\"events\":3,\"inherits\":54}],26:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , IframeTransport = _dereq_('../iframe')\r\n  , objectUtils = _dereq_('../../utils/object')\r\n  ;\r\n\r\nmodule.exports = function(transport) {\r\n\r\n  function IframeWrapTransport(transUrl, baseUrl) {\r\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\r\n  }\r\n\r\n  inherits(IframeWrapTransport, IframeTransport);\r\n\r\n  IframeWrapTransport.enabled = function(url, info) {\r\n    if (!global.document) {\r\n      return false;\r\n    }\r\n\r\n    var iframeInfo = objectUtils.extend({}, info);\r\n    iframeInfo.sameOrigin = true;\r\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\r\n  };\r\n\r\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\r\n  IframeWrapTransport.needBody = true;\r\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\r\n\r\n  IframeWrapTransport.facadeTransport = transport;\r\n\r\n  return IframeWrapTransport;\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../../utils/object\":49,\"../iframe\":22,\"inherits\":54}],27:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  ;\r\n\r\nfunction Polling(Receiver, receiveUrl, AjaxObject) {\r\n  EventEmitter.call(this);\r\n  this.Receiver = Receiver;\r\n  this.receiveUrl = receiveUrl;\r\n  this.AjaxObject = AjaxObject;\r\n  this._scheduleReceiver();\r\n}\r\n\r\ninherits(Polling, EventEmitter);\r\n\r\nPolling.prototype._scheduleReceiver = function() {\r\n  var self = this;\r\n  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);\r\n\r\n  poll.on('message', function(msg) {\r\n    self.emit('message', msg);\r\n  });\r\n\r\n  poll.once('close', function(code, reason) {\r\n    self.poll = poll = null;\r\n\r\n    if (!self.pollIsClosing) {\r\n      if (reason === 'network') {\r\n        self._scheduleReceiver();\r\n      } else {\r\n        self.emit('close', code || 1006, reason);\r\n        self.removeAllListeners();\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nPolling.prototype.abort = function() {\r\n  this.removeAllListeners();\r\n  this.pollIsClosing = true;\r\n  if (this.poll) {\r\n    this.poll.abort();\r\n  }\r\n};\r\n\r\nmodule.exports = Polling;\r\n\r\n},{\"events\":3,\"inherits\":54}],28:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , urlUtils = _dereq_('../../utils/url')\r\n  , BufferedSender = _dereq_('./buffered-sender')\r\n  , Polling = _dereq_('./polling')\r\n  ;\r\n\r\nfunction SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {\r\n  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);\r\n  var self = this;\r\n  BufferedSender.call(this, transUrl, senderFunc);\r\n\r\n  this.poll = new Polling(Receiver, pollUrl, AjaxObject);\r\n  this.poll.on('message', function(msg) {\r\n    self.emit('message', msg);\r\n  });\r\n  this.poll.once('close', function(code, reason) {\r\n    self.poll = null;\r\n    self.emit('close', code, reason);\r\n    self.close();\r\n  });\r\n}\r\n\r\ninherits(SenderReceiver, BufferedSender);\r\n\r\nSenderReceiver.prototype.close = function() {\r\n  this.removeAllListeners();\r\n  if (this.poll) {\r\n    this.poll.abort();\r\n    this.poll = null;\r\n  }\r\n  this.stop();\r\n};\r\n\r\nmodule.exports = SenderReceiver;\r\n\r\n},{\"../../utils/url\":52,\"./buffered-sender\":25,\"./polling\":27,\"inherits\":54}],29:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  , EventSourceDriver = _dereq_('eventsource')\r\n  ;\r\n\r\nfunction EventSourceReceiver(url) {\r\n  EventEmitter.call(this);\r\n\r\n  var self = this;\r\n  var es = this.es = new EventSourceDriver(url);\r\n  es.onmessage = function(e) {\r\n    self.emit('message', decodeURI(e.data));\r\n  };\r\n  es.onerror = function(e) {\r\n    // ES on reconnection has readyState = 0 or 1.\r\n    // on network error it's CLOSED = 2\r\n    var reason = (es.readyState !== 2 ? 'network' : 'permanent');\r\n    self._cleanup();\r\n    self._close(reason);\r\n  };\r\n}\r\n\r\ninherits(EventSourceReceiver, EventEmitter);\r\n\r\nEventSourceReceiver.prototype.abort = function() {\r\n  this._cleanup();\r\n  this._close('user');\r\n};\r\n\r\nEventSourceReceiver.prototype._cleanup = function() {\r\n  var es = this.es;\r\n  if (es) {\r\n    es.onmessage = es.onerror = null;\r\n    es.close();\r\n    this.es = null;\r\n  }\r\n};\r\n\r\nEventSourceReceiver.prototype._close = function(reason) {\r\n  var self = this;\r\n  // Safari and chrome < 15 crash if we close window before\r\n  // waiting for ES cleanup. See:\r\n  // https://code.google.com/p/chromium/issues/detail?id=89155\r\n  setTimeout(function() {\r\n    self.emit('close', null, reason);\r\n    self.removeAllListeners();\r\n  }, 200);\r\n};\r\n\r\nmodule.exports = EventSourceReceiver;\r\n\r\n},{\"events\":3,\"eventsource\":18,\"inherits\":54}],30:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , iframeUtils = _dereq_('../../utils/iframe')\r\n  , urlUtils = _dereq_('../../utils/url')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  , random = _dereq_('../../utils/random')\r\n  ;\r\n\r\nfunction HtmlfileReceiver(url) {\r\n  EventEmitter.call(this);\r\n  var self = this;\r\n  iframeUtils.polluteGlobalNamespace();\r\n\r\n  this.id = 'a' + random.string(6);\r\n  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));\r\n\r\n  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?\r\n      iframeUtils.createHtmlfile : iframeUtils.createIframe;\r\n\r\n  global[iframeUtils.WPrefix][this.id] = {\r\n    start: function() {\r\n      self.iframeObj.loaded();\r\n    }\r\n  , message: function(data) {\r\n      self.emit('message', data);\r\n    }\r\n  , stop: function() {\r\n      self._cleanup();\r\n      self._close('network');\r\n    }\r\n  };\r\n  this.iframeObj = constructFunc(url, function() {\r\n    self._cleanup();\r\n    self._close('permanent');\r\n  });\r\n}\r\n\r\ninherits(HtmlfileReceiver, EventEmitter);\r\n\r\nHtmlfileReceiver.prototype.abort = function() {\r\n  this._cleanup();\r\n  this._close('user');\r\n};\r\n\r\nHtmlfileReceiver.prototype._cleanup = function() {\r\n  if (this.iframeObj) {\r\n    this.iframeObj.cleanup();\r\n    this.iframeObj = null;\r\n  }\r\n  delete global[iframeUtils.WPrefix][this.id];\r\n};\r\n\r\nHtmlfileReceiver.prototype._close = function(reason) {\r\n  this.emit('close', null, reason);\r\n  this.removeAllListeners();\r\n};\r\n\r\nHtmlfileReceiver.htmlfileEnabled = false;\r\n\r\n// obfuscate to avoid firewalls\r\nvar axo = ['Active'].concat('Object').join('X');\r\nif (axo in global) {\r\n  try {\r\n    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');\r\n  } catch (x) {}\r\n}\r\n\r\nHtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;\r\n\r\nmodule.exports = HtmlfileReceiver;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../../utils/iframe\":47,\"../../utils/random\":50,\"../../utils/url\":52,\"events\":3,\"inherits\":54}],31:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar utils = _dereq_('../../utils/iframe')\r\n  , random = _dereq_('../../utils/random')\r\n  , browser = _dereq_('../../utils/browser')\r\n  , urlUtils = _dereq_('../../utils/url')\r\n  , inherits = _dereq_('inherits')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  ;\r\n\r\nfunction JsonpReceiver(url) {\r\n  var self = this;\r\n  EventEmitter.call(this);\r\n\r\n  utils.polluteGlobalNamespace();\r\n\r\n  this.id = 'a' + random.string(6);\r\n  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));\r\n\r\n  global[utils.WPrefix][this.id] = this._callback.bind(this);\r\n  this._createScript(urlWithId);\r\n\r\n  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.\r\n  this.timeoutId = setTimeout(function() {\r\n    self._abort(new Error('JSONP script loaded abnormally (timeout)'));\r\n  }, JsonpReceiver.timeout);\r\n}\r\n\r\ninherits(JsonpReceiver, EventEmitter);\r\n\r\nJsonpReceiver.prototype.abort = function() {\r\n  if (global[utils.WPrefix][this.id]) {\r\n    var err = new Error('JSONP user aborted read');\r\n    err.code = 1000;\r\n    this._abort(err);\r\n  }\r\n};\r\n\r\nJsonpReceiver.timeout = 35000;\r\nJsonpReceiver.scriptErrorTimeout = 1000;\r\n\r\nJsonpReceiver.prototype._callback = function(data) {\r\n  this._cleanup();\r\n\r\n  if (this.aborting) {\r\n    return;\r\n  }\r\n\r\n  if (data) {\r\n    this.emit('message', data);\r\n  }\r\n  this.emit('close', null, 'network');\r\n  this.removeAllListeners();\r\n};\r\n\r\nJsonpReceiver.prototype._abort = function(err) {\r\n  this._cleanup();\r\n  this.aborting = true;\r\n  this.emit('close', err.code, err.message);\r\n  this.removeAllListeners();\r\n};\r\n\r\nJsonpReceiver.prototype._cleanup = function() {\r\n  clearTimeout(this.timeoutId);\r\n  if (this.script2) {\r\n    this.script2.parentNode.removeChild(this.script2);\r\n    this.script2 = null;\r\n  }\r\n  if (this.script) {\r\n    var script = this.script;\r\n    // Unfortunately, you can't really abort script loading of\r\n    // the script.\r\n    script.parentNode.removeChild(script);\r\n    script.onreadystatechange = script.onerror =\r\n        script.onload = script.onclick = null;\r\n    this.script = null;\r\n  }\r\n  delete global[utils.WPrefix][this.id];\r\n};\r\n\r\nJsonpReceiver.prototype._scriptError = function() {\r\n  var self = this;\r\n  if (this.errorTimer) {\r\n    return;\r\n  }\r\n\r\n  this.errorTimer = setTimeout(function() {\r\n    if (!self.loadedOkay) {\r\n      self._abort(new Error('JSONP script loaded abnormally (onerror)'));\r\n    }\r\n  }, JsonpReceiver.scriptErrorTimeout);\r\n};\r\n\r\nJsonpReceiver.prototype._createScript = function(url) {\r\n  var self = this;\r\n  var script = this.script = global.document.createElement('script');\r\n  var script2;  // Opera synchronous load trick.\r\n\r\n  script.id = 'a' + random.string(8);\r\n  script.src = url;\r\n  script.type = 'text/javascript';\r\n  script.charset = 'UTF-8';\r\n  script.onerror = this._scriptError.bind(this);\r\n  script.onload = function() {\r\n    self._abort(new Error('JSONP script loaded abnormally (onload)'));\r\n  };\r\n\r\n  // IE9 fires 'error' event after onreadystatechange or before, in random order.\r\n  // Use loadedOkay to determine if actually errored\r\n  script.onreadystatechange = function() {\r\n    if (/loaded|closed/.test(script.readyState)) {\r\n      if (script && script.htmlFor && script.onclick) {\r\n        self.loadedOkay = true;\r\n        try {\r\n          // In IE, actually execute the script.\r\n          script.onclick();\r\n        } catch (x) {}\r\n      }\r\n      if (script) {\r\n        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));\r\n      }\r\n    }\r\n  };\r\n  // IE: event/htmlFor/onclick trick.\r\n  // One can't rely on proper order for onreadystatechange. In order to\r\n  // make sure, set a 'htmlFor' and 'event' properties, so that\r\n  // script code will be installed as 'onclick' handler for the\r\n  // script object. Later, onreadystatechange, manually execute this\r\n  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'\r\n  // set. For reference see:\r\n  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\r\n  // Also, read on that about script ordering:\r\n  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\r\n  if (typeof script.async === 'undefined' && global.document.attachEvent) {\r\n    // According to mozilla docs, in recent browsers script.async defaults\r\n    // to 'true', so we may use it to detect a good browser:\r\n    // https://developer.mozilla.org/en/HTML/Element/script\r\n    if (!browser.isOpera()) {\r\n      // Naively assume we're in IE\r\n      try {\r\n        script.htmlFor = script.id;\r\n        script.event = 'onclick';\r\n      } catch (x) {}\r\n      script.async = true;\r\n    } else {\r\n      // Opera, second sync script hack\r\n      script2 = this.script2 = global.document.createElement('script');\r\n      script2.text = \"try{var a = document.getElementById('\" + script.id + \"'); if(a)a.onerror();}catch(x){};\";\r\n      script.async = script2.async = false;\r\n    }\r\n  }\r\n  if (typeof script.async !== 'undefined') {\r\n    script.async = true;\r\n  }\r\n\r\n  var head = global.document.getElementsByTagName('head')[0];\r\n  head.insertBefore(script, head.firstChild);\r\n  if (script2) {\r\n    head.insertBefore(script2, head.firstChild);\r\n  }\r\n};\r\n\r\nmodule.exports = JsonpReceiver;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../../utils/browser\":44,\"../../utils/iframe\":47,\"../../utils/random\":50,\"../../utils/url\":52,\"events\":3,\"inherits\":54}],32:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  ;\r\n\r\nfunction XhrReceiver(url, AjaxObject) {\r\n  EventEmitter.call(this);\r\n  var self = this;\r\n\r\n  this.bufferPosition = 0;\r\n\r\n  this.xo = new AjaxObject('POST', url, null);\r\n  this.xo.on('chunk', this._chunkHandler.bind(this));\r\n  this.xo.once('finish', function(status, text) {\r\n    self._chunkHandler(status, text);\r\n    self.xo = null;\r\n    var reason = status === 200 ? 'network' : 'permanent';\r\n    self.emit('close', null, reason);\r\n    self._cleanup();\r\n  });\r\n}\r\n\r\ninherits(XhrReceiver, EventEmitter);\r\n\r\nXhrReceiver.prototype._chunkHandler = function(status, text) {\r\n  if (status !== 200 || !text) {\r\n    return;\r\n  }\r\n\r\n  for (var idx = -1; ; this.bufferPosition += idx + 1) {\r\n    var buf = text.slice(this.bufferPosition);\r\n    idx = buf.indexOf('\\n');\r\n    if (idx === -1) {\r\n      break;\r\n    }\r\n    var msg = buf.slice(0, idx);\r\n    if (msg) {\r\n      this.emit('message', msg);\r\n    }\r\n  }\r\n};\r\n\r\nXhrReceiver.prototype._cleanup = function() {\r\n  this.removeAllListeners();\r\n};\r\n\r\nXhrReceiver.prototype.abort = function() {\r\n  if (this.xo) {\r\n    this.xo.close();\r\n    this.emit('close', null, 'user');\r\n    this.xo = null;\r\n  }\r\n  this._cleanup();\r\n};\r\n\r\nmodule.exports = XhrReceiver;\r\n\r\n},{\"events\":3,\"inherits\":54}],33:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar random = _dereq_('../../utils/random')\r\n  , urlUtils = _dereq_('../../utils/url')\r\n  ;\r\n\r\nvar form, area;\r\n\r\nfunction createIframe(id) {\r\n  try {\r\n    // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\r\n    return global.document.createElement('<iframe name=\"' + id + '\">');\r\n  } catch (x) {\r\n    var iframe = global.document.createElement('iframe');\r\n    iframe.name = id;\r\n    return iframe;\r\n  }\r\n}\r\n\r\nfunction createForm() {\r\n  form = global.document.createElement('form');\r\n  form.style.display = 'none';\r\n  form.style.position = 'absolute';\r\n  form.method = 'POST';\r\n  form.enctype = 'application/x-www-form-urlencoded';\r\n  form.acceptCharset = 'UTF-8';\r\n\r\n  area = global.document.createElement('textarea');\r\n  area.name = 'd';\r\n  form.appendChild(area);\r\n\r\n  global.document.body.appendChild(form);\r\n}\r\n\r\nmodule.exports = function(url, payload, callback) {\r\n  if (!form) {\r\n    createForm();\r\n  }\r\n  var id = 'a' + random.string(8);\r\n  form.target = id;\r\n  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);\r\n\r\n  var iframe = createIframe(id);\r\n  iframe.id = id;\r\n  iframe.style.display = 'none';\r\n  form.appendChild(iframe);\r\n\r\n  try {\r\n    area.value = payload;\r\n  } catch (e) {\r\n    // seriously broken browsers get here\r\n  }\r\n  form.submit();\r\n\r\n  var completed = function(err) {\r\n    if (!iframe.onerror) {\r\n      return;\r\n    }\r\n    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;\r\n    // Opera mini doesn't like if we GC iframe\r\n    // immediately, thus this timeout.\r\n    setTimeout(function() {\r\n      iframe.parentNode.removeChild(iframe);\r\n      iframe = null;\r\n    }, 500);\r\n    area.value = '';\r\n    // It is not possible to detect if the iframe succeeded or\r\n    // failed to submit our form.\r\n    callback(err);\r\n  };\r\n  iframe.onerror = function() {\r\n    completed();\r\n  };\r\n  iframe.onload = function() {\r\n    completed();\r\n  };\r\n  iframe.onreadystatechange = function(e) {\r\n    if (iframe.readyState === 'complete') {\r\n      completed();\r\n    }\r\n  };\r\n  return function() {\r\n    completed(new Error('Aborted'));\r\n  };\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../../utils/random\":50,\"../../utils/url\":52}],34:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('events').EventEmitter\r\n  , inherits = _dereq_('inherits')\r\n  , eventUtils = _dereq_('../../utils/event')\r\n  , browser = _dereq_('../../utils/browser')\r\n  , urlUtils = _dereq_('../../utils/url')\r\n  ;\r\n\r\n// References:\r\n//   http://ajaxian.com/archives/100-line-ajax-wrapper\r\n//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\r\n\r\nfunction XDRObject(method, url, payload) {\r\n  var self = this;\r\n  EventEmitter.call(this);\r\n\r\n  setTimeout(function() {\r\n    self._start(method, url, payload);\r\n  }, 0);\r\n}\r\n\r\ninherits(XDRObject, EventEmitter);\r\n\r\nXDRObject.prototype._start = function(method, url, payload) {\r\n  var self = this;\r\n  var xdr = new global.XDomainRequest();\r\n  // IE caches even POSTs\r\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\r\n\r\n  xdr.onerror = function() {\r\n    self._error();\r\n  };\r\n  xdr.ontimeout = function() {\r\n    self._error();\r\n  };\r\n  xdr.onprogress = function() {\r\n    self.emit('chunk', 200, xdr.responseText);\r\n  };\r\n  xdr.onload = function() {\r\n    self.emit('finish', 200, xdr.responseText);\r\n    self._cleanup(false);\r\n  };\r\n  this.xdr = xdr;\r\n  this.unloadRef = eventUtils.unloadAdd(function() {\r\n    self._cleanup(true);\r\n  });\r\n  try {\r\n    // Fails with AccessDenied if port number is bogus\r\n    this.xdr.open(method, url);\r\n    if (this.timeout) {\r\n      this.xdr.timeout = this.timeout;\r\n    }\r\n    this.xdr.send(payload);\r\n  } catch (x) {\r\n    this._error();\r\n  }\r\n};\r\n\r\nXDRObject.prototype._error = function() {\r\n  this.emit('finish', 0, '');\r\n  this._cleanup(false);\r\n};\r\n\r\nXDRObject.prototype._cleanup = function(abort) {\r\n  if (!this.xdr) {\r\n    return;\r\n  }\r\n  this.removeAllListeners();\r\n  eventUtils.unloadDel(this.unloadRef);\r\n\r\n  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;\r\n  if (abort) {\r\n    try {\r\n      this.xdr.abort();\r\n    } catch (x) {}\r\n  }\r\n  this.unloadRef = this.xdr = null;\r\n};\r\n\r\nXDRObject.prototype.close = function() {\r\n  this._cleanup(true);\r\n};\r\n\r\n// IE 8/9 if the request target uses the same scheme - #79\r\nXDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());\r\n\r\nmodule.exports = XDRObject;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../../utils/browser\":44,\"../../utils/event\":46,\"../../utils/url\":52,\"events\":3,\"inherits\":54}],35:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , XhrDriver = _dereq_('../driver/xhr')\r\n  ;\r\n\r\nfunction XHRCorsObject(method, url, payload, opts) {\r\n  XhrDriver.call(this, method, url, payload, opts);\r\n}\r\n\r\ninherits(XHRCorsObject, XhrDriver);\r\n\r\nXHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;\r\n\r\nmodule.exports = XHRCorsObject;\r\n\r\n},{\"../driver/xhr\":17,\"inherits\":54}],36:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar EventEmitter = _dereq_('events').EventEmitter\r\n  , inherits = _dereq_('inherits')\r\n  ;\r\n\r\nfunction XHRFake(/* method, url, payload, opts */) {\r\n  var self = this;\r\n  EventEmitter.call(this);\r\n\r\n  this.to = setTimeout(function() {\r\n    self.emit('finish', 200, '{}');\r\n  }, XHRFake.timeout);\r\n}\r\n\r\ninherits(XHRFake, EventEmitter);\r\n\r\nXHRFake.prototype.close = function() {\r\n  clearTimeout(this.to);\r\n};\r\n\r\nXHRFake.timeout = 2000;\r\n\r\nmodule.exports = XHRFake;\r\n\r\n},{\"events\":3,\"inherits\":54}],37:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , XhrDriver = _dereq_('../driver/xhr')\r\n  ;\r\n\r\nfunction XHRLocalObject(method, url, payload /*, opts */) {\r\n  XhrDriver.call(this, method, url, payload, {\r\n    noCredentials: true\r\n  });\r\n}\r\n\r\ninherits(XHRLocalObject, XhrDriver);\r\n\r\nXHRLocalObject.enabled = XhrDriver.enabled;\r\n\r\nmodule.exports = XHRLocalObject;\r\n\r\n},{\"../driver/xhr\":17,\"inherits\":54}],38:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar utils = _dereq_('../utils/event')\r\n  , urlUtils = _dereq_('../utils/url')\r\n  , inherits = _dereq_('inherits')\r\n  , EventEmitter = _dereq_('events').EventEmitter\r\n  , WebsocketDriver = _dereq_('./driver/websocket')\r\n  ;\r\n\r\nfunction WebSocketTransport(transUrl) {\r\n  if (!WebSocketTransport.enabled()) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n\r\n  EventEmitter.call(this);\r\n\r\n  var self = this;\r\n  var url = urlUtils.addPath(transUrl, '/websocket');\r\n  if (url.slice(0, 5) === 'https') {\r\n    url = 'wss' + url.slice(5);\r\n  } else {\r\n    url = 'ws' + url.slice(4);\r\n  }\r\n  this.url = url;\r\n\r\n  this.ws = new WebsocketDriver(this.url);\r\n  this.ws.onmessage = function(e) {\r\n    self.emit('message', e.data);\r\n  };\r\n  // Firefox has an interesting bug. If a websocket connection is\r\n  // created after onunload, it stays alive even when user\r\n  // navigates away from the page. In such situation let's lie -\r\n  // let's not open the ws connection at all. See:\r\n  // https://github.com/sockjs/sockjs-client/issues/28\r\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085\r\n  this.unloadRef = utils.unloadAdd(function() {\r\n    self.ws.close();\r\n  });\r\n  this.ws.onclose = function(e) {\r\n    self.emit('close', e.code, e.reason);\r\n    self._cleanup();\r\n  };\r\n  this.ws.onerror = function(e) {\r\n    self.emit('close', 1006, 'WebSocket connection broken');\r\n    self._cleanup();\r\n  };\r\n}\r\n\r\ninherits(WebSocketTransport, EventEmitter);\r\n\r\nWebSocketTransport.prototype.send = function(data) {\r\n  var msg = '[' + data + ']';\r\n  this.ws.send(msg);\r\n};\r\n\r\nWebSocketTransport.prototype.close = function() {\r\n  if (this.ws) {\r\n    this.ws.close();\r\n  }\r\n  this._cleanup();\r\n};\r\n\r\nWebSocketTransport.prototype._cleanup = function() {\r\n  var ws = this.ws;\r\n  if (ws) {\r\n    ws.onmessage = ws.onclose = ws.onerror = null;\r\n  }\r\n  utils.unloadDel(this.unloadRef);\r\n  this.unloadRef = this.ws = null;\r\n  this.removeAllListeners();\r\n};\r\n\r\nWebSocketTransport.enabled = function() {\r\n  return !!WebsocketDriver;\r\n};\r\nWebSocketTransport.transportName = 'websocket';\r\n\r\n// In theory, ws should require 1 round trip. But in chrome, this is\r\n// not very stable over SSL. Most likely a ws connection requires a\r\n// separate SSL connection, in which case 2 round trips are an\r\n// absolute minumum.\r\nWebSocketTransport.roundTrips = 2;\r\n\r\nmodule.exports = WebSocketTransport;\r\n\r\n},{\"../utils/event\":46,\"../utils/url\":52,\"./driver/websocket\":19,\"events\":3,\"inherits\":54}],39:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , AjaxBasedTransport = _dereq_('./lib/ajax-based')\r\n  , XdrStreamingTransport = _dereq_('./xdr-streaming')\r\n  , XhrReceiver = _dereq_('./receiver/xhr')\r\n  , XDRObject = _dereq_('./sender/xdr')\r\n  ;\r\n\r\nfunction XdrPollingTransport(transUrl) {\r\n  if (!XDRObject.enabled) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);\r\n}\r\n\r\ninherits(XdrPollingTransport, AjaxBasedTransport);\r\n\r\nXdrPollingTransport.enabled = XdrStreamingTransport.enabled;\r\nXdrPollingTransport.transportName = 'xdr-polling';\r\nXdrPollingTransport.roundTrips = 2; // preflight, ajax\r\n\r\nmodule.exports = XdrPollingTransport;\r\n\r\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xdr\":34,\"./xdr-streaming\":40,\"inherits\":54}],40:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , AjaxBasedTransport = _dereq_('./lib/ajax-based')\r\n  , XhrReceiver = _dereq_('./receiver/xhr')\r\n  , XDRObject = _dereq_('./sender/xdr')\r\n  ;\r\n\r\n// According to:\r\n//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests\r\n//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\r\n\r\nfunction XdrStreamingTransport(transUrl) {\r\n  if (!XDRObject.enabled) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);\r\n}\r\n\r\ninherits(XdrStreamingTransport, AjaxBasedTransport);\r\n\r\nXdrStreamingTransport.enabled = function(info) {\r\n  if (info.cookie_needed || info.nullOrigin) {\r\n    return false;\r\n  }\r\n  return XDRObject.enabled && info.sameScheme;\r\n};\r\n\r\nXdrStreamingTransport.transportName = 'xdr-streaming';\r\nXdrStreamingTransport.roundTrips = 2; // preflight, ajax\r\n\r\nmodule.exports = XdrStreamingTransport;\r\n\r\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xdr\":34,\"inherits\":54}],41:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , AjaxBasedTransport = _dereq_('./lib/ajax-based')\r\n  , XhrReceiver = _dereq_('./receiver/xhr')\r\n  , XHRCorsObject = _dereq_('./sender/xhr-cors')\r\n  , XHRLocalObject = _dereq_('./sender/xhr-local')\r\n  ;\r\n\r\nfunction XhrPollingTransport(transUrl) {\r\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);\r\n}\r\n\r\ninherits(XhrPollingTransport, AjaxBasedTransport);\r\n\r\nXhrPollingTransport.enabled = function(info) {\r\n  if (info.nullOrigin) {\r\n    return false;\r\n  }\r\n\r\n  if (XHRLocalObject.enabled && info.sameOrigin) {\r\n    return true;\r\n  }\r\n  return XHRCorsObject.enabled;\r\n};\r\n\r\nXhrPollingTransport.transportName = 'xhr-polling';\r\nXhrPollingTransport.roundTrips = 2; // preflight, ajax\r\n\r\nmodule.exports = XhrPollingTransport;\r\n\r\n},{\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xhr-cors\":35,\"./sender/xhr-local\":37,\"inherits\":54}],42:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar inherits = _dereq_('inherits')\r\n  , AjaxBasedTransport = _dereq_('./lib/ajax-based')\r\n  , XhrReceiver = _dereq_('./receiver/xhr')\r\n  , XHRCorsObject = _dereq_('./sender/xhr-cors')\r\n  , XHRLocalObject = _dereq_('./sender/xhr-local')\r\n  , browser = _dereq_('../utils/browser')\r\n  ;\r\n\r\nfunction XhrStreamingTransport(transUrl) {\r\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\r\n    throw new Error('Transport created when disabled');\r\n  }\r\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);\r\n}\r\n\r\ninherits(XhrStreamingTransport, AjaxBasedTransport);\r\n\r\nXhrStreamingTransport.enabled = function(info) {\r\n  if (info.nullOrigin) {\r\n    return false;\r\n  }\r\n  // Opera doesn't support xhr-streaming #60\r\n  // But it might be able to #92\r\n  if (browser.isOpera()) {\r\n    return false;\r\n  }\r\n\r\n  return XHRCorsObject.enabled;\r\n};\r\n\r\nXhrStreamingTransport.transportName = 'xhr-streaming';\r\nXhrStreamingTransport.roundTrips = 2; // preflight, ajax\r\n\r\n// Safari gets confused when a streaming ajax request is started\r\n// before onload. This causes the load indicator to spin indefinetely.\r\n// Only require body when used in a browser\r\nXhrStreamingTransport.needBody = !!global.document;\r\n\r\nmodule.exports = XhrStreamingTransport;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"../utils/browser\":44,\"./lib/ajax-based\":24,\"./receiver/xhr\":32,\"./sender/xhr-cors\":35,\"./sender/xhr-local\":37,\"inherits\":54}],43:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nif (global.crypto && global.crypto.getRandomValues) {\r\n  module.exports.randomBytes = function(length) {\r\n    var bytes = new Uint8Array(length);\r\n    global.crypto.getRandomValues(bytes);\r\n    return bytes;\r\n  };\r\n} else {\r\n  module.exports.randomBytes = function(length) {\r\n    var bytes = new Array(length);\r\n    for (var i = 0; i < length; i++) {\r\n      bytes[i] = Math.floor(Math.random() * 256);\r\n    }\r\n    return bytes;\r\n  };\r\n}\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],44:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nmodule.exports = {\r\n  isOpera: function() {\r\n    return global.navigator &&\r\n      /opera/i.test(global.navigator.userAgent);\r\n  }\r\n\r\n, isKonqueror: function() {\r\n    return global.navigator &&\r\n      /konqueror/i.test(global.navigator.userAgent);\r\n  }\r\n\r\n  // #187 wrap document.domain in try/catch because of WP8 from file:///\r\n, hasDomain: function () {\r\n    // non-browser client always has a domain\r\n    if (!global.document) {\r\n      return true;\r\n    }\r\n\r\n    try {\r\n      return !!global.document.domain;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],45:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar JSON3 = _dereq_('json3');\r\n\r\n// Some extra characters that Chrome gets wrong, and substitutes with\r\n// something else on the wire.\r\nvar extraEscapable = /[\\x00-\\x1f\\ud800-\\udfff\\ufffe\\uffff\\u0300-\\u0333\\u033d-\\u0346\\u034a-\\u034c\\u0350-\\u0352\\u0357-\\u0358\\u035c-\\u0362\\u0374\\u037e\\u0387\\u0591-\\u05af\\u05c4\\u0610-\\u0617\\u0653-\\u0654\\u0657-\\u065b\\u065d-\\u065e\\u06df-\\u06e2\\u06eb-\\u06ec\\u0730\\u0732-\\u0733\\u0735-\\u0736\\u073a\\u073d\\u073f-\\u0741\\u0743\\u0745\\u0747\\u07eb-\\u07f1\\u0951\\u0958-\\u095f\\u09dc-\\u09dd\\u09df\\u0a33\\u0a36\\u0a59-\\u0a5b\\u0a5e\\u0b5c-\\u0b5d\\u0e38-\\u0e39\\u0f43\\u0f4d\\u0f52\\u0f57\\u0f5c\\u0f69\\u0f72-\\u0f76\\u0f78\\u0f80-\\u0f83\\u0f93\\u0f9d\\u0fa2\\u0fa7\\u0fac\\u0fb9\\u1939-\\u193a\\u1a17\\u1b6b\\u1cda-\\u1cdb\\u1dc0-\\u1dcf\\u1dfc\\u1dfe\\u1f71\\u1f73\\u1f75\\u1f77\\u1f79\\u1f7b\\u1f7d\\u1fbb\\u1fbe\\u1fc9\\u1fcb\\u1fd3\\u1fdb\\u1fe3\\u1feb\\u1fee-\\u1fef\\u1ff9\\u1ffb\\u1ffd\\u2000-\\u2001\\u20d0-\\u20d1\\u20d4-\\u20d7\\u20e7-\\u20e9\\u2126\\u212a-\\u212b\\u2329-\\u232a\\u2adc\\u302b-\\u302c\\uaab2-\\uaab3\\uf900-\\ufa0d\\ufa10\\ufa12\\ufa15-\\ufa1e\\ufa20\\ufa22\\ufa25-\\ufa26\\ufa2a-\\ufa2d\\ufa30-\\ufa6d\\ufa70-\\ufad9\\ufb1d\\ufb1f\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4e\\ufff0-\\uffff]/g\r\n  , extraLookup;\r\n\r\n// This may be quite slow, so let's delay until user actually uses bad\r\n// characters.\r\nvar unrollLookup = function(escapable) {\r\n  var i;\r\n  var unrolled = {};\r\n  var c = [];\r\n  for (i = 0; i < 65536; i++) {\r\n    c.push( String.fromCharCode(i) );\r\n  }\r\n  escapable.lastIndex = 0;\r\n  c.join('').replace(escapable, function(a) {\r\n    unrolled[ a ] = '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\r\n    return '';\r\n  });\r\n  escapable.lastIndex = 0;\r\n  return unrolled;\r\n};\r\n\r\n// Quote string, also taking care of unicode characters that browsers\r\n// often break. Especially, take care of unicode surrogates:\r\n// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\r\nmodule.exports = {\r\n  quote: function(string) {\r\n    var quoted = JSON3.stringify(string);\r\n\r\n    // In most cases this should be very fast and good enough.\r\n    extraEscapable.lastIndex = 0;\r\n    if (!extraEscapable.test(quoted)) {\r\n      return quoted;\r\n    }\r\n\r\n    if (!extraLookup) {\r\n      extraLookup = unrollLookup(extraEscapable);\r\n    }\r\n\r\n    return quoted.replace(extraEscapable, function(a) {\r\n      return extraLookup[a];\r\n    });\r\n  }\r\n};\r\n\r\n},{\"json3\":55}],46:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar random = _dereq_('./random');\r\n\r\nvar onUnload = {}\r\n  , afterUnload = false\r\n  ;\r\n\r\nmodule.exports = {\r\n  attachEvent: function(event, listener) {\r\n    if (typeof global.addEventListener !== 'undefined') {\r\n      global.addEventListener(event, listener, false);\r\n    } else if (global.document && global.attachEvent) {\r\n      // IE quirks.\r\n      // According to: http://stevesouders.com/misc/test-postmessage.php\r\n      // the message gets delivered only to 'document', not 'window'.\r\n      global.document.attachEvent('on' + event, listener);\r\n      // I get 'window' for ie8.\r\n      global.attachEvent('on' + event, listener);\r\n    }\r\n  }\r\n\r\n, detachEvent: function(event, listener) {\r\n    if (typeof global.addEventListener !== 'undefined') {\r\n      global.removeEventListener(event, listener, false);\r\n    } else if (global.document && global.detachEvent) {\r\n      global.document.detachEvent('on' + event, listener);\r\n      global.detachEvent('on' + event, listener);\r\n    }\r\n  }\r\n\r\n, unloadAdd: function(listener) {\r\n    var ref = random.string(8);\r\n    onUnload[ref] = listener;\r\n    if (afterUnload) {\r\n      setTimeout(this.triggerUnloadCallbacks, 0);\r\n    }\r\n    return ref;\r\n  }\r\n\r\n, unloadDel: function(ref) {\r\n    if (ref in onUnload) {\r\n      delete onUnload[ref];\r\n    }\r\n  }\r\n\r\n, triggerUnloadCallbacks: function() {\r\n    for (var ref in onUnload) {\r\n      onUnload[ref]();\r\n      delete onUnload[ref];\r\n    }\r\n  }\r\n};\r\n\r\nvar unloadTriggered = function() {\r\n  if (afterUnload) {\r\n    return;\r\n  }\r\n  afterUnload = true;\r\n  module.exports.triggerUnloadCallbacks();\r\n};\r\n\r\n// 'unload' alone is not reliable in opera within an iframe, but we\r\n// can't use `beforeunload` as IE fires it on javascript: links.\r\nmodule.exports.attachEvent('unload', unloadTriggered);\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./random\":50}],47:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar eventUtils = _dereq_('./event')\r\n  , JSON3 = _dereq_('json3')\r\n  , browser = _dereq_('./browser')\r\n  ;\r\n\r\nmodule.exports = {\r\n  WPrefix: '_jp'\r\n, currentWindowId: null\r\n\r\n, polluteGlobalNamespace: function() {\r\n    if (!(module.exports.WPrefix in global)) {\r\n      global[module.exports.WPrefix] = {};\r\n    }\r\n  }\r\n\r\n, postMessage: function(type, data) {\r\n    if (global.parent !== global) {\r\n      global.parent.postMessage(JSON3.stringify({\r\n        windowId: module.exports.currentWindowId\r\n      , type: type\r\n      , data: data || ''\r\n      }), '*');\r\n    } else {\r\n    }\r\n  }\r\n\r\n, createIframe: function(iframeUrl, errorCallback) {\r\n    var iframe = global.document.createElement('iframe');\r\n    var tref, unloadRef;\r\n    var unattach = function() {\r\n      clearTimeout(tref);\r\n      // Explorer had problems with that.\r\n      try {\r\n        iframe.onload = null;\r\n      } catch (x) {}\r\n      iframe.onerror = null;\r\n    };\r\n    var cleanup = function() {\r\n      if (iframe) {\r\n        unattach();\r\n        // This timeout makes chrome fire onbeforeunload event\r\n        // within iframe. Without the timeout it goes straight to\r\n        // onunload.\r\n        setTimeout(function() {\r\n          if (iframe) {\r\n            iframe.parentNode.removeChild(iframe);\r\n          }\r\n          iframe = null;\r\n        }, 0);\r\n        eventUtils.unloadDel(unloadRef);\r\n      }\r\n    };\r\n    var onerror = function(err) {\r\n      if (iframe) {\r\n        cleanup();\r\n        errorCallback(err);\r\n      }\r\n    };\r\n    var post = function(msg, origin) {\r\n      try {\r\n        // When the iframe is not loaded, IE raises an exception\r\n        // on 'contentWindow'.\r\n        if (iframe && iframe.contentWindow) {\r\n          setTimeout(function() {\r\n            iframe.contentWindow.postMessage(msg, origin);\r\n          }, 0);\r\n        }\r\n      } catch (x) {}\r\n    };\r\n\r\n    iframe.src = iframeUrl;\r\n    iframe.style.display = 'none';\r\n    iframe.style.position = 'absolute';\r\n    iframe.onerror = function() {\r\n      onerror('onerror');\r\n    };\r\n    iframe.onload = function() {\r\n      // `onload` is triggered before scripts on the iframe are\r\n      // executed. Give it few seconds to actually load stuff.\r\n      clearTimeout(tref);\r\n      tref = setTimeout(function() {\r\n        onerror('onload timeout');\r\n      }, 2000);\r\n    };\r\n    global.document.body.appendChild(iframe);\r\n    tref = setTimeout(function() {\r\n      onerror('timeout');\r\n    }, 15000);\r\n    unloadRef = eventUtils.unloadAdd(cleanup);\r\n    return {\r\n      post: post\r\n    , cleanup: cleanup\r\n    , loaded: unattach\r\n    };\r\n  }\r\n\r\n/* jshint undef: false, newcap: false */\r\n/* eslint no-undef: 0, new-cap: 0 */\r\n, createHtmlfile: function(iframeUrl, errorCallback) {\r\n    var axo = ['Active'].concat('Object').join('X');\r\n    var doc = new global[axo]('htmlfile');\r\n    var tref, unloadRef;\r\n    var iframe;\r\n    var unattach = function() {\r\n      clearTimeout(tref);\r\n      iframe.onerror = null;\r\n    };\r\n    var cleanup = function() {\r\n      if (doc) {\r\n        unattach();\r\n        eventUtils.unloadDel(unloadRef);\r\n        iframe.parentNode.removeChild(iframe);\r\n        iframe = doc = null;\r\n        CollectGarbage();\r\n      }\r\n    };\r\n    var onerror = function(r)  {\r\n      if (doc) {\r\n        cleanup();\r\n        errorCallback(r);\r\n      }\r\n    };\r\n    var post = function(msg, origin) {\r\n      try {\r\n        // When the iframe is not loaded, IE raises an exception\r\n        // on 'contentWindow'.\r\n        if (iframe && iframe.contentWindow) {\r\n          setTimeout(function() {\r\n            iframe.contentWindow.postMessage(msg, origin);\r\n          }, 0);\r\n        }\r\n      } catch (x) {}\r\n    };\r\n\r\n    doc.open();\r\n    doc.write('<html><s' + 'cript>' +\r\n              'document.domain=\"' + global.document.domain + '\";' +\r\n              '</s' + 'cript></html>');\r\n    doc.close();\r\n    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];\r\n    var c = doc.createElement('div');\r\n    doc.body.appendChild(c);\r\n    iframe = doc.createElement('iframe');\r\n    c.appendChild(iframe);\r\n    iframe.src = iframeUrl;\r\n    iframe.onerror = function() {\r\n      onerror('onerror');\r\n    };\r\n    tref = setTimeout(function() {\r\n      onerror('timeout');\r\n    }, 15000);\r\n    unloadRef = eventUtils.unloadAdd(cleanup);\r\n    return {\r\n      post: post\r\n    , cleanup: cleanup\r\n    , loaded: unattach\r\n    };\r\n  }\r\n};\r\n\r\nmodule.exports.iframeEnabled = false;\r\nif (global.document) {\r\n  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with\r\n  // huge delay, or not at all.\r\n  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||\r\n    typeof global.postMessage === 'object') && (!browser.isKonqueror());\r\n}\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./browser\":44,\"./event\":46,\"json3\":55}],48:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\nvar logObject = {};\r\n['log', 'debug', 'warn'].forEach(function (level) {\r\n  var levelExists = global.console && global.console[level] && global.console[level].apply;\r\n  logObject[level] = levelExists ? function () {\r\n    return global.console[level].apply(global.console, arguments);\r\n  } : (level === 'log' ? function () {} : logObject.log);\r\n});\r\n\r\nmodule.exports = logObject;\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],49:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nmodule.exports = {\r\n  isObject: function(obj) {\r\n    var type = typeof obj;\r\n    return type === 'function' || type === 'object' && !!obj;\r\n  }\r\n\r\n, extend: function(obj) {\r\n    if (!this.isObject(obj)) {\r\n      return obj;\r\n    }\r\n    var source, prop;\r\n    for (var i = 1, length = arguments.length; i < length; i++) {\r\n      source = arguments[i];\r\n      for (prop in source) {\r\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\r\n          obj[prop] = source[prop];\r\n        }\r\n      }\r\n    }\r\n    return obj;\r\n  }\r\n};\r\n\r\n},{}],50:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n/* global crypto:true */\r\nvar crypto = _dereq_('crypto');\r\n\r\n// This string has length 32, a power of 2, so the modulus doesn't introduce a\r\n// bias.\r\nvar _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';\r\nmodule.exports = {\r\n  string: function(length) {\r\n    var max = _randomStringChars.length;\r\n    var bytes = crypto.randomBytes(length);\r\n    var ret = [];\r\n    for (var i = 0; i < length; i++) {\r\n      ret.push(_randomStringChars.substr(bytes[i] % max, 1));\r\n    }\r\n    return ret.join('');\r\n  }\r\n\r\n, number: function(max) {\r\n    return Math.floor(Math.random() * max);\r\n  }\r\n\r\n, numberString: function(max) {\r\n    var t = ('' + (max - 1)).length;\r\n    var p = new Array(t + 1).join('0');\r\n    return (p + this.number(max)).slice(-t);\r\n  }\r\n};\r\n\r\n},{\"crypto\":43}],51:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nmodule.exports = function(availableTransports) {\r\n  return {\r\n    filterToEnabled: function(transportsWhitelist, info) {\r\n      var transports = {\r\n        main: []\r\n      , facade: []\r\n      };\r\n      if (!transportsWhitelist) {\r\n        transportsWhitelist = [];\r\n      } else if (typeof transportsWhitelist === 'string') {\r\n        transportsWhitelist = [transportsWhitelist];\r\n      }\r\n\r\n      availableTransports.forEach(function(trans) {\r\n        if (!trans) {\r\n          return;\r\n        }\r\n\r\n        if (trans.transportName === 'websocket' && info.websocket === false) {\r\n          return;\r\n        }\r\n\r\n        if (transportsWhitelist.length &&\r\n            transportsWhitelist.indexOf(trans.transportName) === -1) {\r\n          return;\r\n        }\r\n\r\n        if (trans.enabled(info)) {\r\n          transports.main.push(trans);\r\n          if (trans.facadeTransport) {\r\n            transports.facade.push(trans.facadeTransport);\r\n          }\r\n        } else {\r\n        }\r\n      });\r\n      return transports;\r\n    }\r\n  };\r\n};\r\n\r\n},{}],52:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar URL = _dereq_('url-parse');\r\n\r\nmodule.exports = {\r\n  getOrigin: function(url) {\r\n    if (!url) {\r\n      return null;\r\n    }\r\n\r\n    var p = new URL(url);\r\n    if (p.protocol === 'file:') {\r\n      return null;\r\n    }\r\n\r\n    var port = p.port;\r\n    if (!port) {\r\n      port = (p.protocol === 'https:') ? '443' : '80';\r\n    }\r\n\r\n    return p.protocol + '//' + p.hostname + ':' + port;\r\n  }\r\n\r\n, isOriginEqual: function(a, b) {\r\n    var res = this.getOrigin(a) === this.getOrigin(b);\r\n    return res;\r\n  }\r\n\r\n, isSchemeEqual: function(a, b) {\r\n    return (a.split(':')[0] === b.split(':')[0]);\r\n  }\r\n\r\n, addPath: function (url, path) {\r\n    var qs = url.split('?');\r\n    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');\r\n  }\r\n\r\n, addQuery: function (url, q) {\r\n    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));\r\n  }\r\n};\r\n\r\n},{\"url-parse\":56}],53:[function(_dereq_,module,exports){\r\nmodule.exports = '1.0.0';\r\n\r\n},{}],54:[function(_dereq_,module,exports){\r\nif (typeof Object.create === 'function') {\r\n  // implementation from standard node.js 'util' module\r\n  module.exports = function inherits(ctor, superCtor) {\r\n    ctor.super_ = superCtor\r\n    ctor.prototype = Object.create(superCtor.prototype, {\r\n      constructor: {\r\n        value: ctor,\r\n        enumerable: false,\r\n        writable: true,\r\n        configurable: true\r\n      }\r\n    });\r\n  };\r\n} else {\r\n  // old school shim for old browsers\r\n  module.exports = function inherits(ctor, superCtor) {\r\n    ctor.super_ = superCtor\r\n    var TempCtor = function () {}\r\n    TempCtor.prototype = superCtor.prototype\r\n    ctor.prototype = new TempCtor()\r\n    ctor.prototype.constructor = ctor\r\n  }\r\n}\r\n\r\n},{}],55:[function(_dereq_,module,exports){\r\n(function (global){\r\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\r\n;(function () {\r\n  // Detect the `define` function exposed by asynchronous module loaders. The\r\n  // strict `define` check is necessary for compatibility with `r.js`.\r\n  var isLoader = typeof define === \"function\" && define.amd;\r\n\r\n  // A set of types used to distinguish objects from primitives.\r\n  var objectTypes = {\r\n    \"function\": true,\r\n    \"object\": true\r\n  };\r\n\r\n  // Detect the `exports` object exposed by CommonJS implementations.\r\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\r\n\r\n  // Use the `global` object exposed by Node (including Browserify via\r\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\r\n  // and the `window` object in browsers. Rhino exports a `global` function\r\n  // instead.\r\n  var root = objectTypes[typeof window] && window || this,\r\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\r\n\r\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\r\n    root = freeGlobal;\r\n  }\r\n\r\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\r\n  // `stringify` and `parse` functions to the specified `exports` object.\r\n  function runInContext(context, exports) {\r\n    context || (context = root[\"Object\"]());\r\n    exports || (exports = root[\"Object\"]());\r\n\r\n    // Native constructor aliases.\r\n    var Number = context[\"Number\"] || root[\"Number\"],\r\n        String = context[\"String\"] || root[\"String\"],\r\n        Object = context[\"Object\"] || root[\"Object\"],\r\n        Date = context[\"Date\"] || root[\"Date\"],\r\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\r\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\r\n        Math = context[\"Math\"] || root[\"Math\"],\r\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\r\n\r\n    // Delegate to the native `stringify` and `parse` implementations.\r\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\r\n      exports.stringify = nativeJSON.stringify;\r\n      exports.parse = nativeJSON.parse;\r\n    }\r\n\r\n    // Convenience aliases.\r\n    var objectProto = Object.prototype,\r\n        getClass = objectProto.toString,\r\n        isProperty, forEach, undef;\r\n\r\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\r\n    var isExtended = new Date(-3509827334573292);\r\n    try {\r\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\r\n      // results for certain dates in Opera >= 10.53.\r\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\r\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\r\n        // but clips the values returned by the date methods to the range of\r\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\r\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\r\n    } catch (exception) {}\r\n\r\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\r\n    // implementations are spec-compliant. Based on work by Ken Snyder.\r\n    function has(name) {\r\n      if (has[name] !== undef) {\r\n        // Return cached feature test result.\r\n        return has[name];\r\n      }\r\n      var isSupported;\r\n      if (name == \"bug-string-char-index\") {\r\n        // IE <= 7 doesn't support accessing string characters using square\r\n        // bracket notation. IE 8 only supports this for primitives.\r\n        isSupported = \"a\"[0] != \"a\";\r\n      } else if (name == \"json\") {\r\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\r\n        // supported.\r\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\r\n      } else {\r\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\r\n        // Test `JSON.stringify`.\r\n        if (name == \"json-stringify\") {\r\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\r\n          if (stringifySupported) {\r\n            // A test function object with a custom `toJSON` method.\r\n            (value = function () {\r\n              return 1;\r\n            }).toJSON = value;\r\n            try {\r\n              stringifySupported =\r\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\r\n                // primitives as object literals.\r\n                stringify(0) === \"0\" &&\r\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\r\n                // literals.\r\n                stringify(new Number()) === \"0\" &&\r\n                stringify(new String()) == '\"\"' &&\r\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\r\n                // does not define a canonical JSON representation (this applies to\r\n                // objects with `toJSON` properties as well, *unless* they are nested\r\n                // within an object or array).\r\n                stringify(getClass) === undef &&\r\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\r\n                // FF 3.1b3 pass this test.\r\n                stringify(undef) === undef &&\r\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\r\n                // respectively, if the value is omitted entirely.\r\n                stringify() === undef &&\r\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\r\n                // string, array, object, Boolean, or `null` literal. This applies to\r\n                // objects with custom `toJSON` methods as well, unless they are nested\r\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\r\n                // methods entirely.\r\n                stringify(value) === \"1\" &&\r\n                stringify([value]) == \"[1]\" &&\r\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\r\n                // `\"[null]\"`.\r\n                stringify([undef]) == \"[null]\" &&\r\n                // YUI 3.0.0b1 fails to serialize `null` literals.\r\n                stringify(null) == \"null\" &&\r\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\r\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\r\n                // elides non-JSON values from objects and arrays, unless they\r\n                // define custom `toJSON` methods.\r\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\r\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\r\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\r\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\r\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\r\n                stringify(null, value) === \"1\" &&\r\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\r\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\r\n                // serialize extended years.\r\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\r\n                // The milliseconds are optional in ES 5, but required in 5.1.\r\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\r\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\r\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\r\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\r\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\r\n                // values less than 1000. Credits: @Yaffle.\r\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\r\n            } catch (exception) {\r\n              stringifySupported = false;\r\n            }\r\n          }\r\n          isSupported = stringifySupported;\r\n        }\r\n        // Test `JSON.parse`.\r\n        if (name == \"json-parse\") {\r\n          var parse = exports.parse;\r\n          if (typeof parse == \"function\") {\r\n            try {\r\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\r\n              // Conforming implementations should also coerce the initial argument to\r\n              // a string prior to parsing.\r\n              if (parse(\"0\") === 0 && !parse(false)) {\r\n                // Simple parsing test.\r\n                value = parse(serialized);\r\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\r\n                if (parseSupported) {\r\n                  try {\r\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\r\n                    parseSupported = !parse('\"\\t\"');\r\n                  } catch (exception) {}\r\n                  if (parseSupported) {\r\n                    try {\r\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\r\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\r\n                      // certain octal literals.\r\n                      parseSupported = parse(\"01\") !== 1;\r\n                    } catch (exception) {}\r\n                  }\r\n                  if (parseSupported) {\r\n                    try {\r\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\r\n                      // points. These environments, along with FF 3.1b1 and 2,\r\n                      // also allow trailing commas in JSON objects and arrays.\r\n                      parseSupported = parse(\"1.\") !== 1;\r\n                    } catch (exception) {}\r\n                  }\r\n                }\r\n              }\r\n            } catch (exception) {\r\n              parseSupported = false;\r\n            }\r\n          }\r\n          isSupported = parseSupported;\r\n        }\r\n      }\r\n      return has[name] = !!isSupported;\r\n    }\r\n\r\n    if (!has(\"json\")) {\r\n      // Common `[[Class]]` name aliases.\r\n      var functionClass = \"[object Function]\",\r\n          dateClass = \"[object Date]\",\r\n          numberClass = \"[object Number]\",\r\n          stringClass = \"[object String]\",\r\n          arrayClass = \"[object Array]\",\r\n          booleanClass = \"[object Boolean]\";\r\n\r\n      // Detect incomplete support for accessing string characters by index.\r\n      var charIndexBuggy = has(\"bug-string-char-index\");\r\n\r\n      // Define additional utility methods if the `Date` methods are buggy.\r\n      if (!isExtended) {\r\n        var floor = Math.floor;\r\n        // A mapping between the months of the year and the number of days between\r\n        // January 1st and the first of the respective month.\r\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\r\n        // Internal: Calculates the number of days between the Unix epoch and the\r\n        // first day of the given month.\r\n        var getDay = function (year, month) {\r\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\r\n        };\r\n      }\r\n\r\n      // Internal: Determines if a property is a direct property of the given\r\n      // object. Delegates to the native `Object#hasOwnProperty` method.\r\n      if (!(isProperty = objectProto.hasOwnProperty)) {\r\n        isProperty = function (property) {\r\n          var members = {}, constructor;\r\n          if ((members.__proto__ = null, members.__proto__ = {\r\n            // The *proto* property cannot be set multiple times in recent\r\n            // versions of Firefox and SeaMonkey.\r\n            \"toString\": 1\r\n          }, members).toString != getClass) {\r\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\r\n            // supports the mutable *proto* property.\r\n            isProperty = function (property) {\r\n              // Capture and break the object's prototype chain (see section 8.6.2\r\n              // of the ES 5.1 spec). The parenthesized expression prevents an\r\n              // unsafe transformation by the Closure Compiler.\r\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\r\n              // Restore the original prototype chain.\r\n              this.__proto__ = original;\r\n              return result;\r\n            };\r\n          } else {\r\n            // Capture a reference to the top-level `Object` constructor.\r\n            constructor = members.constructor;\r\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\r\n            // other environments.\r\n            isProperty = function (property) {\r\n              var parent = (this.constructor || constructor).prototype;\r\n              return property in this && !(property in parent && this[property] === parent[property]);\r\n            };\r\n          }\r\n          members = null;\r\n          return isProperty.call(this, property);\r\n        };\r\n      }\r\n\r\n      // Internal: Normalizes the `for...in` iteration algorithm across\r\n      // environments. Each enumerated key is yielded to a `callback` function.\r\n      forEach = function (object, callback) {\r\n        var size = 0, Properties, members, property;\r\n\r\n        // Tests for bugs in the current environment's `for...in` algorithm. The\r\n        // `valueOf` property inherits the non-enumerable flag from\r\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\r\n        (Properties = function () {\r\n          this.valueOf = 0;\r\n        }).prototype.valueOf = 0;\r\n\r\n        // Iterate over a new instance of the `Properties` class.\r\n        members = new Properties();\r\n        for (property in members) {\r\n          // Ignore all properties inherited from `Object.prototype`.\r\n          if (isProperty.call(members, property)) {\r\n            size++;\r\n          }\r\n        }\r\n        Properties = members = null;\r\n\r\n        // Normalize the iteration algorithm.\r\n        if (!size) {\r\n          // A list of non-enumerable properties inherited from `Object.prototype`.\r\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\r\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\r\n          // properties.\r\n          forEach = function (object, callback) {\r\n            var isFunction = getClass.call(object) == functionClass, property, length;\r\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\r\n            for (property in object) {\r\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\r\n              // certain conditions; IE does not.\r\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\r\n                callback(property);\r\n              }\r\n            }\r\n            // Manually invoke the callback for each non-enumerable property.\r\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\r\n          };\r\n        } else if (size == 2) {\r\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\r\n          forEach = function (object, callback) {\r\n            // Create a set of iterated properties.\r\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\r\n            for (property in object) {\r\n              // Store each property name to prevent double enumeration. The\r\n              // `prototype` property of functions is not enumerated due to cross-\r\n              // environment inconsistencies.\r\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\r\n                callback(property);\r\n              }\r\n            }\r\n          };\r\n        } else {\r\n          // No bugs detected; use the standard `for...in` algorithm.\r\n          forEach = function (object, callback) {\r\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\r\n            for (property in object) {\r\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\r\n                callback(property);\r\n              }\r\n            }\r\n            // Manually invoke the callback for the `constructor` property due to\r\n            // cross-environment inconsistencies.\r\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\r\n              callback(property);\r\n            }\r\n          };\r\n        }\r\n        return forEach(object, callback);\r\n      };\r\n\r\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\r\n      // `filter` argument may specify either a function that alters how object and\r\n      // array members are serialized, or an array of strings and numbers that\r\n      // indicates which properties should be serialized. The optional `width`\r\n      // argument may be either a string or number that specifies the indentation\r\n      // level of the output.\r\n      if (!has(\"json-stringify\")) {\r\n        // Internal: A map of control characters and their escaped equivalents.\r\n        var Escapes = {\r\n          92: \"\\\\\\\\\",\r\n          34: '\\\\\"',\r\n          8: \"\\\\b\",\r\n          12: \"\\\\f\",\r\n          10: \"\\\\n\",\r\n          13: \"\\\\r\",\r\n          9: \"\\\\t\"\r\n        };\r\n\r\n        // Internal: Converts `value` into a zero-padded string such that its\r\n        // length is at least equal to `width`. The `width` must be <= 6.\r\n        var leadingZeroes = \"000000\";\r\n        var toPaddedString = function (width, value) {\r\n          // The `|| 0` expression is necessary to work around a bug in\r\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\r\n          return (leadingZeroes + (value || 0)).slice(-width);\r\n        };\r\n\r\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\r\n        // characters (characters with code unit values between 0 and 31) with\r\n        // their escaped equivalents. This is an implementation of the\r\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\r\n        var unicodePrefix = \"\\\\u00\";\r\n        var quote = function (value) {\r\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\r\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\r\n          for (; index < length; index++) {\r\n            var charCode = value.charCodeAt(index);\r\n            // If the character is a control character, append its Unicode or\r\n            // shorthand escape sequence; otherwise, append the character as-is.\r\n            switch (charCode) {\r\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\r\n                result += Escapes[charCode];\r\n                break;\r\n              default:\r\n                if (charCode < 32) {\r\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\r\n                  break;\r\n                }\r\n                result += useCharIndex ? symbols[index] : value.charAt(index);\r\n            }\r\n          }\r\n          return result + '\"';\r\n        };\r\n\r\n        // Internal: Recursively serializes an object. Implements the\r\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\r\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\r\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\r\n          try {\r\n            // Necessary for host object support.\r\n            value = object[property];\r\n          } catch (exception) {}\r\n          if (typeof value == \"object\" && value) {\r\n            className = getClass.call(value);\r\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\r\n              if (value > -1 / 0 && value < 1 / 0) {\r\n                // Dates are serialized according to the `Date#toJSON` method\r\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\r\n                // for the ISO 8601 date time string format.\r\n                if (getDay) {\r\n                  // Manually compute the year, month, date, hours, minutes,\r\n                  // seconds, and milliseconds if the `getUTC*` methods are\r\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\r\n                  date = floor(value / 864e5);\r\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\r\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\r\n                  date = 1 + date - getDay(year, month);\r\n                  // The `time` value specifies the time within the day (see ES\r\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\r\n                  // to compute `A modulo B`, as the `%` operator does not\r\n                  // correspond to the `modulo` operation for negative numbers.\r\n                  time = (value % 864e5 + 864e5) % 864e5;\r\n                  // The hours, minutes, seconds, and milliseconds are obtained by\r\n                  // decomposing the time within the day. See section 15.9.1.10.\r\n                  hours = floor(time / 36e5) % 24;\r\n                  minutes = floor(time / 6e4) % 60;\r\n                  seconds = floor(time / 1e3) % 60;\r\n                  milliseconds = time % 1e3;\r\n                } else {\r\n                  year = value.getUTCFullYear();\r\n                  month = value.getUTCMonth();\r\n                  date = value.getUTCDate();\r\n                  hours = value.getUTCHours();\r\n                  minutes = value.getUTCMinutes();\r\n                  seconds = value.getUTCSeconds();\r\n                  milliseconds = value.getUTCMilliseconds();\r\n                }\r\n                // Serialize extended years correctly.\r\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\r\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\r\n                  // Months, dates, hours, minutes, and seconds should have two\r\n                  // digits; milliseconds should have three.\r\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\r\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\r\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\r\n              } else {\r\n                value = null;\r\n              }\r\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\r\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\r\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\r\n              // ignores all `toJSON` methods on these objects unless they are\r\n              // defined directly on an instance.\r\n              value = value.toJSON(property);\r\n            }\r\n          }\r\n          if (callback) {\r\n            // If a replacement function was provided, call it to obtain the value\r\n            // for serialization.\r\n            value = callback.call(object, property, value);\r\n          }\r\n          if (value === null) {\r\n            return \"null\";\r\n          }\r\n          className = getClass.call(value);\r\n          if (className == booleanClass) {\r\n            // Booleans are represented literally.\r\n            return \"\" + value;\r\n          } else if (className == numberClass) {\r\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\r\n            // `\"null\"`.\r\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\r\n          } else if (className == stringClass) {\r\n            // Strings are double-quoted and escaped.\r\n            return quote(\"\" + value);\r\n          }\r\n          // Recursively serialize objects and arrays.\r\n          if (typeof value == \"object\") {\r\n            // Check for cyclic structures. This is a linear search; performance\r\n            // is inversely proportional to the number of unique nested objects.\r\n            for (length = stack.length; length--;) {\r\n              if (stack[length] === value) {\r\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\r\n                throw TypeError();\r\n              }\r\n            }\r\n            // Add the object to the stack of traversed objects.\r\n            stack.push(value);\r\n            results = [];\r\n            // Save the current indentation level and indent one additional level.\r\n            prefix = indentation;\r\n            indentation += whitespace;\r\n            if (className == arrayClass) {\r\n              // Recursively serialize array elements.\r\n              for (index = 0, length = value.length; index < length; index++) {\r\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\r\n                results.push(element === undef ? \"null\" : element);\r\n              }\r\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\r\n            } else {\r\n              // Recursively serialize object members. Members are selected from\r\n              // either a user-specified list of property names, or the object\r\n              // itself.\r\n              forEach(properties || value, function (property) {\r\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\r\n                if (element !== undef) {\r\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\r\n                  // is not the empty string, let `member` {quote(property) + \":\"}\r\n                  // be the concatenation of `member` and the `space` character.\"\r\n                  // The \"`space` character\" refers to the literal space\r\n                  // character, not the `space` {width} argument provided to\r\n                  // `JSON.stringify`.\r\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\r\n                }\r\n              });\r\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\r\n            }\r\n            // Remove the object from the traversed object stack.\r\n            stack.pop();\r\n            return result;\r\n          }\r\n        };\r\n\r\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\r\n        exports.stringify = function (source, filter, width) {\r\n          var whitespace, callback, properties, className;\r\n          if (objectTypes[typeof filter] && filter) {\r\n            if ((className = getClass.call(filter)) == functionClass) {\r\n              callback = filter;\r\n            } else if (className == arrayClass) {\r\n              // Convert the property names array into a makeshift set.\r\n              properties = {};\r\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\r\n            }\r\n          }\r\n          if (width) {\r\n            if ((className = getClass.call(width)) == numberClass) {\r\n              // Convert the `width` to an integer and create a string containing\r\n              // `width` number of space characters.\r\n              if ((width -= width % 1) > 0) {\r\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\r\n              }\r\n            } else if (className == stringClass) {\r\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\r\n            }\r\n          }\r\n          // Opera <= 7.54u2 discards the values associated with empty string keys\r\n          // (`\"\"`) only if they are used directly within an object member list\r\n          // (e.g., `!(\"\" in { \"\": 1})`).\r\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\r\n        };\r\n      }\r\n\r\n      // Public: Parses a JSON source string.\r\n      if (!has(\"json-parse\")) {\r\n        var fromCharCode = String.fromCharCode;\r\n\r\n        // Internal: A map of escaped control characters and their unescaped\r\n        // equivalents.\r\n        var Unescapes = {\r\n          92: \"\\\\\",\r\n          34: '\"',\r\n          47: \"/\",\r\n          98: \"\\b\",\r\n          116: \"\\t\",\r\n          110: \"\\n\",\r\n          102: \"\\f\",\r\n          114: \"\\r\"\r\n        };\r\n\r\n        // Internal: Stores the parser state.\r\n        var Index, Source;\r\n\r\n        // Internal: Resets the parser state and throws a `SyntaxError`.\r\n        var abort = function () {\r\n          Index = Source = null;\r\n          throw SyntaxError();\r\n        };\r\n\r\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\r\n        // the end of the source string. A token may be a string, number, `null`\r\n        // literal, or Boolean literal.\r\n        var lex = function () {\r\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\r\n          while (Index < length) {\r\n            charCode = source.charCodeAt(Index);\r\n            switch (charCode) {\r\n              case 9: case 10: case 13: case 32:\r\n                // Skip whitespace tokens, including tabs, carriage returns, line\r\n                // feeds, and space characters.\r\n                Index++;\r\n                break;\r\n              case 123: case 125: case 91: case 93: case 58: case 44:\r\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\r\n                // the current position.\r\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\r\n                Index++;\r\n                return value;\r\n              case 34:\r\n                // `\"` delimits a JSON string; advance to the next character and\r\n                // begin parsing the string. String tokens are prefixed with the\r\n                // sentinel `@` character to distinguish them from punctuators and\r\n                // end-of-string tokens.\r\n                for (value = \"@\", Index++; Index < length;) {\r\n                  charCode = source.charCodeAt(Index);\r\n                  if (charCode < 32) {\r\n                    // Unescaped ASCII control characters (those with a code unit\r\n                    // less than the space character) are not permitted.\r\n                    abort();\r\n                  } else if (charCode == 92) {\r\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\r\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\r\n                    // escape sequence.\r\n                    charCode = source.charCodeAt(++Index);\r\n                    switch (charCode) {\r\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\r\n                        // Revive escaped control characters.\r\n                        value += Unescapes[charCode];\r\n                        Index++;\r\n                        break;\r\n                      case 117:\r\n                        // `\\u` marks the beginning of a Unicode escape sequence.\r\n                        // Advance to the first character and validate the\r\n                        // four-digit code point.\r\n                        begin = ++Index;\r\n                        for (position = Index + 4; Index < position; Index++) {\r\n                          charCode = source.charCodeAt(Index);\r\n                          // A valid sequence comprises four hexdigits (case-\r\n                          // insensitive) that form a single hexadecimal value.\r\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\r\n                            // Invalid Unicode escape sequence.\r\n                            abort();\r\n                          }\r\n                        }\r\n                        // Revive the escaped character.\r\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\r\n                        break;\r\n                      default:\r\n                        // Invalid escape sequence.\r\n                        abort();\r\n                    }\r\n                  } else {\r\n                    if (charCode == 34) {\r\n                      // An unescaped double-quote character marks the end of the\r\n                      // string.\r\n                      break;\r\n                    }\r\n                    charCode = source.charCodeAt(Index);\r\n                    begin = Index;\r\n                    // Optimize for the common case where a string is valid.\r\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\r\n                      charCode = source.charCodeAt(++Index);\r\n                    }\r\n                    // Append the string as-is.\r\n                    value += source.slice(begin, Index);\r\n                  }\r\n                }\r\n                if (source.charCodeAt(Index) == 34) {\r\n                  // Advance to the next character and return the revived string.\r\n                  Index++;\r\n                  return value;\r\n                }\r\n                // Unterminated string.\r\n                abort();\r\n              default:\r\n                // Parse numbers and literals.\r\n                begin = Index;\r\n                // Advance past the negative sign, if one is specified.\r\n                if (charCode == 45) {\r\n                  isSigned = true;\r\n                  charCode = source.charCodeAt(++Index);\r\n                }\r\n                // Parse an integer or floating-point value.\r\n                if (charCode >= 48 && charCode <= 57) {\r\n                  // Leading zeroes are interpreted as octal literals.\r\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\r\n                    // Illegal octal literal.\r\n                    abort();\r\n                  }\r\n                  isSigned = false;\r\n                  // Parse the integer component.\r\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\r\n                  // Floats cannot contain a leading decimal point; however, this\r\n                  // case is already accounted for by the parser.\r\n                  if (source.charCodeAt(Index) == 46) {\r\n                    position = ++Index;\r\n                    // Parse the decimal component.\r\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\r\n                    if (position == Index) {\r\n                      // Illegal trailing decimal.\r\n                      abort();\r\n                    }\r\n                    Index = position;\r\n                  }\r\n                  // Parse exponents. The `e` denoting the exponent is\r\n                  // case-insensitive.\r\n                  charCode = source.charCodeAt(Index);\r\n                  if (charCode == 101 || charCode == 69) {\r\n                    charCode = source.charCodeAt(++Index);\r\n                    // Skip past the sign following the exponent, if one is\r\n                    // specified.\r\n                    if (charCode == 43 || charCode == 45) {\r\n                      Index++;\r\n                    }\r\n                    // Parse the exponential component.\r\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\r\n                    if (position == Index) {\r\n                      // Illegal empty exponent.\r\n                      abort();\r\n                    }\r\n                    Index = position;\r\n                  }\r\n                  // Coerce the parsed value to a JavaScript number.\r\n                  return +source.slice(begin, Index);\r\n                }\r\n                // A negative sign may only precede numbers.\r\n                if (isSigned) {\r\n                  abort();\r\n                }\r\n                // `true`, `false`, and `null` literals.\r\n                if (source.slice(Index, Index + 4) == \"true\") {\r\n                  Index += 4;\r\n                  return true;\r\n                } else if (source.slice(Index, Index + 5) == \"false\") {\r\n                  Index += 5;\r\n                  return false;\r\n                } else if (source.slice(Index, Index + 4) == \"null\") {\r\n                  Index += 4;\r\n                  return null;\r\n                }\r\n                // Unrecognized token.\r\n                abort();\r\n            }\r\n          }\r\n          // Return the sentinel `$` character if the parser has reached the end\r\n          // of the source string.\r\n          return \"$\";\r\n        };\r\n\r\n        // Internal: Parses a JSON `value` token.\r\n        var get = function (value) {\r\n          var results, hasMembers;\r\n          if (value == \"$\") {\r\n            // Unexpected end of input.\r\n            abort();\r\n          }\r\n          if (typeof value == \"string\") {\r\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\r\n              // Remove the sentinel `@` character.\r\n              return value.slice(1);\r\n            }\r\n            // Parse object and array literals.\r\n            if (value == \"[\") {\r\n              // Parses a JSON array, returning a new JavaScript array.\r\n              results = [];\r\n              for (;; hasMembers || (hasMembers = true)) {\r\n                value = lex();\r\n                // A closing square bracket marks the end of the array literal.\r\n                if (value == \"]\") {\r\n                  break;\r\n                }\r\n                // If the array literal contains elements, the current token\r\n                // should be a comma separating the previous element from the\r\n                // next.\r\n                if (hasMembers) {\r\n                  if (value == \",\") {\r\n                    value = lex();\r\n                    if (value == \"]\") {\r\n                      // Unexpected trailing `,` in array literal.\r\n                      abort();\r\n                    }\r\n                  } else {\r\n                    // A `,` must separate each array element.\r\n                    abort();\r\n                  }\r\n                }\r\n                // Elisions and leading commas are not permitted.\r\n                if (value == \",\") {\r\n                  abort();\r\n                }\r\n                results.push(get(value));\r\n              }\r\n              return results;\r\n            } else if (value == \"{\") {\r\n              // Parses a JSON object, returning a new JavaScript object.\r\n              results = {};\r\n              for (;; hasMembers || (hasMembers = true)) {\r\n                value = lex();\r\n                // A closing curly brace marks the end of the object literal.\r\n                if (value == \"}\") {\r\n                  break;\r\n                }\r\n                // If the object literal contains members, the current token\r\n                // should be a comma separator.\r\n                if (hasMembers) {\r\n                  if (value == \",\") {\r\n                    value = lex();\r\n                    if (value == \"}\") {\r\n                      // Unexpected trailing `,` in object literal.\r\n                      abort();\r\n                    }\r\n                  } else {\r\n                    // A `,` must separate each object member.\r\n                    abort();\r\n                  }\r\n                }\r\n                // Leading commas are not permitted, object property names must be\r\n                // double-quoted strings, and a `:` must separate each property\r\n                // name and value.\r\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\r\n                  abort();\r\n                }\r\n                results[value.slice(1)] = get(lex());\r\n              }\r\n              return results;\r\n            }\r\n            // Unexpected token encountered.\r\n            abort();\r\n          }\r\n          return value;\r\n        };\r\n\r\n        // Internal: Updates a traversed object member.\r\n        var update = function (source, property, callback) {\r\n          var element = walk(source, property, callback);\r\n          if (element === undef) {\r\n            delete source[property];\r\n          } else {\r\n            source[property] = element;\r\n          }\r\n        };\r\n\r\n        // Internal: Recursively traverses a parsed JSON object, invoking the\r\n        // `callback` function for each value. This is an implementation of the\r\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\r\n        var walk = function (source, property, callback) {\r\n          var value = source[property], length;\r\n          if (typeof value == \"object\" && value) {\r\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\r\n            // because its `Object#hasOwnProperty` implementation returns `false`\r\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\r\n            if (getClass.call(value) == arrayClass) {\r\n              for (length = value.length; length--;) {\r\n                update(value, length, callback);\r\n              }\r\n            } else {\r\n              forEach(value, function (property) {\r\n                update(value, property, callback);\r\n              });\r\n            }\r\n          }\r\n          return callback.call(source, property, value);\r\n        };\r\n\r\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\r\n        exports.parse = function (source, callback) {\r\n          var result, value;\r\n          Index = 0;\r\n          Source = \"\" + source;\r\n          result = get(lex());\r\n          // If a JSON string contains multiple tokens, it is invalid.\r\n          if (lex() != \"$\") {\r\n            abort();\r\n          }\r\n          // Reset the parser state.\r\n          Index = Source = null;\r\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\r\n        };\r\n      }\r\n    }\r\n\r\n    exports[\"runInContext\"] = runInContext;\r\n    return exports;\r\n  }\r\n\r\n  if (freeExports && !isLoader) {\r\n    // Export for CommonJS environments.\r\n    runInContext(root, freeExports);\r\n  } else {\r\n    // Export for web browsers and JavaScript engines.\r\n    var nativeJSON = root.JSON,\r\n        previousJSON = root[\"JSON3\"],\r\n        isRestored = false;\r\n\r\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\r\n      // Public: Restores the original value of the global `JSON` object and\r\n      // returns a reference to the `JSON3` object.\r\n      \"noConflict\": function () {\r\n        if (!isRestored) {\r\n          isRestored = true;\r\n          root.JSON = nativeJSON;\r\n          root[\"JSON3\"] = previousJSON;\r\n          nativeJSON = previousJSON = null;\r\n        }\r\n        return JSON3;\r\n      }\r\n    }));\r\n\r\n    root.JSON = {\r\n      \"parse\": JSON3.parse,\r\n      \"stringify\": JSON3.stringify\r\n    };\r\n  }\r\n\r\n  // Export for asynchronous module loaders.\r\n  if (isLoader) {\r\n    define(function () {\r\n      return JSON3;\r\n    });\r\n  }\r\n}).call(this);\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{}],56:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar required = _dereq_('requires-port')\r\n  , lolcation = _dereq_('./lolcation')\r\n  , qs = _dereq_('querystringify')\r\n  , relativere = /^\\/(?!\\/)/;\r\n\r\n/**\r\n * These are the parse instructions for the URL parsers, it informs the parser\r\n * about:\r\n *\r\n * 0. The char it Needs to parse, if it's a string it should be done using\r\n *    indexOf, RegExp using exec and NaN means set as current value.\r\n * 1. The property we should set when parsing this value.\r\n * 2. Indication if it's backwards or forward parsing, when set as number it's\r\n *    the value of extra chars that should be split off.\r\n * 3. Inherit from location if non existing in the parser.\r\n * 4. `toLowerCase` the resulting value.\r\n */\r\nvar instructions = [\r\n  ['#', 'hash'],                        // Extract from the back.\r\n  ['?', 'query'],                       // Extract from the back.\r\n  ['//', 'protocol', 2, 1, 1],          // Extract from the front.\r\n  ['/', 'pathname'],                    // Extract from the back.\r\n  ['@', 'auth', 1],                     // Extract from the front.\r\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\r\n  [/\\:(\\d+)$/, 'port'],                 // RegExp the back.\r\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\r\n];\r\n\r\n/**\r\n * The actual URL instance. Instead of returning an object we've opted-in to\r\n * create an actual constructor as it's much more memory efficient and\r\n * faster and it pleases my CDO.\r\n *\r\n * @constructor\r\n * @param {String} address URL we want to parse.\r\n * @param {Boolean|function} parser Parser for the query string.\r\n * @param {Object} location Location defaults for relative paths.\r\n * @api public\r\n */\r\nfunction URL(address, location, parser) {\r\n  if (!(this instanceof URL)) {\r\n    return new URL(address, location, parser);\r\n  }\r\n\r\n  var relative = relativere.test(address)\r\n    , parse, instruction, index, key\r\n    , type = typeof location\r\n    , url = this\r\n    , i = 0;\r\n\r\n  //\r\n  // The following if statements allows this module two have compatibility with\r\n  // 2 different API:\r\n  //\r\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\r\n  //    where the boolean indicates that the query string should also be parsed.\r\n  //\r\n  // 2. The `URL` interface of the browser which accepts a URL, object as\r\n  //    arguments. The supplied object will be used as default values / fall-back\r\n  //    for relative paths.\r\n  //\r\n  if ('object' !== type && 'string' !== type) {\r\n    parser = location;\r\n    location = null;\r\n  }\r\n\r\n  if (parser && 'function' !== typeof parser) {\r\n    parser = qs.parse;\r\n  }\r\n\r\n  location = lolcation(location);\r\n\r\n  for (; i < instructions.length; i++) {\r\n    instruction = instructions[i];\r\n    parse = instruction[0];\r\n    key = instruction[1];\r\n\r\n    if (parse !== parse) {\r\n      url[key] = address;\r\n    } else if ('string' === typeof parse) {\r\n      if (~(index = address.indexOf(parse))) {\r\n        if ('number' === typeof instruction[2]) {\r\n          url[key] = address.slice(0, index);\r\n          address = address.slice(index + instruction[2]);\r\n        } else {\r\n          url[key] = address.slice(index);\r\n          address = address.slice(0, index);\r\n        }\r\n      }\r\n    } else if (index = parse.exec(address)) {\r\n      url[key] = index[1];\r\n      address = address.slice(0, address.length - index[0].length);\r\n    }\r\n\r\n    url[key] = url[key] || (instruction[3] || ('port' === key && relative) ? location[key] || '' : '');\r\n\r\n    //\r\n    // Hostname, host and protocol should be lowercased so they can be used to\r\n    // create a proper `origin`.\r\n    //\r\n    if (instruction[4]) {\r\n      url[key] = url[key].toLowerCase();\r\n    }\r\n  }\r\n\r\n  //\r\n  // Also parse the supplied query string in to an object. If we're supplied\r\n  // with a custom parser as function use that instead of the default build-in\r\n  // parser.\r\n  //\r\n  if (parser) url.query = parser(url.query);\r\n\r\n  //\r\n  // We should not add port numbers if they are already the default port number\r\n  // for a given protocol. As the host also contains the port number we're going\r\n  // override it with the hostname which contains no port number.\r\n  //\r\n  if (!required(url.port, url.protocol)) {\r\n    url.host = url.hostname;\r\n    url.port = '';\r\n  }\r\n\r\n  //\r\n  // Parse down the `auth` for the username and password.\r\n  //\r\n  url.username = url.password = '';\r\n  if (url.auth) {\r\n    instruction = url.auth.split(':');\r\n    url.username = instruction[0] || '';\r\n    url.password = instruction[1] || '';\r\n  }\r\n\r\n  //\r\n  // The href is just the compiled result.\r\n  //\r\n  url.href = url.toString();\r\n}\r\n\r\n/**\r\n * This is convenience method for changing properties in the URL instance to\r\n * insure that they all propagate correctly.\r\n *\r\n * @param {String} prop Property we need to adjust.\r\n * @param {Mixed} value The newly assigned value.\r\n * @returns {URL}\r\n * @api public\r\n */\r\nURL.prototype.set = function set(part, value, fn) {\r\n  var url = this;\r\n\r\n  if ('query' === part) {\r\n    if ('string' === typeof value) value = (fn || qs.parse)(value);\r\n    url[part] = value;\r\n  } else if ('port' === part) {\r\n    url[part] = value;\r\n\r\n    if (!required(value, url.protocol)) {\r\n      url.host = url.hostname;\r\n      url[part] = '';\r\n    } else if (value) {\r\n      url.host = url.hostname +':'+ value;\r\n    }\r\n  } else if ('hostname' === part) {\r\n    url[part] = value;\r\n\r\n    if (url.port) value += ':'+ url.port;\r\n    url.host = value;\r\n  } else if ('host' === part) {\r\n    url[part] = value;\r\n\r\n    if (/\\:\\d+/.test(value)) {\r\n      value = value.split(':');\r\n      url.hostname = value[0];\r\n      url.port = value[1];\r\n    }\r\n  } else {\r\n    url[part] = value;\r\n  }\r\n\r\n  url.href = url.toString();\r\n  return url;\r\n};\r\n\r\n/**\r\n * Transform the properties back in to a valid and full URL string.\r\n *\r\n * @param {Function} stringify Optional query stringify function.\r\n * @returns {String}\r\n * @api public\r\n */\r\nURL.prototype.toString = function toString(stringify) {\r\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\r\n\r\n  var query\r\n    , url = this\r\n    , result = url.protocol +'//';\r\n\r\n  if (url.username) {\r\n    result += url.username;\r\n    if (url.password) result += ':'+ url.password;\r\n    result += '@';\r\n  }\r\n\r\n  result += url.hostname;\r\n  if (url.port) result += ':'+ url.port;\r\n\r\n  result += url.pathname;\r\n\r\n  if (url.query) {\r\n    if ('object' === typeof url.query) query = stringify(url.query);\r\n    else query = url.query;\r\n\r\n    result += (query.charAt(0) === '?' ? '' : '?') + query;\r\n  }\r\n\r\n  if (url.hash) result += url.hash;\r\n\r\n  return result;\r\n};\r\n\r\n//\r\n// Expose the URL parser and some additional properties that might be useful for\r\n// others.\r\n//\r\nURL.qs = qs;\r\nURL.location = lolcation;\r\nmodule.exports = URL;\r\n\r\n},{\"./lolcation\":57,\"querystringify\":58,\"requires-port\":59}],57:[function(_dereq_,module,exports){\r\n(function (global){\r\n'use strict';\r\n\r\n/**\r\n * These properties should not be copied or inherited from. This is only needed\r\n * for all non blob URL's as the a blob URL does not include a hash, only the\r\n * origin.\r\n *\r\n * @type {Object}\r\n * @private\r\n */\r\nvar ignore = { hash: 1, query: 1 }\r\n  , URL;\r\n\r\n/**\r\n * The location object differs when your code is loaded through a normal page,\r\n * Worker or through a worker using a blob. And with the blobble begins the\r\n * trouble as the location object will contain the URL of the blob, not the\r\n * location of the page where our code is loaded in. The actual origin is\r\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\r\n * location from it so we can generate proper relative URL's again.\r\n *\r\n * @param {Object} loc Optional default location object.\r\n * @returns {Object} lolcation object.\r\n * @api public\r\n */\r\nmodule.exports = function lolcation(loc) {\r\n  loc = loc || global.location || {};\r\n  URL = URL || _dereq_('./');\r\n\r\n  var finaldestination = {}\r\n    , type = typeof loc\r\n    , key;\r\n\r\n  if ('blob:' === loc.protocol) {\r\n    finaldestination = new URL(unescape(loc.pathname), {});\r\n  } else if ('string' === type) {\r\n    finaldestination = new URL(loc, {});\r\n    for (key in ignore) delete finaldestination[key];\r\n  } else if ('object' === type) for (key in loc) {\r\n    if (key in ignore) continue;\r\n    finaldestination[key] = loc[key];\r\n  }\r\n\r\n  return finaldestination;\r\n};\r\n\r\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\r\n},{\"./\":56}],58:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\nvar has = Object.prototype.hasOwnProperty;\r\n\r\n/**\r\n * Simple query string parser.\r\n *\r\n * @param {String} query The query string that needs to be parsed.\r\n * @returns {Object}\r\n * @api public\r\n */\r\nfunction querystring(query) {\r\n  var parser = /([^=?&]+)=([^&]*)/g\r\n    , result = {}\r\n    , part;\r\n\r\n  //\r\n  // Little nifty parsing hack, leverage the fact that RegExp.exec increments\r\n  // the lastIndex property so we can continue executing this loop until we've\r\n  // parsed all results.\r\n  //\r\n  for (;\r\n    part = parser.exec(query);\r\n    result[decodeURIComponent(part[1])] = decodeURIComponent(part[2])\r\n  );\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Transform a query string to an object.\r\n *\r\n * @param {Object} obj Object that should be transformed.\r\n * @param {String} prefix Optional prefix.\r\n * @returns {String}\r\n * @api public\r\n */\r\nfunction querystringify(obj, prefix) {\r\n  prefix = prefix || '';\r\n\r\n  var pairs = [];\r\n\r\n  //\r\n  // Optionally prefix with a '?' if needed\r\n  //\r\n  if ('string' !== typeof prefix) prefix = '?';\r\n\r\n  for (var key in obj) {\r\n    if (has.call(obj, key)) {\r\n      pairs.push(encodeURIComponent(key) +'='+ encodeURIComponent(obj[key]));\r\n    }\r\n  }\r\n\r\n  return pairs.length ? prefix + pairs.join('&') : '';\r\n}\r\n\r\n//\r\n// Expose the module.\r\n//\r\nexports.stringify = querystringify;\r\nexports.parse = querystring;\r\n\r\n},{}],59:[function(_dereq_,module,exports){\r\n'use strict';\r\n\r\n/**\r\n * Check if we're required to add a port number.\r\n *\r\n * @see https://url.spec.whatwg.org/#default-port\r\n * @param {Number|String} port Port number we need to check\r\n * @param {String} protocol Protocol we need to check against.\r\n * @returns {Boolean} Is it a default port for the given protocol\r\n * @api private\r\n */\r\nmodule.exports = function required(port, protocol) {\r\n  protocol = protocol.split(':')[0];\r\n  port = +port;\r\n\r\n  if (!port) return false;\r\n\r\n  switch (protocol) {\r\n    case 'http':\r\n    case 'ws':\r\n    return port !== 80;\r\n\r\n    case 'https':\r\n    case 'wss':\r\n    return port !== 443;\r\n\r\n    case 'ftp':\r\n    return port !== 22;\r\n\r\n    case 'gopher':\r\n    return port !== 70;\r\n\r\n    case 'file':\r\n    return false;\r\n  }\r\n\r\n  return port !== 0;\r\n};\r\n\r\n},{}]},{},[1])(1)\r\n});\r\n})(this[\"Primus\"]);\r\n",";(function () {\n\t'use strict';\n\n\t/**\n\t * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.\n\t *\n\t * @codingstandard ftlabs-jsv2\n\t * @copyright The Financial Times Limited [All Rights Reserved]\n\t * @license MIT License (see LICENSE.txt)\n\t */\n\n\t/*jslint browser:true, node:true*/\n\t/*global define, Event, Node*/\n\n\n\t/**\n\t * Instantiate fast-clicking listeners on the specified layer.\n\t *\n\t * @constructor\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tfunction FastClick(layer, options) {\n\t\tvar oldOnClick;\n\n\t\toptions = options || {};\n\n\t\t/**\n\t\t * Whether a click is currently being tracked.\n\t\t *\n\t\t * @type boolean\n\t\t */\n\t\tthis.trackingClick = false;\n\n\n\t\t/**\n\t\t * Timestamp for when click tracking started.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.trackingClickStart = 0;\n\n\n\t\t/**\n\t\t * The element being tracked for a click.\n\t\t *\n\t\t * @type EventTarget\n\t\t */\n\t\tthis.targetElement = null;\n\n\n\t\t/**\n\t\t * X-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartX = 0;\n\n\n\t\t/**\n\t\t * Y-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartY = 0;\n\n\n\t\t/**\n\t\t * ID of the last touch, retrieved from Touch.identifier.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.lastTouchIdentifier = 0;\n\n\n\t\t/**\n\t\t * Touchmove boundary, beyond which a click will be cancelled.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchBoundary = options.touchBoundary || 10;\n\n\n\t\t/**\n\t\t * The FastClick layer.\n\t\t *\n\t\t * @type Element\n\t\t */\n\t\tthis.layer = layer;\n\n\t\t/**\n\t\t * The minimum time between tap(touchstart and touchend) events\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapDelay = options.tapDelay || 200;\n\n\t\t/**\n\t\t * The maximum time for a tap\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapTimeout = options.tapTimeout || 700;\n\n\t\tif (FastClick.notNeeded(layer)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Some old versions of Android don't have Function.prototype.bind\n\t\tfunction bind(method, context) {\n\t\t\treturn function() { return method.apply(context, arguments); };\n\t\t}\n\n\n\t\tvar methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];\n\t\tvar context = this;\n\t\tfor (var i = 0, l = methods.length; i < l; i++) {\n\t\t\tcontext[methods[i]] = bind(context[methods[i]], context);\n\t\t}\n\n\t\t// Set up event handlers as required\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.addEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.addEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.addEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.addEventListener('click', this.onClick, true);\n\t\tlayer.addEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.addEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.addEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.addEventListener('touchcancel', this.onTouchCancel, false);\n\n\t\t// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick\n\t\t// layer when they are cancelled.\n\t\tif (!Event.prototype.stopImmediatePropagation) {\n\t\t\tlayer.removeEventListener = function(type, callback, capture) {\n\t\t\t\tvar rmv = Node.prototype.removeEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\trmv.call(layer, type, callback.hijacked || callback, capture);\n\t\t\t\t} else {\n\t\t\t\t\trmv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlayer.addEventListener = function(type, callback, capture) {\n\t\t\t\tvar adv = Node.prototype.addEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\tadv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {\n\t\t\t\t\t\tif (!event.propagationStopped) {\n\t\t\t\t\t\t\tcallback(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}), capture);\n\t\t\t\t} else {\n\t\t\t\t\tadv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// If a handler is already declared in the element's onclick attribute, it will be fired before\n\t\t// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and\n\t\t// adding it as listener.\n\t\tif (typeof layer.onclick === 'function') {\n\n\t\t\t// Android browser on at least 3.2 requires a new reference to the function in layer.onclick\n\t\t\t// - the old one won't work if passed to addEventListener directly.\n\t\t\toldOnClick = layer.onclick;\n\t\t\tlayer.addEventListener('click', function(event) {\n\t\t\t\toldOnClick(event);\n\t\t\t}, false);\n\t\t\tlayer.onclick = null;\n\t\t}\n\t}\n\n\t/**\n\t* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.\n\t*\n\t* @type boolean\n\t*/\n\tvar deviceIsWindowsPhone = navigator.userAgent.indexOf(\"Windows Phone\") >= 0;\n\n\t/**\n\t * Android requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS 4 requires an exception for select elements.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS4 = deviceIsIOS && (/OS 4_\\d(_\\d)?/).test(navigator.userAgent);\n\n\n\t/**\n\t * iOS 6.0-7.* requires the target element to be manually derived\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOSWithBadTarget = deviceIsIOS && (/OS [6-7]_\\d/).test(navigator.userAgent);\n\n\t/**\n\t * BlackBerry requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;\n\n\t/**\n\t * Determine whether a given element requires a native click.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element needs a native click\n\t */\n\tFastClick.prototype.needsClick = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\n\t\t// Don't send a synthetic click to disabled inputs (issue #62)\n\t\tcase 'button':\n\t\tcase 'select':\n\t\tcase 'textarea':\n\t\t\tif (target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'input':\n\n\t\t\t// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)\n\t\t\tif ((deviceIsIOS && target.type === 'file') || target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'label':\n\t\tcase 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames\n\t\tcase 'video':\n\t\t\treturn true;\n\t\t}\n\n\t\treturn (/\\bneedsclick\\b/).test(target.className);\n\t};\n\n\n\t/**\n\t * Determine whether a given element requires a call to focus to simulate click into element.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.\n\t */\n\tFastClick.prototype.needsFocus = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\t\tcase 'textarea':\n\t\t\treturn true;\n\t\tcase 'select':\n\t\t\treturn !deviceIsAndroid;\n\t\tcase 'input':\n\t\t\tswitch (target.type) {\n\t\t\tcase 'button':\n\t\t\tcase 'checkbox':\n\t\t\tcase 'file':\n\t\t\tcase 'image':\n\t\t\tcase 'radio':\n\t\t\tcase 'submit':\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// No point in attempting to focus disabled inputs\n\t\t\treturn !target.disabled && !target.readOnly;\n\t\tdefault:\n\t\t\treturn (/\\bneedsfocus\\b/).test(target.className);\n\t\t}\n\t};\n\n\n\t/**\n\t * Send a click event to the specified element.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t * @param {Event} event\n\t */\n\tFastClick.prototype.sendClick = function(targetElement, event) {\n\t\tvar clickEvent, touch;\n\n\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)\n\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\tdocument.activeElement.blur();\n\t\t}\n\n\t\ttouch = event.changedTouches[0];\n\n\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\tclickEvent = document.createEvent('MouseEvents');\n\t\tclickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\tclickEvent.forwardedTouchEvent = true;\n\t\ttargetElement.dispatchEvent(clickEvent);\n\t};\n\n\tFastClick.prototype.determineEventType = function(targetElement) {\n\n\t\t//Issue #159: Android Chrome Select Box does not open with a synthetic click event\n\t\tif (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {\n\t\t\treturn 'mousedown';\n\t\t}\n\n\t\treturn 'click';\n\t};\n\n\n\t/**\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.focus = function(targetElement) {\n\t\tvar length;\n\n\t\t// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.\n\t\tif (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {\n\t\t\tlength = targetElement.value.length;\n\t\t\ttargetElement.setSelectionRange(length, length);\n\t\t} else {\n\t\t\ttargetElement.focus();\n\t\t}\n\t};\n\n\n\t/**\n\t * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.updateScrollParent = function(targetElement) {\n\t\tvar scrollParent, parentElement;\n\n\t\tscrollParent = targetElement.fastClickScrollParent;\n\n\t\t// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the\n\t\t// target element was moved to another parent.\n\t\tif (!scrollParent || !scrollParent.contains(targetElement)) {\n\t\t\tparentElement = targetElement;\n\t\t\tdo {\n\t\t\t\tif (parentElement.scrollHeight > parentElement.offsetHeight) {\n\t\t\t\t\tscrollParent = parentElement;\n\t\t\t\t\ttargetElement.fastClickScrollParent = parentElement;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tparentElement = parentElement.parentElement;\n\t\t\t} while (parentElement);\n\t\t}\n\n\t\t// Always update the scroll top tracker if possible.\n\t\tif (scrollParent) {\n\t\t\tscrollParent.fastClickLastScrollTop = scrollParent.scrollTop;\n\t\t}\n\t};\n\n\n\t/**\n\t * @param {EventTarget} targetElement\n\t * @returns {Element|EventTarget}\n\t */\n\tFastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {\n\n\t\t// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.\n\t\tif (eventTarget.nodeType === Node.TEXT_NODE) {\n\t\t\treturn eventTarget.parentNode;\n\t\t}\n\n\t\treturn eventTarget;\n\t};\n\n\n\t/**\n\t * On touch start, record the position and scroll offset.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchStart = function(event) {\n\t\tvar targetElement, touch, selection;\n\n\t\t// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).\n\t\tif (event.targetTouches.length > 1) {\n\t\t\treturn true;\n\t\t}\n\n\t\ttargetElement = this.getTargetElementFromEventTarget(event.target);\n\t\ttouch = event.targetTouches[0];\n\n\t\tif (deviceIsIOS) {\n\n\t\t\t// Only trusted events will deselect text on iOS (issue #49)\n\t\t\tselection = window.getSelection();\n\t\t\tif (selection.rangeCount && !selection.isCollapsed) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!deviceIsIOS4) {\n\n\t\t\t\t// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):\n\t\t\t\t// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched\n\t\t\t\t// with the same identifier as the touch event that previously triggered the click that triggered the alert.\n\t\t\t\t// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an\n\t\t\t\t// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.\n\t\t\t\t// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,\n\t\t\t\t// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,\n\t\t\t\t// random integers, it's safe to to continue if the identifier is 0 here.\n\t\t\t\tif (touch.identifier && touch.identifier === this.lastTouchIdentifier) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.lastTouchIdentifier = touch.identifier;\n\n\t\t\t\t// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:\n\t\t\t\t// 1) the user does a fling scroll on the scrollable layer\n\t\t\t\t// 2) the user stops the fling scroll with another tap\n\t\t\t\t// then the event.target of the last 'touchend' event will be the element that was under the user's finger\n\t\t\t\t// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check\n\t\t\t\t// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).\n\t\t\t\tthis.updateScrollParent(targetElement);\n\t\t\t}\n\t\t}\n\n\t\tthis.trackingClick = true;\n\t\tthis.trackingClickStart = event.timeStamp;\n\t\tthis.targetElement = targetElement;\n\n\t\tthis.touchStartX = touch.pageX;\n\t\tthis.touchStartY = touch.pageY;\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.touchHasMoved = function(event) {\n\t\tvar touch = event.changedTouches[0], boundary = this.touchBoundary;\n\n\t\tif (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Update the last position.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchMove = function(event) {\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If the touch has moved, cancel the click tracking\n\t\tif (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {\n\t\t\tthis.trackingClick = false;\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Attempt to find the labelled control for the given label element.\n\t *\n\t * @param {EventTarget|HTMLLabelElement} labelElement\n\t * @returns {Element|null}\n\t */\n\tFastClick.prototype.findControl = function(labelElement) {\n\n\t\t// Fast path for newer browsers supporting the HTML5 control attribute\n\t\tif (labelElement.control !== undefined) {\n\t\t\treturn labelElement.control;\n\t\t}\n\n\t\t// All browsers under test that support touch events also support the HTML5 htmlFor attribute\n\t\tif (labelElement.htmlFor) {\n\t\t\treturn document.getElementById(labelElement.htmlFor);\n\t\t}\n\n\t\t// If no for attribute exists, attempt to retrieve the first labellable descendant element\n\t\t// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label\n\t\treturn labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');\n\t};\n\n\n\t/**\n\t * On touch end, determine whether to send a click event at once.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchEnd = function(event) {\n\t\tvar forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;\n\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tthis.cancelNextClick = true;\n\t\t\treturn true;\n\t\t}\n\n\t\tif ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Reset to prevent wrong click cancel on input (issue #156).\n\t\tthis.cancelNextClick = false;\n\n\t\tthis.lastClickTime = event.timeStamp;\n\n\t\ttrackingClickStart = this.trackingClickStart;\n\t\tthis.trackingClick = false;\n\t\tthis.trackingClickStart = 0;\n\n\t\t// On some iOS devices, the targetElement supplied with the event is invalid if the layer\n\t\t// is performing a transition or scroll, and has to be re-detected manually. Note that\n\t\t// for this to function correctly, it must be called *after* the event target is checked!\n\t\t// See issue #57; also filed as rdar://13048589 .\n\t\tif (deviceIsIOSWithBadTarget) {\n\t\t\ttouch = event.changedTouches[0];\n\n\t\t\t// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null\n\t\t\ttargetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;\n\t\t\ttargetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;\n\t\t}\n\n\t\ttargetTagName = targetElement.tagName.toLowerCase();\n\t\tif (targetTagName === 'label') {\n\t\t\tforElement = this.findControl(targetElement);\n\t\t\tif (forElement) {\n\t\t\t\tthis.focus(targetElement);\n\t\t\t\tif (deviceIsAndroid) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\ttargetElement = forElement;\n\t\t\t}\n\t\t} else if (this.needsFocus(targetElement)) {\n\n\t\t\t// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.\n\t\t\t// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).\n\t\t\tif ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.focus(targetElement);\n\t\t\tthis.sendClick(targetElement, event);\n\n\t\t\t// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.\n\t\t\t// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)\n\t\t\tif (!deviceIsIOS || targetTagName !== 'select') {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (deviceIsIOS && !deviceIsIOS4) {\n\n\t\t\t// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled\n\t\t\t// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).\n\t\t\tscrollParent = targetElement.fastClickScrollParent;\n\t\t\tif (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Prevent the actual click from going though - unless the target node is marked as requiring\n\t\t// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.\n\t\tif (!this.needsClick(targetElement)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendClick(targetElement, event);\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * On touch cancel, stop tracking the click.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.onTouchCancel = function() {\n\t\tthis.trackingClick = false;\n\t\tthis.targetElement = null;\n\t};\n\n\n\t/**\n\t * Determine mouse events which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onMouse = function(event) {\n\n\t\t// If a target element was never set (because a touch event was never fired) allow the event\n\t\tif (!this.targetElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (event.forwardedTouchEvent) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Programmatically generated events targeting a specific element should be permitted\n\t\tif (!event.cancelable) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Derive and check the target element to see whether the mouse event needs to be permitted;\n\t\t// unless explicitly enabled, prevent non-touch click events from triggering actions,\n\t\t// to prevent ghost/doubleclicks.\n\t\tif (!this.needsClick(this.targetElement) || this.cancelNextClick) {\n\n\t\t\t// Prevent any user-added listeners declared on FastClick element from being fired.\n\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t} else {\n\n\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t\t\tevent.propagationStopped = true;\n\t\t\t}\n\n\t\t\t// Cancel the event\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the mouse event is permitted, return true for the action to go through.\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * On actual clicks, determine whether this is a touch-generated click, a click action occurring\n\t * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or\n\t * an actual click which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onClick = function(event) {\n\t\tvar permitted;\n\n\t\t// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.\n\t\tif (this.trackingClick) {\n\t\t\tthis.targetElement = null;\n\t\t\tthis.trackingClick = false;\n\t\t\treturn true;\n\t\t}\n\n\t\t// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.\n\t\tif (event.target.type === 'submit' && event.detail === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tpermitted = this.onMouse(event);\n\n\t\t// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.\n\t\tif (!permitted) {\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\t// If clicks are permitted, return true for the action to go through.\n\t\treturn permitted;\n\t};\n\n\n\t/**\n\t * Remove all FastClick's event listeners.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.destroy = function() {\n\t\tvar layer = this.layer;\n\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.removeEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.removeEventListener('click', this.onClick, true);\n\t\tlayer.removeEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.removeEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.removeEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.removeEventListener('touchcancel', this.onTouchCancel, false);\n\t};\n\n\n\t/**\n\t * Check whether FastClick is needed.\n\t *\n\t * @param {Element} layer The layer to listen on\n\t */\n\tFastClick.notNeeded = function(layer) {\n\t\tvar metaViewport;\n\t\tvar chromeVersion;\n\t\tvar blackberryVersion;\n\t\tvar firefoxVersion;\n\n\t\t// Devices that don't support touch don't need FastClick\n\t\tif (typeof window.ontouchstart === 'undefined') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Chrome version - zero for other browsers\n\t\tchromeVersion = +(/Chrome\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (chromeVersion) {\n\n\t\t\tif (deviceIsAndroid) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// Chrome on Android with user-scalable=\"no\" doesn't need FastClick (issue #89)\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// Chrome 32 and above with width=device-width or less don't need FastClick\n\t\t\t\t\tif (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Chrome desktop doesn't need FastClick (issue #15)\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (deviceIsBlackBerry10) {\n\t\t\tblackberryVersion = navigator.userAgent.match(/Version\\/([0-9]*)\\.([0-9]*)/);\n\n\t\t\t// BlackBerry 10.3+ does not require Fastclick library.\n\t\t\t// https://github.com/ftlabs/fastclick/issues/251\n\t\t\tif (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// user-scalable=no eliminates click delay.\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// width=device-width (or less than device-width) eliminates click delay.\n\t\t\t\t\tif (document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)\n\t\tif (layer.style.msTouchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Firefox version - zero for other browsers\n\t\tfirefoxVersion = +(/Firefox\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (firefoxVersion >= 27) {\n\t\t\t// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896\n\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\t\t\tif (metaViewport && (metaViewport.content.indexOf('user-scalable=no') !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version\n\t\t// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx\n\t\tif (layer.style.touchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Factory method for creating a FastClick object\n\t *\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tFastClick.attach = function(layer, options) {\n\t\treturn new FastClick(layer, options);\n\t};\n\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(function() {\n\t\t\treturn FastClick;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = FastClick.attach;\n\t\tmodule.exports.FastClick = FastClick;\n\t} else {\n\t\twindow.FastClick = FastClick;\n\t}\n}());\n","// Browser bundle of nunjucks 1.3.3 (slim, only works with precompiled templates)\n\n(function() {\nvar modules = {};\n(function() {\n'use strict';\n\n// A simple class system, more documentation to come\n\nfunction extend(cls, name, props) {\n    // This does that same thing as Object.create, but with support for IE8\n    var F = function() {};\n    F.prototype = cls.prototype;\n    var prototype = new F();\n\n    var fnTest = /xyz/.test(function(){ xyz; }) ? /\\bparent\\b/ : /.*/;\n    props = props || {};\n\n    for(var k in props) {\n        var src = props[k];\n        var parent = prototype[k];\n\n        if(typeof parent === 'function' &&\n           typeof src === 'function' &&\n           fnTest.test(src)) {\n            prototype[k] = (function (src, parent) {\n                return function() {\n                    // Save the current parent method\n                    var tmp = this.parent;\n\n                    // Set parent to the previous method, call, and restore\n                    this.parent = parent;\n                    var res = src.apply(this, arguments);\n                    this.parent = tmp;\n\n                    return res;\n                };\n            })(src, parent);\n        }\n        else {\n            prototype[k] = src;\n        }\n    }\n\n    prototype.typename = name;\n\n    var new_cls = function() {\n        if(prototype.init) {\n            prototype.init.apply(this, arguments);\n        }\n    };\n\n    new_cls.prototype = prototype;\n    new_cls.prototype.constructor = new_cls;\n\n    new_cls.extend = function(name, props) {\n        if(typeof name === 'object') {\n            props = name;\n            name = 'anonymous';\n        }\n        return extend(new_cls, name, props);\n    };\n\n    return new_cls;\n}\n\nmodules['object'] = extend(Object, 'Object', {});\n})();\n(function() {\n'use strict';\n\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\n\nvar escapeMap = {\n    '&': '&amp;',\n    '\"': '&quot;',\n    '\\'': '&#39;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\n\nvar escapeRegex = /[&\"'<>]/g;\n\nvar lookupEscape = function(ch) {\n    return escapeMap[ch];\n};\n\nvar exports = modules['lib'] = {};\n\nexports.withPrettyErrors = function(path, withInternals, func) {\n    try {\n        return func();\n    } catch (e) {\n        if (!e.Update) {\n            // not one of ours, cast it\n            e = new exports.TemplateError(e);\n        }\n        e.Update(path);\n\n        // Unless they marked the dev flag, show them a trace from here\n        if (!withInternals) {\n            var old = e;\n            e = new Error(old.message);\n            e.name = old.name;\n        }\n\n        throw e;\n    }\n};\n\nexports.TemplateError = function(message, lineno, colno) {\n    var err = this;\n\n    if (message instanceof Error) { // for casting regular js errors\n        err = message;\n        message = message.name + ': ' + message.message;\n    } else {\n        if(Error.captureStackTrace) {\n            Error.captureStackTrace(err);\n        }\n    }\n\n    err.name = 'Template render error';\n    err.message = message;\n    err.lineno = lineno;\n    err.colno = colno;\n    err.firstUpdate = true;\n\n    err.Update = function(path) {\n        var message = '(' + (path || 'unknown path') + ')';\n\n        // only show lineno + colno next to path of template\n        // where error occurred\n        if (this.firstUpdate) {\n            if(this.lineno && this.colno) {\n                message += ' [Line ' + this.lineno + ', Column ' + this.colno + ']';\n            }\n            else if(this.lineno) {\n                message += ' [Line ' + this.lineno + ']';\n            }\n        }\n\n        message += '\\n ';\n        if (this.firstUpdate) {\n            message += ' ';\n        }\n\n        this.message = message + (this.message || '');\n        this.firstUpdate = false;\n        return this;\n    };\n\n    return err;\n};\n\nexports.TemplateError.prototype = Error.prototype;\n\nexports.escape = function(val) {\n  return val.replace(escapeRegex, lookupEscape);\n};\n\nexports.isFunction = function(obj) {\n    return ObjProto.toString.call(obj) === '[object Function]';\n};\n\nexports.isArray = Array.isArray || function(obj) {\n    return ObjProto.toString.call(obj) === '[object Array]';\n};\n\nexports.isString = function(obj) {\n    return ObjProto.toString.call(obj) === '[object String]';\n};\n\nexports.isObject = function(obj) {\n    return ObjProto.toString.call(obj) === '[object Object]';\n};\n\nexports.groupBy = function(obj, val) {\n    var result = {};\n    var iterator = exports.isFunction(val) ? val : function(obj) { return obj[val]; };\n    for(var i=0; i<obj.length; i++) {\n        var value = obj[i];\n        var key = iterator(value, i);\n        (result[key] || (result[key] = [])).push(value);\n    }\n    return result;\n};\n\nexports.toArray = function(obj) {\n    return Array.prototype.slice.call(obj);\n};\n\nexports.without = function(array) {\n    var result = [];\n    if (!array) {\n        return result;\n    }\n    var index = -1,\n    length = array.length,\n    contains = exports.toArray(arguments).slice(1);\n\n    while(++index < length) {\n        if(exports.indexOf(contains, array[index]) === -1) {\n            result.push(array[index]);\n        }\n    }\n    return result;\n};\n\nexports.extend = function(obj, obj2) {\n    for(var k in obj2) {\n        obj[k] = obj2[k];\n    }\n    return obj;\n};\n\nexports.repeat = function(char_, n) {\n    var str = '';\n    for(var i=0; i<n; i++) {\n        str += char_;\n    }\n    return str;\n};\n\nexports.each = function(obj, func, context) {\n    if(obj == null) {\n        return;\n    }\n\n    if(ArrayProto.each && obj.each === ArrayProto.each) {\n        obj.forEach(func, context);\n    }\n    else if(obj.length === +obj.length) {\n        for(var i=0, l=obj.length; i<l; i++) {\n            func.call(context, obj[i], i, obj);\n        }\n    }\n};\n\nexports.map = function(obj, func) {\n    var results = [];\n    if(obj == null) {\n        return results;\n    }\n\n    if(ArrayProto.map && obj.map === ArrayProto.map) {\n        return obj.map(func);\n    }\n\n    for(var i=0; i<obj.length; i++) {\n        results[results.length] = func(obj[i], i);\n    }\n\n    if(obj.length === +obj.length) {\n        results.length = obj.length;\n    }\n\n    return results;\n};\n\nexports.asyncIter = function(arr, iter, cb) {\n    var i = -1;\n\n    function next() {\n        i++;\n\n        if(i < arr.length) {\n            iter(arr[i], i, next, cb);\n        }\n        else {\n            cb();\n        }\n    }\n\n    next();\n};\n\nexports.asyncFor = function(obj, iter, cb) {\n    var keys = exports.keys(obj);\n    var len = keys.length;\n    var i = -1;\n\n    function next() {\n        i++;\n        var k = keys[i];\n\n        if(i < len) {\n            iter(k, obj[k], i, len, next);\n        }\n        else {\n            cb();\n        }\n    }\n\n    next();\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf#Polyfill\nexports.indexOf = Array.prototype.indexOf ?\n    function (arr, searchElement, fromIndex) {\n        return Array.prototype.indexOf.call(arr, searchElement, fromIndex);\n    } :\n    function (arr, searchElement, fromIndex) {\n        var length = this.length >>> 0; // Hack to convert object.length to a UInt32\n\n        fromIndex = +fromIndex || 0;\n\n        if(Math.abs(fromIndex) === Infinity) {\n            fromIndex = 0;\n        }\n\n        if(fromIndex < 0) {\n            fromIndex += length;\n            if (fromIndex < 0) {\n                fromIndex = 0;\n            }\n        }\n\n        for(;fromIndex < length; fromIndex++) {\n            if (arr[fromIndex] === searchElement) {\n                return fromIndex;\n            }\n        }\n\n        return -1;\n    };\n\nif(!Array.prototype.map) {\n    Array.prototype.map = function() {\n        throw new Error('map is unimplemented for this js engine');\n    };\n}\n\nexports.keys = function(obj) {\n    if(Object.prototype.keys) {\n        return obj.keys();\n    }\n    else {\n        var keys = [];\n        for(var k in obj) {\n            if(obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    }\n}\n})();\n(function() {\n'use strict';\n\nvar lib = modules[\"lib\"];\nvar Obj = modules[\"object\"];\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nvar Frame = Obj.extend({\n    init: function(parent) {\n        this.variables = {};\n        this.parent = parent;\n    },\n\n    set: function(name, val, resolveUp) {\n        // Allow variables with dots by automatically creating the\n        // nested structure\n        var parts = name.split('.');\n        var obj = this.variables;\n        var frame = this;\n\n        if(resolveUp) {\n            if((frame = this.resolve(parts[0]))) {\n                frame.set(name, val);\n                return;\n            }\n            frame = this;\n        }\n\n        for(var i=0; i<parts.length - 1; i++) {\n            var id = parts[i];\n\n            if(!obj[id]) {\n                obj[id] = {};\n            }\n            obj = obj[id];\n        }\n\n        obj[parts[parts.length - 1]] = val;\n    },\n\n    get: function(name) {\n        var val = this.variables[name];\n        if(val !== undefined && val !== null) {\n            return val;\n        }\n        return null;\n    },\n\n    lookup: function(name) {\n        var p = this.parent;\n        var val = this.variables[name];\n        if(val !== undefined && val !== null) {\n            return val;\n        }\n        return p && p.lookup(name);\n    },\n\n    resolve: function(name) {\n        var p = this.parent;\n        var val = this.variables[name];\n        if(val !== undefined && val !== null) {\n            return this;\n        }\n        return p && p.resolve(name);\n    },\n\n    push: function() {\n        return new Frame(this);\n    },\n\n    pop: function() {\n        return this.parent;\n    }\n});\n\nfunction makeMacro(argNames, kwargNames, func) {\n    return function() {\n        var argCount = numArgs(arguments);\n        var args;\n        var kwargs = getKeywordArgs(arguments);\n\n        if(argCount > argNames.length) {\n            args = Array.prototype.slice.call(arguments, 0, argNames.length);\n\n            // Positional arguments that should be passed in as\n            // keyword arguments (essentially default values)\n            var vals = Array.prototype.slice.call(arguments, args.length, argCount);\n            for(var i=0; i<vals.length; i++) {\n                if(i < kwargNames.length) {\n                    kwargs[kwargNames[i]] = vals[i];\n                }\n            }\n\n            args.push(kwargs);\n        }\n        else if(argCount < argNames.length) {\n            args = Array.prototype.slice.call(arguments, 0, argCount);\n\n            for(var i=argCount; i<argNames.length; i++) {\n                var arg = argNames[i];\n\n                // Keyword arguments that should be passed as\n                // positional arguments, i.e. the caller explicitly\n                // used the name of a positional arg\n                args.push(kwargs[arg]);\n                delete kwargs[arg];\n            }\n\n            args.push(kwargs);\n        }\n        else {\n            args = arguments;\n        }\n\n        return func.apply(this, args);\n    };\n}\n\nfunction makeKeywordArgs(obj) {\n    obj.__keywords = true;\n    return obj;\n}\n\nfunction getKeywordArgs(args) {\n    var len = args.length;\n    if(len) {\n        var lastArg = args[len - 1];\n        if(lastArg && lastArg.hasOwnProperty('__keywords')) {\n            return lastArg;\n        }\n    }\n    return {};\n}\n\nfunction numArgs(args) {\n    var len = args.length;\n    if(len === 0) {\n        return 0;\n    }\n\n    var lastArg = args[len - 1];\n    if(lastArg && lastArg.hasOwnProperty('__keywords')) {\n        return len - 1;\n    }\n    else {\n        return len;\n    }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n    if(typeof val !== 'string') {\n        return val;\n    }\n\n    this.val = val;\n}\n\nSafeString.prototype = Object.create(String.prototype);\nSafeString.prototype.valueOf = function() {\n    return this.val;\n};\nSafeString.prototype.toString = function() {\n    return this.val;\n};\n\nfunction copySafeness(dest, target) {\n    if(dest instanceof SafeString) {\n        return new SafeString(target);\n    }\n    return target.toString();\n}\n\nfunction markSafe(val) {\n    var type = typeof val;\n\n    if(type === 'string') {\n        return new SafeString(val);\n    }\n    else if(type !== 'function') {\n        return val;\n    }\n    else {\n        return function() {\n            var ret = val.apply(this, arguments);\n\n            if(typeof ret === 'string') {\n                return new SafeString(ret);\n            }\n\n            return ret;\n        };\n    }\n}\n\nfunction suppressValue(val, autoescape) {\n    val = (val !== undefined && val !== null) ? val : '';\n\n    if(autoescape && typeof val === 'string') {\n        val = lib.escape(val);\n    }\n\n    return val;\n}\n\nfunction memberLookup(obj, val) {\n    obj = obj || {};\n\n    if(typeof obj[val] === 'function') {\n        return function() {\n            return obj[val].apply(obj, arguments);\n        };\n    }\n\n    return obj[val];\n}\n\nfunction callWrap(obj, name, args) {\n    if(!obj) {\n        throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n    }\n    else if(typeof obj !== 'function') {\n        throw new Error('Unable to call `' + name + '`, which is not a function');\n    }\n\n    return obj.apply(this, args);\n}\n\nfunction contextOrFrameLookup(context, frame, name) {\n    var val = frame.lookup(name);\n    return (val !== undefined && val !== null) ?\n        val :\n        context.lookup(name);\n}\n\nfunction handleError(error, lineno, colno) {\n    if(error.lineno) {\n        return error;\n    }\n    else {\n        return new lib.TemplateError(error, lineno, colno);\n    }\n}\n\nfunction asyncEach(arr, dimen, iter, cb) {\n    if(lib.isArray(arr)) {\n        var len = arr.length;\n\n        lib.asyncIter(arr, function(item, i, next) {\n            switch(dimen) {\n            case 1: iter(item, i, len, next); break;\n            case 2: iter(item[0], item[1], i, len, next); break;\n            case 3: iter(item[0], item[1], item[2], i, len, next); break;\n            default:\n                item.push(i, next);\n                iter.apply(this, item);\n            }\n        }, cb);\n    }\n    else {\n        lib.asyncFor(arr, function(key, val, i, len, next) {\n            iter(key, val, i, len, next);\n        }, cb);\n    }\n}\n\nfunction asyncAll(arr, dimen, func, cb) {\n    var finished = 0;\n    var len;\n    var outputArr;\n\n    function done(i, output) {\n        finished++;\n        outputArr[i] = output;\n\n        if(finished === len) {\n            cb(null, outputArr.join(''));\n        }\n    }\n\n    if(lib.isArray(arr)) {\n        len = arr.length;\n        outputArr = new Array(len);\n\n        if(len === 0) {\n            cb(null, '');\n        }\n        else {\n            for(var i=0; i<arr.length; i++) {\n                var item = arr[i];\n\n                switch(dimen) {\n                case 1: func(item, i, len, done); break;\n                case 2: func(item[0], item[1], i, len, done); break;\n                case 3: func(item[0], item[1], item[2], i, len, done); break;\n                default:\n                    item.push(i, done);\n                    func.apply(this, item);\n                }\n            }\n        }\n    }\n    else {\n        var keys = lib.keys(arr);\n        len = keys.length;\n        outputArr = new Array(len);\n\n        if(len === 0) {\n            cb(null, '');\n        }\n        else {\n            for(var i=0; i<keys.length; i++) {\n                var k = keys[i];\n                func(k, arr[k], i, len, done);\n            }\n        }\n    }\n}\n\nmodules['runtime'] = {\n    Frame: Frame,\n    makeMacro: makeMacro,\n    makeKeywordArgs: makeKeywordArgs,\n    numArgs: numArgs,\n    suppressValue: suppressValue,\n    memberLookup: memberLookup,\n    contextOrFrameLookup: contextOrFrameLookup,\n    callWrap: callWrap,\n    handleError: handleError,\n    isArray: lib.isArray,\n    keys: lib.keys,\n    SafeString: SafeString,\n    copySafeness: copySafeness,\n    markSafe: markSafe,\n    asyncEach: asyncEach,\n    asyncAll: asyncAll\n};\n})();\n(function() {\n'use strict';\n\nvar path = modules[\"path\"];\nvar Obj = modules[\"object\"];\nvar lib = modules[\"lib\"];\n\nvar Loader = Obj.extend({\n    on: function(name, func) {\n        this.listeners = this.listeners || {};\n        this.listeners[name] = this.listeners[name] || [];\n        this.listeners[name].push(func);\n    },\n\n    emit: function(name /*, arg1, arg2, ...*/) {\n        var args = Array.prototype.slice.call(arguments, 1);\n\n        if(this.listeners && this.listeners[name]) {\n            lib.each(this.listeners[name], function(listener) {\n                listener.apply(null, args);\n            });\n        }\n    },\n\n    resolve: function(from, to) {\n        return path.resolve(path.dirname(from), to);\n    },\n\n    isRelative: function(filename) {\n        return (filename.indexOf('./') === 0 || filename.indexOf('../') === 0);\n    }\n});\n\nmodules['loader'] = Loader;\n})();\n(function() {\n'use strict';\n\nvar Loader = modules[\"loader\"];\n\nvar WebLoader = Loader.extend({\n    init: function(baseURL, neverUpdate) {\n        // It's easy to use precompiled templates: just include them\n        // before you configure nunjucks and this will automatically\n        // pick it up and use it\n        this.precompiled = window.nunjucksPrecompiled || {};\n\n        this.baseURL = baseURL || '';\n        this.neverUpdate = neverUpdate;\n    },\n\n    getSource: function(name) {\n        if(this.precompiled[name]) {\n            return {\n                src: { type: 'code',\n                       obj: this.precompiled[name] },\n                path: name\n            };\n        }\n        else {\n            var src = this.fetch(this.baseURL + '/' + name);\n            if(!src) {\n                return null;\n            }\n\n            return { src: src,\n                     path: name,\n                     noCache: !this.neverUpdate };\n        }\n    },\n\n    fetch: function(url, callback) {\n        // Only in the browser please\n        var ajax;\n        var loading = true;\n        var src;\n\n        if(window.XMLHttpRequest) { // Mozilla, Safari, ...\n            ajax = new XMLHttpRequest();\n        }\n        else if(window.ActiveXObject) { // IE 8 and older\n            ajax = new ActiveXObject('Microsoft.XMLHTTP');\n        }\n\n        ajax.onreadystatechange = function() {\n            if(ajax.readyState === 4 && (ajax.status === 0 || ajax.status === 200) && loading) {\n                loading = false;\n                src = ajax.responseText;\n            }\n        };\n\n        url += (url.indexOf('?') === -1 ? '?' : '&') + 's=' +\n               (new Date().getTime());\n\n        // Synchronous because this API shouldn't be used in\n        // production (pre-load compiled templates instead)\n        ajax.open('GET', url, false);\n        ajax.send();\n\n        return src;\n    }\n});\n\nmodules['web-loaders'] = {\n    WebLoader: WebLoader\n};\n})();\n(function() {\nif(typeof window === 'undefined' || window !== this) {\n    modules['loaders'] = modules[\"node-loaders\"];\n}\nelse {\n    modules['loaders'] = modules[\"web-loaders\"];\n}\n})();\n(function() {\n'use strict';\n\nvar lib = modules[\"lib\"];\nvar r = modules[\"runtime\"];\n\nvar filters = {\n    abs: function(n) {\n        return Math.abs(n);\n    },\n\n    batch: function(arr, linecount, fill_with) {\n        var res = [];\n        var tmp = [];\n\n        for(var i=0; i<arr.length; i++) {\n            if(i % linecount === 0 && tmp.length) {\n                res.push(tmp);\n                tmp = [];\n            }\n\n            tmp.push(arr[i]);\n        }\n\n        if(tmp.length) {\n            if(fill_with) {\n                for(var i=tmp.length; i<linecount; i++) {\n                    tmp.push(fill_with);\n                }\n            }\n\n            res.push(tmp);\n        }\n\n        return res;\n    },\n\n    capitalize: function(str) {\n        var ret = str.toLowerCase();\n        return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n    },\n\n    center: function(str, width) {\n        width = width || 80;\n\n        if(str.length >= width) {\n            return str;\n        }\n\n        var spaces = width - str.length;\n        var pre = lib.repeat(' ', spaces/2 - spaces % 2);\n        var post = lib.repeat(' ', spaces/2);\n        return r.copySafeness(str, pre + str + post);\n    },\n\n    'default': function(val, def) {\n        return val ? val : def;\n    },\n\n    dictsort: function(val, case_sensitive, by) {\n        if (!lib.isObject(val)) {\n            throw new lib.TemplateError('dictsort filter: val must be an object');\n        }\n\n        var array = [];\n        for (var k in val) {\n            // deliberately include properties from the object's prototype\n            array.push([k,val[k]]);\n        }\n\n        var si;\n        if (by === undefined || by === 'key') {\n            si = 0;\n        } else if (by === 'value') {\n            si = 1;\n        } else {\n            throw new lib.TemplateError(\n                'dictsort filter: You can only sort by either key or value');\n        }\n\n        array.sort(function(t1, t2) {\n            var a = t1[si];\n            var b = t2[si];\n\n            if (!case_sensitive) {\n                if (lib.isString(a)) {\n                    a = a.toUpperCase();\n                }\n                if (lib.isString(b)) {\n                    b = b.toUpperCase();\n                }\n            }\n\n            return a > b ? 1 : (a === b ? 0 : -1);\n        });\n\n        return array;\n    },\n\n    escape: function(str) {\n        if(typeof str === 'string' ||\n           str instanceof r.SafeString) {\n            return lib.escape(str);\n        }\n        return str;\n    },\n\n    safe: function(str) {\n        return r.markSafe(str);\n    },\n\n    first: function(arr) {\n        return arr[0];\n    },\n\n    groupby: function(arr, attr) {\n        return lib.groupBy(arr, attr);\n    },\n\n    indent: function(str, width, indentfirst) {\n        width = width || 4;\n        var res = '';\n        var lines = str.split('\\n');\n        var sp = lib.repeat(' ', width);\n\n        for(var i=0; i<lines.length; i++) {\n            if(i === 0 && !indentfirst) {\n                res += lines[i] + '\\n';\n            }\n            else {\n                res += sp + lines[i] + '\\n';\n            }\n        }\n\n        return r.copySafeness(str, res);\n    },\n\n    join: function(arr, del, attr) {\n        del = del || '';\n\n        if(attr) {\n            arr = lib.map(arr, function(v) {\n                return v[attr];\n            });\n        }\n\n        return arr.join(del);\n    },\n\n    last: function(arr) {\n        return arr[arr.length-1];\n    },\n\n    length: function(arr) {\n        return arr !== undefined ? arr.length : 0;\n    },\n\n    list: function(val) {\n        if(lib.isString(val)) {\n            return val.split('');\n        }\n        else if(lib.isObject(val)) {\n            var keys = [];\n\n            if(Object.keys) {\n                keys = Object.keys(val);\n            }\n            else {\n                for(var k in val) {\n                    keys.push(k);\n                }\n            }\n\n            return lib.map(keys, function(k) {\n                return { key: k,\n                         value: val[k] };\n            });\n        }\n        else if(lib.isArray(val)) {\n          return val;\n        }\n        else {\n            throw new lib.TemplateError('list filter: type not iterable');\n        }\n    },\n\n    lower: function(str) {\n        return str.toLowerCase();\n    },\n\n    random: function(arr) {\n        return arr[Math.floor(Math.random() * arr.length)];\n    },\n\n    rejectattr: function(arr, attr) {\n      return arr.filter(function (item) {\n        return !item[attr];\n      });\n    },\n\n    selectattr: function(arr, attr) {\n      return arr.filter(function (item) {\n        return !!item[attr];\n      });\n    },\n\n    replace: function(str, old, new_, maxCount) {\n        if (old instanceof RegExp) {\n            return str.replace(old, new_);\n        }\n\n        var res = str;\n        var last = res;\n        var count = 1;\n        res = res.replace(old, new_);\n\n        while(last !== res) {\n            if(count >= maxCount) {\n                break;\n            }\n\n            last = res;\n            res = res.replace(old, new_);\n            count++;\n        }\n\n        return r.copySafeness(str, res);\n    },\n\n    reverse: function(val) {\n        var arr;\n        if(lib.isString(val)) {\n            arr = filters.list(val);\n        }\n        else {\n            // Copy it\n            arr = lib.map(val, function(v) { return v; });\n        }\n\n        arr.reverse();\n\n        if(lib.isString(val)) {\n            return r.copySafeness(val, arr.join(''));\n        }\n        return arr;\n    },\n\n    round: function(val, precision, method) {\n        precision = precision || 0;\n        var factor = Math.pow(10, precision);\n        var rounder;\n\n        if(method === 'ceil') {\n            rounder = Math.ceil;\n        }\n        else if(method === 'floor') {\n            rounder = Math.floor;\n        }\n        else {\n            rounder = Math.round;\n        }\n\n        return rounder(val * factor) / factor;\n    },\n\n    slice: function(arr, slices, fillWith) {\n        var sliceLength = Math.floor(arr.length / slices);\n        var extra = arr.length % slices;\n        var offset = 0;\n        var res = [];\n\n        for(var i=0; i<slices; i++) {\n            var start = offset + i * sliceLength;\n            if(i < extra) {\n                offset++;\n            }\n            var end = offset + (i + 1) * sliceLength;\n\n            var slice = arr.slice(start, end);\n            if(fillWith && i >= extra) {\n                slice.push(fillWith);\n            }\n            res.push(slice);\n        }\n\n        return res;\n    },\n\n    sort: function(arr, reverse, caseSens, attr) {\n        // Copy it\n        arr = lib.map(arr, function(v) { return v; });\n\n        arr.sort(function(a, b) {\n            var x, y;\n\n            if(attr) {\n                x = a[attr];\n                y = b[attr];\n            }\n            else {\n                x = a;\n                y = b;\n            }\n\n            if(!caseSens && lib.isString(x) && lib.isString(y)) {\n                x = x.toLowerCase();\n                y = y.toLowerCase();\n            }\n\n            if(x < y) {\n                return reverse ? 1 : -1;\n            }\n            else if(x > y) {\n                return reverse ? -1: 1;\n            }\n            else {\n                return 0;\n            }\n        });\n\n        return arr;\n    },\n\n    string: function(obj) {\n        return r.copySafeness(obj, obj);\n    },\n\n    title: function(str) {\n        var words = str.split(' ');\n        for(var i = 0; i < words.length; i++) {\n            words[i] = filters.capitalize(words[i]);\n        }\n        return r.copySafeness(str, words.join(' '));\n    },\n\n    trim: function(str) {\n        return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n    },\n\n    truncate: function(input, length, killwords, end) {\n        var orig = input;\n        length = length || 255;\n\n        if (input.length <= length)\n            return input;\n\n        if (killwords) {\n            input = input.substring(0, length);\n        } else {\n            var idx = input.lastIndexOf(' ', length);\n            if(idx === -1) {\n                idx = length;\n            }\n\n            input = input.substring(0, idx);\n        }\n\n        input += (end !== undefined && end !== null) ? end : '...';\n        return r.copySafeness(orig, input);\n    },\n\n    upper: function(str) {\n        return str.toUpperCase();\n    },\n\n    urlencode: function(obj) {\n        var enc = encodeURIComponent;\n        if (lib.isString(obj)) {\n            return enc(obj);\n        } else {\n            var parts;\n            if (lib.isArray(obj)) {\n                parts = obj.map(function(item) {\n                    return enc(item[0]) + '=' + enc(item[1]);\n                })\n            } else {\n                parts = [];\n                for (var k in obj) {\n                    if (obj.hasOwnProperty(k)) {\n                        parts.push(enc(k) + '=' + enc(obj[k]));\n                    }\n                }\n            }\n            return parts.join('&');\n        }\n    },\n\n    urlize: function(str, length, nofollow) {\n        if (isNaN(length)) length = Infinity;\n\n        var noFollowAttr = (nofollow === true ? ' rel=\"nofollow\"' : '');\n\n        // For the jinja regexp, see\n        // https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\n        var puncRE = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n        // from http://blog.gerv.net/2011/05/html5_email_address_regexp/\n        var emailRE = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\n        var httpHttpsRE = /^https?:\\/\\/.*$/;\n        var wwwRE = /^www\\./;\n        var tldRE = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\n\n        var words = str.split(/\\s+/).filter(function(word) {\n          // If the word has no length, bail. This can happen for str with\n          // trailing whitespace.\n          return word && word.length;\n        }).map(function(word) {\n          var matches = word.match(puncRE);\n\n\n          var possibleUrl = matches && matches[1] || word;\n\n\n          // url that starts with http or https\n          if (httpHttpsRE.test(possibleUrl))\n            return '<a href=\"' + possibleUrl + '\"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';\n\n          // url that starts with www.\n          if (wwwRE.test(possibleUrl))\n            return '<a href=\"http://' + possibleUrl + '\"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';\n\n          // an email address of the form username@domain.tld\n          if (emailRE.test(possibleUrl))\n            return '<a href=\"mailto:' + possibleUrl + '\">' + possibleUrl + '</a>';\n\n          // url that ends in .com, .org or .net that is not an email address\n          if (tldRE.test(possibleUrl))\n            return '<a href=\"http://' + possibleUrl + '\"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';\n\n          return word;\n\n        });\n\n        return words.join(' ');\n    },\n\n    wordcount: function(str) {\n        var words = (str) ? str.match(/\\w+/g) : null;\n        return (words) ? words.length : null;\n    },\n\n    'float': function(val, def) {\n        var res = parseFloat(val);\n        return isNaN(res) ? def : res;\n    },\n\n    'int': function(val, def) {\n        var res = parseInt(val, 10);\n        return isNaN(res) ? def : res;\n    }\n};\n\n// Aliases\nfilters.d = filters['default'];\nfilters.e = filters.escape;\n\nmodules['filters'] = filters;\n})();\n(function() {\n'use strict';\n\nfunction cycler(items) {\n    var index = -1;\n\n    return {\n        current: null,\n        reset: function() {\n            index = -1;\n            this.current = null;\n        },\n\n        next: function() {\n            index++;\n            if(index >= items.length) {\n                index = 0;\n            }\n\n            this.current = items[index];\n            return this.current;\n        },\n    };\n\n}\n\nfunction joiner(sep) {\n    sep = sep || ',';\n    var first = true;\n\n    return function() {\n        var val = first ? '' : sep;\n        first = false;\n        return val;\n    };\n}\n\nvar globals = {\n    range: function(start, stop, step) {\n        if(!stop) {\n            stop = start;\n            start = 0;\n            step = 1;\n        }\n        else if(!step) {\n            step = 1;\n        }\n\n        var arr = [];\n        for(var i=start; i<stop; i+=step) {\n            arr.push(i);\n        }\n        return arr;\n    },\n\n    // lipsum: function(n, html, min, max) {\n    // },\n\n    cycler: function() {\n        return cycler(Array.prototype.slice.call(arguments));\n    },\n\n    joiner: function(sep) {\n        return joiner(sep);\n    }\n}\n\nmodules['globals'] = globals;\n})();\n(function() {\n'use strict';\n\nvar path = modules[\"path\"];\nvar lib = modules[\"lib\"];\nvar Obj = modules[\"object\"];\nvar lexer = modules[\"lexer\"];\nvar compiler = modules[\"compiler\"];\nvar builtin_filters = modules[\"filters\"];\nvar builtin_loaders = modules[\"loaders\"];\nvar runtime = modules[\"runtime\"];\nvar globals = modules[\"globals\"];\nvar Frame = runtime.Frame;\n\nvar Environment = Obj.extend({\n    init: function(loaders, opts) {\n        // The dev flag determines the trace that'll be shown on errors.\n        // If set to true, returns the full trace from the error point,\n        // otherwise will return trace starting from Template.render\n        // (the full trace from within nunjucks may confuse developers using\n        //  the library)\n        // defaults to false\n        var opts = this.opts = opts || {};\n        this.opts.dev = !!opts.dev;\n\n        // The autoescape flag sets global autoescaping. If true,\n        // every string variable will be escaped by default.\n        // If false, strings can be manually escaped using the `escape` filter.\n        // defaults to false\n        this.opts.autoescape = !!opts.autoescape;\n\n        this.opts.trimBlocks = !!opts.trimBlocks;\n\n        this.opts.lstripBlocks = !!opts.lstripBlocks;\n\n        if(!loaders) {\n            // The filesystem loader is only available client-side\n            if(builtin_loaders.FileSystemLoader) {\n                this.loaders = [new builtin_loaders.FileSystemLoader('views')];\n            }\n            else {\n                this.loaders = [new builtin_loaders.WebLoader('/views')];\n            }\n        }\n        else {\n            this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n        }\n\n        this.initCache();\n        this.filters = {};\n        this.asyncFilters = [];\n        this.extensions = {};\n        this.extensionsList = [];\n\n        for(var name in builtin_filters) {\n            this.addFilter(name, builtin_filters[name]);\n        }\n    },\n\n    initCache: function() {\n        // Caching and cache busting\n        lib.each(this.loaders, function(loader) {\n            loader.cache = {};\n\n            if(typeof loader.on === 'function') {\n                loader.on('update', function(template) {\n                    loader.cache[template] = null;\n                });\n            }\n        });\n    },\n\n    addExtension: function(name, extension) {\n        extension._name = name;\n        this.extensions[name] = extension;\n        this.extensionsList.push(extension);\n    },\n\n    getExtension: function(name) {\n        return this.extensions[name];\n    },\n\n    addGlobal: function(name, value) {\n        globals[name] = value;\n    },\n\n    addFilter: function(name, func, async) {\n        var wrapped = func;\n\n        if(async) {\n            this.asyncFilters.push(name);\n        }\n        this.filters[name] = wrapped;\n    },\n\n    getFilter: function(name) {\n        if(!this.filters[name]) {\n            throw new Error('filter not found: ' + name);\n        }\n        return this.filters[name];\n    },\n\n    resolveTemplate: function(loader, parentName, filename) {\n        var isRelative = (loader.isRelative && parentName)? loader.isRelative(filename) : false;\n        return (isRelative && loader.resolve)? loader.resolve(parentName, filename) : filename;\n    },\n\n    getTemplate: function(name, eagerCompile, parentName, cb) {\n        var that = this;\n        var tmpl = null;\n        if(name && name.raw) {\n            // this fixes autoescape for templates referenced in symbols\n            name = name.raw;\n        }\n\n        if(lib.isFunction(parentName)) {\n            cb = parentName;\n            parentName = null;\n            eagerCompile = eagerCompile || false;\n        }\n\n        if(lib.isFunction(eagerCompile)) {\n            cb = eagerCompile;\n            eagerCompile = false;\n        }\n\n        if(typeof name !== 'string') {\n            throw new Error('template names must be a string: ' + name);\n        }\n\n        for (var i = 0; i < this.loaders.length; i++) {\n            var _name = this.resolveTemplate(this.loaders[i], parentName, name);\n            tmpl = this.loaders[i].cache[_name];\n            if (tmpl) break;\n        }\n\n        if(tmpl) {\n            if(eagerCompile) {\n                tmpl.compile();\n            }\n\n            if(cb) {\n                cb(null, tmpl);\n            }\n            else {\n                return tmpl;\n            }\n        } else {\n            var syncResult;\n\n            lib.asyncIter(this.loaders, function(loader, i, next, done) {\n                function handle(src) {\n                    if(src) {\n                        src.loader = loader;\n                        done(src);\n                    }\n                    else {\n                        next();\n                    }\n                }\n\n                // Resolve name relative to parentName\n                name = that.resolveTemplate(loader, parentName, name);\n\n                if(loader.async) {\n                    loader.getSource(name, function(err, src) {\n                        if(err) { throw err; }\n                        handle(src);\n                    });\n                }\n                else {\n                    handle(loader.getSource(name));\n                }\n            }, function(info) {\n                if(!info) {\n                    var err = new Error('template not found: ' + name);\n                    if(cb) {\n                        cb(err);\n                    }\n                    else {\n                        throw err;\n                    }\n                }\n                else {\n                    var tmpl = new Template(info.src, this,\n                                            info.path, eagerCompile);\n\n                    if(!info.noCache) {\n                        info.loader.cache[name] = tmpl;\n                    }\n\n                    if(cb) {\n                        cb(null, tmpl);\n                    }\n                    else {\n                        syncResult = tmpl;\n                    }\n                }\n            }.bind(this));\n\n            return syncResult;\n        }\n    },\n\n    express: function(app) {\n        var env = this;\n\n        function NunjucksView(name, opts) {\n            this.name          = name;\n            this.path          = name;\n            this.defaultEngine = opts.defaultEngine;\n            this.ext           = path.extname(name);\n            if (!this.ext && !this.defaultEngine) throw new Error('No default engine was specified and no extension was provided.');\n            if (!this.ext) this.name += (this.ext = ('.' !== this.defaultEngine[0] ? '.' : '') + this.defaultEngine);\n        }\n\n        NunjucksView.prototype.render = function(opts, cb) {\n          env.render(this.name, opts, cb);\n        };\n\n        app.set('view', NunjucksView);\n    },\n\n    render: function(name, ctx, cb) {\n        if(lib.isFunction(ctx)) {\n            cb = ctx;\n            ctx = null;\n        }\n\n        // We support a synchronous API to make it easier to migrate\n        // existing code to async. This works because if you don't do\n        // anything async work, the whole thing is actually run\n        // synchronously.\n        var syncResult = null;\n\n        this.getTemplate(name, function(err, tmpl) {\n            if(err && cb) {\n                cb(err);\n            }\n            else if(err) {\n                throw err;\n            }\n            else {\n                tmpl.render(ctx, cb || function(err, res) {\n                    if(err) { throw err; }\n                    syncResult = res;\n                });\n            }\n        });\n\n        return syncResult;\n    },\n\n    renderString: function(src, ctx, opts, cb) {\n        if(lib.isFunction(opts)) {\n            cb = opts;\n            opts = {};\n        }\n        opts = opts || {};\n\n        var tmpl = new Template(src, this, opts.path);\n        return tmpl.render(ctx, cb);\n    }\n});\n\nvar Context = Obj.extend({\n    init: function(ctx, blocks) {\n        this.ctx = ctx;\n        this.blocks = {};\n        this.exported = [];\n\n        for(var name in blocks) {\n            this.addBlock(name, blocks[name]);\n        }\n    },\n\n    lookup: function(name) {\n        // This is one of the most called functions, so optimize for\n        // the typical case where the name isn't in the globals\n        if(name in globals && !(name in this.ctx)) {\n            return globals[name];\n        }\n        else {\n            return this.ctx[name];\n        }\n    },\n\n    setVariable: function(name, val) {\n        this.ctx[name] = val;\n    },\n\n    getVariables: function() {\n        return this.ctx;\n    },\n\n    addBlock: function(name, block) {\n        this.blocks[name] = this.blocks[name] || [];\n        this.blocks[name].push(block);\n    },\n\n    getBlock: function(name) {\n        if(!this.blocks[name]) {\n            throw new Error('unknown block \"' + name + '\"');\n        }\n\n        return this.blocks[name][0];\n    },\n\n    getSuper: function(env, name, block, frame, runtime, cb) {\n        var idx = lib.indexOf(this.blocks[name] || [], block);\n        var blk = this.blocks[name][idx + 1];\n        var context = this;\n\n        if(idx === -1 || !blk) {\n            throw new Error('no super block available for \"' + name + '\"');\n        }\n\n        blk(env, context, frame, runtime, cb);\n    },\n\n    addExport: function(name) {\n        this.exported.push(name);\n    },\n\n    getExported: function() {\n        var exported = {};\n        for(var i=0; i<this.exported.length; i++) {\n            var name = this.exported[i];\n            exported[name] = this.ctx[name];\n        }\n        return exported;\n    }\n});\n\nvar Template = Obj.extend({\n    init: function (src, env, path, eagerCompile) {\n        this.env = env || new Environment();\n\n        if(lib.isObject(src)) {\n            switch(src.type) {\n            case 'code': this.tmplProps = src.obj; break;\n            case 'string': this.tmplStr = src.obj; break;\n            }\n        }\n        else if(lib.isString(src)) {\n            this.tmplStr = src;\n        }\n        else {\n            throw new Error('src must be a string or an object describing ' +\n                            'the source');\n        }\n\n        this.path = path;\n\n        if(eagerCompile) {\n            lib.withPrettyErrors(this.path,\n                                 this.env.dev,\n                                 this._compile.bind(this));\n        }\n        else {\n            this.compiled = false;\n        }\n    },\n\n    render: function(ctx, frame, cb) {\n        if (typeof ctx === 'function') {\n            cb = ctx;\n            ctx = {};\n        }\n        else if (typeof frame === 'function') {\n            cb = frame;\n            frame = null;\n        }\n\n        return lib.withPrettyErrors(this.path, this.env.dev, function() {\n\n            // Catch compile errors for async rendering\n            try {\n                this.compile();\n            } catch (e) {\n                if (cb) return cb(e);\n                else throw e;\n            }\n\n            var context = new Context(ctx || {}, this.blocks);\n            var syncResult = null;\n\n            this.rootRenderFunc(this.env,\n                                context,\n                                frame || new Frame(),\n                                runtime,\n                                cb || function(err, res) {\n                                    if(err) { throw err; }\n                                    syncResult = res;\n                                });\n\n            return syncResult;\n        }.bind(this));\n    },\n\n\n    getExported: function(ctx, frame, cb) {\n        if (typeof ctx === 'function') {\n            cb = ctx;\n            ctx = {};\n        }\n\n        if (typeof frame === 'function') {\n            cb = frame;\n            frame = null;\n        }\n\n        // Catch compile errors for async rendering\n        try {\n            this.compile();\n        } catch (e) {\n            if (cb) return cb(e);\n            else throw e;\n        }\n\n        // Run the rootRenderFunc to populate the context with exported vars\n        var context = new Context(ctx || {}, this.blocks);\n        this.rootRenderFunc(this.env,\n                            context,\n                            frame || new Frame(),\n                            runtime,\n                            function() {\n                                cb(null, context.getExported());\n                            });\n    },\n\n    compile: function() {\n        if(!this.compiled) {\n            this._compile();\n        }\n    },\n\n    _compile: function() {\n        var props;\n\n        if(this.tmplProps) {\n            props = this.tmplProps;\n        }\n        else {\n            var source = compiler.compile(this.tmplStr,\n                                          this.env.asyncFilters,\n                                          this.env.extensionsList,\n                                          this.path,\n                                          this.env.opts);\n\n            var func = new Function(source);\n            props = func();\n        }\n\n        this.blocks = this._getBlocks(props);\n        this.rootRenderFunc = props.root;\n        this.compiled = true;\n    },\n\n    _getBlocks: function(props) {\n        var blocks = {};\n\n        for(var k in props) {\n            if(k.slice(0, 2) === 'b_') {\n                blocks[k.slice(2)] = props[k];\n            }\n        }\n\n        return blocks;\n    }\n});\n\n// test code\n// var src = '{% macro foo() %}{% include \"include.html\" %}{% endmacro %}{{ foo() }}';\n// var env = new Environment(new builtin_loaders.FileSystemLoader('../tests/templates', true), { dev: true });\n// console.log(env.renderString(src, { name: 'poop' }));\n\nmodules['environment'] = {\n    Environment: Environment,\n    Template: Template\n};\n})();\nvar nunjucks;\n\nvar lib = modules[\"lib\"];\nvar env = modules[\"environment\"];\nvar compiler = modules[\"compiler\"];\nvar parser = modules[\"parser\"];\nvar lexer = modules[\"lexer\"];\nvar runtime = modules[\"runtime\"];\nvar Loader = modules[\"loader\"];\nvar loaders = modules[\"loaders\"];\nvar precompile = modules[\"precompile\"];\n\nnunjucks = {};\nnunjucks.Environment = env.Environment;\nnunjucks.Template = env.Template;\n\nnunjucks.Loader = Loader;\nnunjucks.FileSystemLoader = loaders.FileSystemLoader;\nnunjucks.WebLoader = loaders.WebLoader;\n\nnunjucks.compiler = compiler;\nnunjucks.parser = parser;\nnunjucks.lexer = lexer;\nnunjucks.runtime = runtime;\n\n// A single instance of an environment, since this is so commonly used\n\nvar e;\nnunjucks.configure = function(templatesPath, opts) {\n    opts = opts || {};\n    if(lib.isObject(templatesPath)) {\n        opts = templatesPath;\n        templatesPath = null;\n    }\n\n    var noWatch = 'watch' in opts ? !opts.watch : false;\n    var loader = loaders.FileSystemLoader || loaders.WebLoader;\n    e = new env.Environment(new loader(templatesPath, noWatch), opts);\n\n    if(opts && opts.express) {\n        e.express(opts.express);\n    }\n\n    return e;\n};\n\nnunjucks.compile = function(src, env, path, eagerCompile) {\n    if(!e) {\n        nunjucks.configure();\n    }\n    return new nunjucks.Template(src, env, path, eagerCompile);\n};\n\nnunjucks.render = function(name, ctx, cb) {\n    if(!e) {\n        nunjucks.configure();\n    }\n\n    return e.render(name, ctx, cb);\n};\n\nnunjucks.renderString = function(src, ctx, cb) {\n    if(!e) {\n        nunjucks.configure();\n    }\n\n    return e.renderString(src, ctx, cb);\n};\n\nif(precompile) {\n    nunjucks.precompile = precompile.precompile;\n    nunjucks.precompileString = precompile.precompileString;\n}\n\nnunjucks.require = function(name) { return modules[name]; };\n\nif(typeof define === 'function' && define.amd) {\n    define(function() { return nunjucks; });\n}\nelse {\n    window.nunjucks = nunjucks;\n    if(typeof module !== 'undefined') module.exports = nunjucks;\n}\n\n})();\n","/*!\n * tiny-cookie - A tiny cookie manipulation plugin\n * https://github.com/Alex1990/tiny-cookie\n * Under the MIT license | (c) Alex Chao\n */\n\n!(function(root, factory) {\n\n  // Uses CommonJS, AMD or browser global to create a jQuery plugin.\n  // See: https://github.com/umdjs/umd\n  if (typeof define === 'function' && define.amd) {\n    // Expose this plugin as an AMD module. Register an anonymous module.\n    define(factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS module\n    module.exports = factory();\n  } else {\n    // Browser globals \n    root.Cookie = factory();\n  }\n\n}(this, function(undefined) {\n\n  'use strict';\n\n  // The public function which can get/set/remove cookie.\n  function Cookie(key, value, opts) {\n    if (value === undefined) {\n      return Cookie.get(key);\n    } else if (value === null) {\n      Cookie.remove(key);\n    } else {\n      Cookie.set(key, value, opts);\n    }\n  }\n\n  // Check if the cookie is enabled.\n  Cookie.enabled = function() {\n    var key = '__test_key';\n    var enabled;\n\n    document.cookie = key + '=1';\n    enabled = !!document.cookie;\n\n    if (enabled) Cookie.remove(key);\n\n    return enabled;\n  };\n\n  // Get the cookie value by the key.\n  Cookie.get = function(key, raw) {\n    if (typeof key !== 'string' || !key) return null;\n\n    key = '(?:^|; )' + escapeRe(key) + '(?:=([^;]*?))?(?:;|$)';\n\n    var reKey = new RegExp(key);\n    var res = reKey.exec(document.cookie);\n\n    return res !== null ? (raw ? res[1] : decodeURIComponent(res[1])) : null;\n  };\n\n  // Get the cookie's value without decoding.\n  Cookie.getRaw = function(key) {\n    return Cookie.get(key, true);\n  };\n\n  // Set a cookie.\n  Cookie.set = function(key, value, raw, opts) {\n    if (raw !== true) {\n      opts = raw;\n      raw = false;\n    }\n    opts = opts ? convert(opts) : convert({});\n    var cookie = key + '=' + (raw ? value : encodeURIComponent(value)) + opts;\n    document.cookie = cookie;\n  };\n\n  // Set a cookie without encoding the value.\n  Cookie.setRaw = function(key, value, opts) {\n    Cookie.set(key, value, true, opts);\n  };\n\n  // Remove a cookie by the specified key.\n  Cookie.remove = function(key) {\n    Cookie.set(key, 'a', { expires: new Date() });\n  };\n\n  // Helper function\n  // ---------------\n\n  // Escape special characters.\n  function escapeRe(str) {\n    return str.replace(/[.*+?^$|[\\](){}\\\\-]/g, '\\\\$&');\n  }\n\n  // Convert an object to a cookie option string.\n  function convert(opts) {\n    var res = '';\n\n    for (var p in opts) {\n      if (opts.hasOwnProperty(p)) {\n\n        if (p === 'expires') {\n          var expires = opts[p];\n          if (typeof expires !== 'object') {\n            expires += typeof expires === 'number' ? 'D' : '';\n            expires = computeExpires(expires);\n          }\n          opts[p] = expires.toUTCString();\n        }\n\n        res += ';' + p + '=' + opts[p];\n      }\n    }\n\n    if (!opts.hasOwnProperty('path')) {\n      res += ';path=/';\n    }\n\n    return res;\n  }\n\n  // Return a future date by the given string.\n  function computeExpires(str) {\n    var expires = new Date();\n    var lastCh = str.charAt(str.length - 1);\n    var value = parseInt(str, 10);\n\n    switch (lastCh) {\n      case 'Y': expires.setFullYear(expires.getFullYear() + value); break;\n      case 'M': expires.setMonth(expires.getMonth() + value); break;\n      case 'D': expires.setDate(expires.getDate() + value); break;\n      case 'h': expires.setHours(expires.getHours() + value); break;\n      case 'm': expires.setMinutes(expires.getMinutes() + value); break;\n      case 's': expires.setSeconds(expires.getSeconds() + value); break;\n      default: expires = new Date(str);\n    }\n\n    return expires;\n  }\n\n  return Cookie;\n\n}));\n","var nunjucks = require( \"nunjucks\" );\nvar env = nunjucks.env || new nunjucks.Environment();\nvar obj = (function () {function root(env, context, frame, runtime, cb) {\nvar lineno = null;\nvar colno = null;\nvar output = \"\";\ntry {\nframe = frame.push();\nvar t_3 = runtime.contextOrFrameLookup(context, frame, \"rings\");\nif(t_3) {var t_2 = t_3.length;\nfor(var t_1=0; t_1 < t_3.length; t_1++) {\nvar t_4 = t_3[t_1];\nframe.set(\"ring\", t_4);\nframe.set(\"loop.index\", t_1 + 1);\nframe.set(\"loop.index0\", t_1);\nframe.set(\"loop.revindex\", t_2 - t_1);\nframe.set(\"loop.revindex0\", t_2 - t_1 - 1);\nframe.set(\"loop.first\", t_1 === 0);\nframe.set(\"loop.last\", t_1 === t_2 - 1);\nframe.set(\"loop.length\", t_2);\noutput += \"\\r\\n\\t<li>\\r\\n\\t\\t<button type=\\\"button\\\" class=\\\"btn \";\nif(!runtime.contextOrFrameLookup(context, frame, \"isJP\")) {\noutput += \"no-hover \";\n;\n}\noutput += \"rl-btn\\\" data-index=\\\"\";\noutput += runtime.suppressValue(runtime.memberLookup((t_4),\"index\", env.opts.autoescape), env.opts.autoescape);\noutput += \"\\\"\";\nif(runtime.contextOrFrameLookup(context, frame, \"isJP\") && runtime.memberLookup((t_4),\"open\", env.opts.autoescape) || !runtime.contextOrFrameLookup(context, frame, \"isJP\") && !runtime.memberLookup((t_4),\"open\", env.opts.autoescape)) {\noutput += \" disabled\";\n;\n}\noutput += \">\";\noutput += runtime.suppressValue(runtime.memberLookup((t_4),\"index\", env.opts.autoescape) + 1, env.opts.autoescape);\noutput += \"</button>\\r\\n\\t</li>\\r\\n\";\n;\n}\n}\nframe = frame.pop();\ncb(null, output);\n;\n} catch (e) {\n  cb(runtime.handleError(e, lineno, colno));\n}\n}\nreturn {\nroot: root\n};\n})();\nvar oldRoot = obj.root;\nobj.root = function( env, context, frame, runtime, cb ) {\n\tvar oldGetTemplate = env.getTemplate;\n\tenv.getTemplate = function( name, ec, parentName, cb ) {\n\t\tif( typeof ec === \"function\" ) {\n\t\t\tcb = ec;\n\t\t\tec = false;\n\t\t}\n\t\tvar _require = function(name) {\n\t\t\ttry {\n\t\t\t\treturn require(name);\n\t\t\t} catch (e) {\n\t\t\t\tif ( frame.get( \"_require\" ) ) return frame.get( \"_require\" )( name )\n\t\t\t}\n\t\t};\n\t\tvar tmpl = _require( name );\n\t\tframe.set( \"_require\", _require );\n\t\tif( ec ) tmpl.compile();\n\t\tcb( null, tmpl );\n\t};\toldRoot( env, context, frame, runtime, function( err, res ) {\n\t\tenv.getTemplate = oldGetTemplate;\n\t\tcb( err, res );\n\t} );\n};\nvar src = {\n\tobj: obj,\n\ttype: \"code\"\n};\nmodule.exports = new nunjucks.Template( src, env );\n"],"sourceRoot":"/source/"}