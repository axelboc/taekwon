!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";var r=t("fastclick").FastClick,i=t("../shared/io").IO,o=t("../shared/helpers"),s=t("../shared/login-view").LoginView,a=t("../shared/ring-list-view").RingListView,c=t("./waiting-view").WaitingView,u=t("./round-view").RoundView,l=new i("cornerJudge");r.attach(document.body);var f=null,h={loginView:new s(l),ringListView:new a(l),waitingView:new c(l),roundView:new u(l)};o.subscribeToEvents(l,"root",["showView"],{showView:function(t){f&&f.root.classList.add("hidden"),f=h[t.view],f.root.classList.remove("hidden")}})},{"../shared/helpers":5,"../shared/io":6,"../shared/login-view":7,"../shared/ring-list-view":8,"./round-view":2,"./waiting-view":3,fastclick:10}],2:[function(t,e,n){"use strict";function r(t){this.io=t,this.root=document.getElementById("round"),this.undoBtn=this.root.querySelector(".undo-btn"),this.undoBtn.addEventListener("click",this.onUndoBtn.bind(this));var e=this.root.querySelector(".score-btns--hong"),n=this.root.querySelector(".score-btns--chong");e.addEventListener("click",this.onScoreBtnsDeletage.bind(this,"hong")),n.addEventListener("click",this.onScoreBtnsDeletage.bind(this,"chong")),document.addEventListener("transitionend",this.onTransitionEnd.bind(this)),this.feedback=this.root.querySelector(".feedback"),this.fdb=document.createElement("div"),this.fdb.className="fdb",i.subscribeToEvents(t,"roundView",["enableUndoBtn","showFdb"],this),this.feedback.appendChild(this.fdb);var r=window.getComputedStyle(this.fdb).getPropertyValue("transform");this.has3d=r&&"none"!==r,this.has3d||this.feedback.classList.add("no3d")}var i=t("../shared/helpers");r.prototype.enableUndoBtn=function(t){i.enableBtn(this.undoBtn,t.enable)},r.prototype.showFdb=function(t){var e=this.fdb.cloneNode();e.classList.add.apply(e.classList,["fdb--"+t.score.competitor,t.isUndo?"fdb--undo":t.score.competitor+"-bg"]),e.textContent=t.score.points,this.feedback.appendChild(e),window.navigator.vibrate&&window.navigator.vibrate(100),setTimeout(function(){var t=window.innerHeight+e.offsetHeight;this.has3d?e.style.transform="translate3d(0, "+t+"px, 0)":e.style.top=t+"px"}.bind(this),0)},r.prototype.onScoreBtnsDeletage=function(t,e){var n=e.target;n&&"BUTTON"===n.nodeName&&(n.blur(),this.io.send("score",{competitor:t,points:parseInt(n.textContent,10)}))},r.prototype.onUndoBtn=function(){this.undoBtn.blur(),this.io.send("undo")},r.prototype.onTransitionEnd=function(t){var e=t.target;e.classList.contains("fdb")&&this.feedback.removeChild(e)},e.exports.RoundView=r},{"../shared/helpers":5}],3:[function(t,e,n){"use strict";function r(t){this.io=t,this.root=document.getElementById("waiting"),this.cancelBtn=this.root.querySelector(".wa-btn"),this.cancelBtn.addEventListener("click",this.io.sendFunc("cancelJoin"))}e.exports.WaitingView=r},{}],4:[function(t,e,n){"use strict";function r(){this.root=document.getElementById("backdrop"),this.text=this.root.querySelector(".bdp-text"),this.subtext=this.root.querySelector(".bdp-subtext")}r.prototype.update=function(t,e,n){this.text.textContent=t,this.subtext.textContent=e,this.root.classList.toggle("hidden",!n)},r.prototype.hide=function(){this.root.classList.add("hidden")},e.exports.Backdrop=r},{}],5:[function(t,e,n){"use strict";var r={subscribeToEvents:function(t,e,n,r){n.forEach(function(n){t.primus.on(e+"."+n,r[n].bind(r))})},shake:function(t){var e=function n(){t.classList.remove("shake"),t.removeEventListener("animationend",n)};t.addEventListener("animationend",e),t.classList.add("shake")},enableBtn:function(t,e){e?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")},numToTime:function(t){var e=t%60;return Math.floor(t/60)+":"+(10>e?"0":"")+e}};e.exports=r},{}],6:[function(t,e,n){"use strict";function r(t){return o.enabled()?(this.identity=t,this.backdrop=new a,this.id=o.get("id"),this.query="identity="+t+(this.id?"&id="+this.id:""),this.primus=new i("http://192.168.56.1",{reconnect:{max:5e3,retries:1e4,factor:1.2}}),this.primus.on("outgoing::url",function(t){t.query=this.query}.bind(this)),this.primus.on("error",this.wsError.bind(this)),this.primus.on("offline",this.wsOffline.bind(this)),void s.subscribeToEvents(this,"io",["saveId","setPageTitle","updateBackdrop","hideBackdrop","alert","error"],this)):void this.error({message:"Enable cookies and try again"})}var i=t("../vendor/primus"),o=t("tiny-cookie"),s=t("./helpers"),a=t("./backdrop").Backdrop;r.prototype.wsError=function(t){return console.warn("Web Socket error",t.code),1001!==t.code&&1006===t.code?void this.updateBackdrop({text:"Connection lost",subtext:"Attempting to reconnect...",visible:!0}):void 0},r.prototype.wsOffline=function(){console.warn("Offline!"),this.updateBackdrop({text:"Connection lost",subtext:"Check Wi-Fi settings or wait for signal to be restored",visible:!0})},r.prototype.saveId=function(t){this.id=t.id,this.query="identity="+this.identity+"&id="+this.id,o.set("id",t.id,{expires:"12h"})},r.prototype.setPageTitle=function(t){document.title=t.title},r.prototype.updateBackdrop=function(t){this.backdrop.update(t.text,t.subtext,t.visible)},r.prototype.hideBackdrop=function(){this.backdrop.hide()},r.prototype.alert=function(t){window.alert(t.reason)},r.prototype.error=function(t){var e=t.message||"Unexpected error";console.error("Error:",e),document.getElementById("backdrop").classList.add("hidden"),[].forEach.call(document.querySelectorAll(".view"),function(t){t.classList.add("hidden")});var n=document.getElementById("error");n.classList.remove("hidden"),n.querySelector(".err-instr").textContent=e,n.querySelector(".err-btn--retry").addEventListener("click",function(){window.location.reload()})},r.prototype.send=function(t,e){this.primus.emit(t,e)},r.prototype.sendFunc=function(t){return this.send.bind(this,t)},e.exports.IO=r},{"../vendor/primus":9,"./backdrop":4,"./helpers":5,"tiny-cookie":12}],7:[function(t,e,n){"use strict";function r(t){this.io=t,this.root=document.getElementById("login"),this.instr=this.root.querySelector(".login-instr"),this.field=this.root.querySelector(".login-field"),this.btn=this.root.querySelector(".login-btn"),this.btn.addEventListener("click",this.sendIdentification.bind(this)),this.root.querySelector(".login-form").addEventListener("submit",function(t){t.preventDefault()}),i.subscribeToEvents(t,"login",["setInstr","focusField","blurField","shakeResetField"],this)}var i=t("./helpers");r.prototype.sendIdentification=function(){this.io.send("identification",{identity:this.io.identity,value:this.field.value})},r.prototype.setInstr=function(t){this.instr.textContent=t.text},r.prototype.focusField=function(){setTimeout(function(){this.field.focus()}.bind(this),100)},r.prototype.blurField=function(){this.field.blur()},r.prototype.shakeResetField=function(){this.field.value="",this.field.focus(),i.shake(this.field)},e.exports.LoginView=r},{"./helpers":5}],8:[function(t,e,n){"use strict";function r(t){this.io=t,this.root=document.getElementById("ring-list"),this.instr=this.root.querySelector(".rl-instr"),this.defaultInstrTxt=this.instr.textContent,this.list=this.root.querySelector(".rl-list"),this.list.addEventListener("click",this.onListDelegate.bind(this)),i.subscribeToEvents(t,"ringListView",["setInstr","updateList"],this)}var i=t("./helpers"),o=t("../../templates/precompiled/ring-list.njk");r.prototype.setInstr=function(t){this.instr.textContent=t.text||this.defaultInstrTxt},r.prototype.updateList=function(t){this.list.innerHTML=o.render(t)},r.prototype.onListDelegate=function(t){var e=t.target;if(e&&"BUTTON"===e.nodeName){e.blur();var n=parseInt(e.dataset.index,10);this.io.send("selectRing",{index:n})}},e.exports.RingListView=r},{"../../templates/precompiled/ring-list.njk":13,"./helpers":5}],9:[function(t,e,n){(function(n){!function(t,n,r){n[t]=r.call(n),"undefined"!=typeof e&&e.exports?e.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})}("Primus",this,function(){var e,r=function i(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){var u="function"==typeof t&&t;if(!c&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,i,e,n,r)}return n[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";e.exports=function(t,e){function n(t,n){if(e[t]){if("string"==typeof e[t]&&(e[t]=e[t].split(r)),"function"==typeof e[t])return e[t].call(n);for(var i,o,s=0;s<e[t].length;s++)o=e[t][s],i=typeof o,"function"===i?o.call(n):"string"===i&&"function"==typeof n[o]&&n[o]()}}var r=/[, ]+/;return e=e||{},t=t||[],"string"==typeof t&&(t=t.split(r)),function(){var e,r=this,i=0;if(null===r[t[0]])return!1;for(n("before",r);i<t.length;i++)e=t[i],r[e]&&("function"==typeof r[e].destroy&&r[e].destroy(),r[e]=null);return r.emit&&r.emit("destroy"),n("after",r),!0}}},{}],2:[function(t,e,n){"use strict";e.exports=function(){for(var t,e=this,n=0,r=arguments.length,i=new Array(r);r>n;n++)i[n]=arguments[n];return"function"!=typeof i[i.length-1]?function(){for(var t=0,n=arguments.length,r=new Array(n);n>t;t++)r[t]=arguments[t];return e.emit.apply(e,i.concat(r))}:(t=i.pop(),function(){for(var n=0,r=arguments.length,o=new Array(r+1);r>n;n++)o[n+1]=arguments[n];return o[0]=function(t,n){return t?e.emit("error",t):(o=void 0===n?o.slice(1):null===n?[]:n,void e.emit.apply(e,i.concat(o)))},t.apply(e,o),!0})}},{}],3:[function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){}var o="function"!=typeof Object.create?"~":!1;i.prototype._events=void 0,i.prototype.listeners=function(t,e){var n=o?o+t:t,r=this._events&&this._events[n];if(e)return!!r;if(!r)return[];if(this._events[n].fn)return[this._events[n].fn];for(var i=0,s=this._events[n].length,a=new Array(s);s>i;i++)a[i]=this._events[n][i].fn;return a},i.prototype.emit=function(t,e,n,r,i,s){var a=o?o+t:t;if(!this._events||!this._events[a])return!1;var c,u,l=this._events[a],f=arguments.length;if("function"==typeof l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,s),!0}for(u=1,c=new Array(f-1);f>u;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,p=l.length;for(u=0;p>u;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;default:if(!c)for(h=1,c=new Array(f-1);f>h;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},i.prototype.on=function(t,e,n){var i=new r(e,n||this),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),s=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):this._events[s]=i,this},i.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events||!this._events[i])return this;var s=this._events[i],a=[];if(e)if(s.fn)(s.fn!==e||r&&!s.once||n&&s.context!==n)&&a.push(s);else for(var c=0,u=s.length;u>c;c++)(s[c].fn!==e||r&&!s[c].once||n&&s[c].context!==n)&&a.push(s[c]);return a.length?this._events[i]=1===a.length?a[0]:a:delete this._events[i],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=o,e.exports=i},{}],4:[function(t,e,n){"use strict";function r(t){for(var e,n=/([^=?&]+)=([^&]*)/g,r={};e=n.exec(t);r[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return r}function i(t,e){e=e||"";var n=[];"string"!=typeof e&&(e="?");for(var r in t)o.call(t,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?e+n.join("&"):""}var o=Object.prototype.hasOwnProperty;n.stringify=i,n.parse=r},{}],5:[function(t,e,n){"use strict";function r(t,e,n){return s(t in n?n[t]:t in e?e[t]:i[t])}function i(t){var e=this;return e instanceof i?(t=t||{},e.attempt=null,e._fn=null,e["reconnect timeout"]=r("reconnect timeout",e,t),e.retries=r("retries",e,t),e.factor=r("factor",e,t),e.max=r("max",e,t),e.min=r("min",e,t),void(e.timers=new c(e))):new i(t)}var o=t("eventemitter3"),s=t("millisecond"),a=t("demolish"),c=t("tick-tock"),u=t("one-time");i.prototype=new o,i.prototype.constructor=i,i["reconnect timeout"]="30 seconds",i.max=1/0,i.min="500 ms",i.retries=10,i.factor=2,i.prototype.reconnect=function(){var t=this;return t.backoff(function(e,n){return n.duration=+new Date-n.start,e?t.emit("reconnect failed",e,n):void t.emit("reconnected",n)},t.attempt)},i.prototype.backoff=function(t,e){var n=this;return e=e||n.attempt||{},e.backoff?n:(e["reconnect timeout"]=r("reconnect timeout",n,e),e.retries=r("retries",n,e),e.factor=r("factor",n,e),e.max=r("max",n,e),e.min=r("min",n,e),e.start=+e.start||+new Date,e.duration=+e.duration||0,e.attempt=+e.attempt||0,e.attempt===e.retries?(t.call(n,new Error("Unable to recover"),e),n):(e.backoff=!0,e.attempt++,n.attempt=e,e.scheduled=1!==e.attempt?Math.min(Math.round((Math.random()+1)*e.min*Math.pow(e.factor,e.attempt-1)),e.max):e.min,n.timers.setTimeout("reconnect",function(){e.duration=+new Date-e.start,e.backoff=!1,n.timers.clear("reconnect, timeout");var r=n._fn=u(function(r){return n.reset(),r?n.backoff(t,e):void t.call(n,void 0,e)});n.emit("reconnect",e,r),n.timers.setTimeout("timeout",function(){var t=new Error("Failed to reconnect in a timely manner");e.duration=+new Date-e.start,n.emit("reconnect timeout",t,e),r(t)},e["reconnect timeout"])},e.scheduled),n.emit("reconnect scheduled",e),n))},i.prototype.reconnecting=function(){return!!this.attempt},i.prototype.reconnected=function(t){return this._fn&&this._fn(t),this},i.prototype.reset=function(){return this._fn=this.attempt=null,this.timers.clear("reconnect, timeout"),this},i.prototype.destroy=a("timers attempt _fn"),e.exports=i},{demolish:1,eventemitter3:3,millisecond:6,"one-time":7,"tick-tock":8}],6:[function(t,e,n){e.exports=function(t){"use strict";if("string"!=typeof t||"0"===t||+t)return+t;var e,n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t),r=1e3,i=60*r,o=60*i,s=24*o;if(!n)return 0;switch(e=parseFloat(n[1]),n[2].toLowerCase()){case"days":case"day":case"d":return e*s;case"hours":case"hour":case"hrs":case"hr":case"h":return e*o;case"minutes":case"minute":case"mins":case"min":case"m":return e*i;case"seconds":case"second":case"secs":case"sec":case"s":return e*r;default:return e}}},{}],7:[function(t,e,n){"use strict";e.exports=function(t){function e(){return r?n:(r=1,n=t.apply(this,arguments),t=null,n)}var n,r=0;return e.displayName=t.displayName||t.name||e.displayName||e.name,e}},{}],8:[function(t,e,n){"use strict";function r(t,e,n){this.clear=e,this.timer=t,this.fns=[n]}function i(t){clearTimeout(t)}function o(t){clearInterval(t)}function s(t){clearImmediate(t)}function a(t){return this instanceof a?(this.timers={},void(this.context=t||this)):new a(t)}var c=Object.prototype.hasOwnProperty,u=t("millisecond");a.prototype.tock=function(t,e){var n=this;return function(){if(t in n.timers){var r=n.timers[t],i=r.fns.slice(),o=i.length,s=0;for(e&&n.clear(t);o>s;s++)i[s].call(n.context)}}},a.prototype.setTimeout=function(t,e,n){var o=this;return o.timers[t]?(o.timers[t].fns.push(e),o):(o.timers[t]=new r(setTimeout(o.tock(t,!0),u(n)),i,e),o)},a.prototype.setInterval=function(t,e,n){var i=this;return i.timers[t]?(i.timers[t].fns.push(e),i):(i.timers[t]=new r(setInterval(i.tock(t),u(n)),o,e),i)},a.prototype.setImmediate=function(t,e){var n=this;return"function"!=typeof setImmediate?n.setTimeout(t,e,0):n.timers[t]?(n.timers[t].fns.push(e),n):(n.timers[t]=new r(setImmediate(n.tock(t,!0)),s,e),n)},a.prototype.active=function(t){return t in this.timers},a.prototype.clear=function(){var t,e,n,r=arguments.length?arguments:[],i=this;if(1===r.length&&"string"==typeof r[0]&&(r=r[0].split(/[, ]+/)),!r.length)for(t in i.timers)c.call(i.timers,t)&&r.push(t);for(e=0,n=r.length;n>e;e++)t=i.timers[r[e]],t&&(t.clear(t.timer),t.fns=t.timer=t.clear=null,delete i.timers[r[e]]);return i},a.prototype.end=a.prototype.destroy=function(){return this.context?(this.clear(),this.context=this.timers=null,!0):!1},a.prototype.adjust=function(t,e){var n,r=this,i=r.timers[t];return i?(n=i.clear===o,i.clear(i.timer),i.timer=(n?setInterval:setTimeout)(r.tock(t,!n),u(e)),r):r},e.exports=a},{millisecond:9}],9:[function(t,e,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],10:[function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var u,l,f,h,p=a.test(t),d=typeof e,m=this,v=0;for("object"!==d&&"string"!==d&&(n=e,e=null),n&&"function"!=typeof n&&(n=s.parse),e=o(e);v<c.length;v++)l=c[v],u=l[0],h=l[1],u!==u?m[h]=t:"string"==typeof u?~(f=t.indexOf(u))&&("number"==typeof l[2]?(m[h]=t.slice(0,f),t=t.slice(f+l[2])):(m[h]=t.slice(f),t=t.slice(0,f))):(f=u.exec(t))&&(m[h]=f[1],t=t.slice(0,t.length-f[0].length)),m[h]=m[h]||(l[3]||"port"===h&&p?e[h]||"":""),l[4]&&(m[h]=m[h].toLowerCase());n&&(m.query=n(m.query)),i(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(l=m.auth.split(":"),m.username=l[0]||"",m.password=l[1]||""),m.href=m.toString()}var i=t("requires-port"),o=t("./lolcation"),s=t("querystringify"),a=/^\/(?!\/)/,c=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];r.prototype.set=function(t,e,n){var r=this;return"query"===t?("string"==typeof e&&(e=(n||s.parse)(e)),r[t]=e):"port"===t?(r[t]=e,i(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="")):"hostname"===t?(r[t]=e,r.port&&(e+=":"+r.port),r.host=e):"host"===t?(r[t]=e,/\:\d+/.test(e)&&(e=e.split(":"),r.hostname=e[0],r.port=e[1])):r[t]=e,r.href=r.toString(),r},r.prototype.toString=function(t){t&&"function"==typeof t||(t=s.stringify);var e,n=this,r=n.protocol+"//";return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.hostname,n.port&&(r+=":"+n.port),r+=n.pathname,n.query&&(e="object"==typeof n.query?t(n.query):n.query,r+=("?"===e.charAt(0)?"":"?")+e),n.hash&&(r+=n.hash),r},r.qs=s,r.location=o,e.exports=r},{"./lolcation":11,querystringify:4,"requires-port":12}],11:[function(t,e,r){(function(n){"use strict";var r,i={hash:1,query:1};e.exports=function(e){e=e||n.location||{},r=r||t("./");var o,s={},a=typeof e;if("blob:"===e.protocol)s=new r(unescape(e.pathname),{});else if("string"===a){s=new r(e,{});for(o in i)delete s[o]}else if("object"===a)for(o in e)o in i||(s[o]=e[o]);return s}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":10}],12:[function(t,e,n){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 22!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],13:[function(t,n,r){"use strict";function i(t,e){if(!(t instanceof o)){var n=new Error("Primus#"+e+"'s context should called with a Primus instance");if("function"!=typeof t.listeners||!t.listeners("error").length)throw n;t.emit("error",n)}}function o(t,e){if(!(this instanceof o))return new o(t,e);if("function"!=typeof this.client){var n="The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details";return this.critical(new Error(n))}"object"==typeof t?(e=t,t=e.url||e.uri||s):e=e||{};var r=this;e.queueSize="queueSize"in e?e.queueSize:1/0,e.timeout="timeout"in e?e.timeout:1e4,e.reconnect="reconnect"in e?e.reconnect:{},e.ping="ping"in e?e.ping:25e3,e.pong="pong"in e?e.pong:1e4,e.strategy="strategy"in e?e.strategy:[],e.transport="transport"in e?e.transport:{},r.buffer=[],r.writable=!0,r.readable=!0,r.url=r.parse(t||s),r.readyState=o.CLOSED,r.options=e,r.timers=new c(this),r.socket=null,r.latency=0,r.stamps=0,r.disconnect=!1,r.transport=e.transport,r.transformers={outgoing:[],incoming:[]},r.recovery=new u(e.reconnect),"string"==typeof e.strategy&&(e.strategy=e.strategy.split(/\s?\,\s?/g)),!1===e.strategy?e.strategy=[]:e.strategy.length||(e.strategy.push("disconnect","online"),this.authorization||e.strategy.push("timeout")),e.strategy=e.strategy.join(",").toLowerCase(),"websockets"in e&&(r.AVOID_WEBSOCKETS=!e.websockets),"network"in e&&(r.NETWORK_EVENTS=e.network),e.manual||r.timers.setTimeout("open",function(){r.timers.clear("open"),r.open()},0),r.initialise(e)}var s,a=t("eventemitter3"),c=t("tick-tock"),u=t("recovery"),l=t("querystringify"),f=t("demolish"),h=/\u2028/g,p=/\u2029/g;try{s=location.origin?location.origin:location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch(d){s="http://127.0.0.1"}o.require=function(n){return"function"!=typeof t?void 0:"function"==typeof e&&e.amd?void 0:t(n)};var m;try{o.Stream=m=o.require("stream"),o.require("util").inherits(o,m)}catch(d){o.Stream=a,o.prototype=new a}o.OPENING=1,o.CLOSED=2,o.OPEN=3,o.prototype.AVOID_WEBSOCKETS=!1,o.prototype.NETWORK_EVENTS=!1,o.prototype.online=!0;try{(o.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(o.prototype.online=!1))}catch(d){}if(o.prototype.ark={},o.prototype.emits=t("emits"),o.prototype.trigger=function(){for(var t=0,e=arguments.length,n=new Array(e);e>t;t++)n[t]=arguments[t];return"function"!=typeof n[e-1]&&n.push(function(t){setTimeout(t,0)}),this.emits.apply(this,n)},o.prototype.plugin=function(t){if(i(this,"plugin"),t)return this.ark[t];var e={};for(t in this.ark)e[t]=this.ark[t];return e},o.prototype.reserved=function(t){return/^(incoming|outgoing)::/.test(t)||t in this.reserved.events},o.prototype.reserved.events={"reconnect scheduled":1,"reconnect timeout":1,readyStateChange:1,"reconnect failed":1,reconnected:1,reconnect:1,offline:1,timeout:1,online:1,error:1,close:1,open:1,data:1,end:1},o.prototype.initialise=function(t){function e(){i.online&&(i.online=!1,i.emit("offline"),i.end(),i.recovery.reset())}function n(){i.online||(i.online=!0,i.emit("online"),~i.options.strategy.indexOf("online")&&i.recovery.reconnect())}var r,i=this;i.recovery.on("reconnected",i.emits("reconnected")).on("reconnect failed",i.emits("reconnect failed",function(t){return i.emit("end"),t})).on("reconnect timeout",i.emits("reconnect timeout")).on("reconnect scheduled",i.emits("reconnect scheduled")).on("reconnect",i.emits("reconnect",function(t){i.emit("outgoing::reconnect"),t()})),i.on("outgoing::open",function(){var t=i.readyState;i.readyState=o.OPENING,t!==i.readyState&&i.emit("readyStateChange","opening"),r=+new Date}),i.on("incoming::open",function(){var t=i.readyState;if(i.recovery.reconnecting()&&i.recovery.reconnected(),i.writable=!0,i.readable=!0,i.online||(i.online=!0,i.emit("online")),i.readyState=o.OPEN,t!==i.readyState&&i.emit("readyStateChange","open"),i.latency=+new Date-r,i.timers.clear("ping","pong"),i.heartbeat(),i.buffer.length){var e=i.buffer.slice(),n=e.length,s=0;for(i.buffer.length=0;n>s;s++)i._write(e[s])}i.emit("open")}),i.on("incoming::pong",function(t){i.online=!0,i.timers.clear("pong"),i.heartbeat(),i.latency=+new Date-t}),i.on("incoming::error",function(t){var e=i.timers.active("connect"),n=t;if("string"==typeof t)n=new Error(t);else if(!(t instanceof Error)&&"object"==typeof t){n=new Error(t.message||t.reason);for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return i.recovery.reconnecting()?i.recovery.reconnected(n):(i.listeners("error").length&&i.emit("error",n),void(e&&(~i.options.strategy.indexOf("timeout")?i.recovery.reconnect():i.end())))}),i.on("incoming::data",function(t){i.decoder(t,function(e,n){return e?i.listeners("error").length&&i.emit("error",e):void(i.protocol(n)||i.transforms(i,i,"incoming",n,t))})}),i.on("incoming::end",function(){var t=i.readyState;return i.disconnect?(i.disconnect=!1,i.end()):(i.readyState=o.CLOSED,t!==i.readyState&&i.emit("readyStateChange","end"),i.timers.active("connect")&&i.end(),t!==o.OPEN?i.recovery.reconnecting()?i.recovery.reconnect():!1:(this.writable=!1,this.readable=!1,this.timers.clear(),i.emit("close"),~i.options.strategy.indexOf("disconnect")?i.recovery.reconnect():(i.emit("outgoing::end"),void i.emit("end"))))}),i.client();for(var s in i.ark)i.ark[s].call(i,i,t);return i.NETWORK_EVENTS?(window.addEventListener?(window.addEventListener("offline",e,!1),window.addEventListener("online",n,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",e),document.body.attachEvent("ononline",n)),i):i},o.prototype.protocol=function(t){if("string"!=typeof t||0!==t.indexOf("primus::"))return!1;var e=t.indexOf(":",8),n=t.slice(e+2);switch(t.slice(8,e)){case"pong":this.emit("incoming::pong",+n);break;case"server":"close"===n&&(this.disconnect=!0);break;case"id":this.emit("incoming::id",n);break;default:return!1}return!0},o.prototype.transforms=function(t,e,n,r,i){var o={data:r},s=t.transformers[n];return function a(t,n){var r=s[t++];if(!r)return n();if(1===r.length){if(!1===r.call(e,o))return;return a(t,n)}r.call(e,o,function(r,i){return r?e.emit("error",r):void(!1!==i&&a(t,n))})}(0,function(){return"incoming"===n?e.emit("data",o.data,i):void e._write(o.data)}),this},o.prototype.id=function(t){return this.socket&&this.socket.id?t(this.socket.id):(this._write("primus::id::"),this.once("incoming::id",t))},o.prototype.open=function(){return i(this,"open"),!this.recovery.reconnecting()&&this.options.timeout&&this.timeout(),this.emit("outgoing::open"),this},o.prototype.write=function(t){return i(this,"write"),this.transforms(this,this,"outgoing",t),!0},o.prototype._write=function(t){var e=this;return o.OPEN!==e.readyState?(this.buffer.length===this.options.queueSize&&this.buffer.splice(0,1),this.buffer.push(t),!1):(e.encoder(t,function(t,n){return t?e.listeners("error").length&&e.emit("error",t):("string"==typeof n&&(~n.indexOf("\u2028")&&(n=n.replace(h,"\\u2028")),~n.indexOf("\u2029")&&(n=n.replace(p,"\\u2029"))),void e.emit("outgoing::data",n))}),!0)},o.prototype.heartbeat=function(){function t(){n.timers.clear("pong"),n.online&&(n.online=!1,n.emit("offline"),n.emit("incoming::end"))}function e(){var e=+new Date;n.timers.clear("ping"),n._write("primus::ping::"+e),n.emit("outgoing::ping",e),n.timers.setTimeout("pong",t,n.options.pong)}var n=this;return n.options.ping?(n.timers.setTimeout("ping",e,n.options.ping),this):n},o.prototype.timeout=function(){function t(){e.removeListener("error",t).removeListener("open",t).removeListener("end",t).timers.clear("connect")}var e=this;return e.timers.setTimeout("connect",function(){t(),e.readyState===o.OPEN||e.recovery.reconnecting()||(e.emit("timeout"),~e.options.strategy.indexOf("timeout")?e.recovery.reconnect():e.end())},e.options.timeout),e.on("error",t).on("open",t).on("end",t)},o.prototype.end=function(t){if(i(this,"end"),this.readyState===o.CLOSED&&!this.timers.active("connect")&&!this.timers.active("open"))return this.recovery.reconnecting()&&(this.recovery.reset(),this.emit("end")),this;void 0!==t&&this.write(t),this.writable=!1,this.readable=!1;var e=this.readyState;return this.readyState=o.CLOSED,e!==this.readyState&&this.emit("readyStateChange","end"),this.timers.clear(),this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},o.prototype.destroy=f("url timers options recovery socket transport transformers",{before:"end",after:"removeAllListeners"}),o.prototype.clone=function(t){return this.merge({},t)},o.prototype.merge=function(t){for(var e,n,r=Array.prototype.slice.call(arguments,1),i=0,o=r.length;o>i;i++){n=r[i];for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},o.prototype.parse=t("url-parse"),o.prototype.querystring=l.parse,o.prototype.querystringify=l.stringify,o.prototype.uri=function(t){var e=this.url,n=[],r=!1;t.query&&(r=!0),t=t||{},t.protocol="protocol"in t?t.protocol:"http:",t.query=e.query&&r?e.query.slice(1):!1,t.secure="secure"in t?t.secure:"https:"===e.protocol||"wss:"===e.protocol,t.auth="auth"in t?t.auth:e.auth,t.pathname="pathname"in t?t.pathname:this.pathname,t.port="port"in t?+t.port:+e.port||(t.secure?443:80),this.emit("outgoing::url",t);var i=this.querystring(t.query||"");return i._primuscb=+new Date+"-"+this.stamps++,t.query=this.querystringify(i),n.push(t.secure?t.protocol.replace(":","s:"):t.protocol,""),n.push(t.auth?t.auth+"@"+e.host:e.host),t.pathname&&n.push(t.pathname.slice(1)),r?n.push("?"+t.query):delete t.query,t.object?t:n.join("/")},o.prototype.transform=function(t,e){return i(this,"transform"),t in this.transformers?(this.transformers[t].push(e),this):this.critical(new Error("Invalid transformer type"))},o.prototype.critical=function(t){if(this.listeners("error").length)return this.emit("error",t),this;throw t},o.connect=function(t,e){return new o(t,e)},o.EventEmitter=a,o.prototype.client=function(){var t,e=this,n=function(){if("undefined"!=typeof SockJS)return SockJS;try{return o.require("sockjs-client")}catch(t){}return void 0}();return n?(e.on("outgoing::open",function(){e.emit("outgoing::end"),e.socket=t=new n(e.uri({protocol:"http:",query:!0}),null,e.merge(e.transport,{info:{websocket:!e.AVOID_WEBSOCKETS,cookie_needed:!0}})),t.onopen=e.trigger("incoming::open"),t.onerror=e.trigger("incoming::error"),t.onclose=function(t){setTimeout(function(){t&&t.code>1e3&&e.emit("incoming::error",t),e.emit("incoming::end")},0)},t.onmessage=e.trigger("incoming::data",function(t,e){setTimeout(function(){t(void 0,e.data)},0)})}),e.on("outgoing::data",function(e){t&&t.send(e)}),e.on("outgoing::reconnect",function(){e.emit("outgoing::open")}),void e.on("outgoing::end",function(){t&&(t.onerror=t.onopen=t.onclose=t.onmessage=function(){},t.close(),t=null)})):e.critical(new Error("Missing required `sockjs-client` module. Please run `npm install --save sockjs-client`"))},o.prototype.authorization=!1,o.prototype.pathname="/primus",o.prototype.encoder=function(t,e){var n;try{t=JSON.stringify(t)}catch(r){n=r}e(n,t)},o.prototype.decoder=function(t,e){var n;if("string"!=typeof t)return e(n,t);try{t=JSON.parse(t)}catch(r){n=r}e(n,t)},o.prototype.version="3.1.1","undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",function(t){27===t.keyCode&&t.preventDefault&&t.preventDefault()},!1);var v=(navigator.userAgent||"").toLowerCase(),y=v.match(/.+(?:rv|it|ra|ie)[\/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],g=+[y[1],y[2]].join(".");!~v.indexOf("chrome")&&~v.indexOf("safari")&&534.54>g&&(o.prototype.AVOID_WEBSOCKETS=!0)}n.exports=o},{demolish:1,emits:2,eventemitter3:3,querystringify:4,recovery:5,"tick-tock":8,"url-parse":10}]},{},[13])(13);return r.prototype.ark.emit=function(t){var e=Object.prototype.toString,n=t.emit;t.transform("incoming",function(r){var i=r.data;if("object"==typeof i&&~e.call(i.emit).indexOf(" Array]"))return this.reserved(i.emit[0])||n.apply(t,i.emit),!1}),t.emit=function(e){return t.reserved(e)||"newListener"===e||"removeListener"===e?n.apply(this,arguments):(t.write({
emit:Array.prototype.slice.call(arguments,0)}),!0)}},r}),function(e){!function(t){var e;"undefined"!=typeof window?e=window:"undefined"!=typeof self&&(e=self),e.SockJS=t()}(function(){var e;return function r(e,n,i){function o(a,c){if(!n[a]){if(!e[a]){var u="function"==typeof t&&t;if(!c&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,r,e,n,i)}return n[a].exports}for(var s="function"==typeof t&&t,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,r){(function(n){"use strict";var r=t("./transport-list");e.exports=t("./main")(r),"_sockjs_onload"in n&&setTimeout(n._sockjs_onload,1)}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e,n){"use strict";function r(){o.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var i=t("inherits"),o=t("./event");i(r,o),e.exports=r},{"./event":4,inherits:54}],3:[function(t,e,n){"use strict";function r(){o.call(this)}var i=t("inherits"),o=t("./eventtarget");i(r,o),r.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},r.prototype.once=function(t,e){function n(){r.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}var r=this,i=!1;this.on(t,n)},r.prototype.emit=function(t){var e=this._listeners[t];if(e)for(var n=Array.prototype.slice.call(arguments,1),r=0;r<e.length;r++)e[r].apply(this,n)},r.prototype.on=r.prototype.addListener=o.prototype.addEventListener,r.prototype.removeListener=o.prototype.removeEventListener,e.exports.EventEmitter=r},{"./eventtarget":5,inherits:54}],4:[function(t,e,n){"use strict";function r(t){this.type=t}r.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,e.exports=r},{}],5:[function(t,e,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},r.prototype.removeEventListener=function(t,e){var n=this._listeners[t];if(n){var r=n.indexOf(e);return-1!==r?void(n.length>1?this._listeners[t]=n.slice(0,r).concat(n.slice(r+1)):delete this._listeners[t]):void 0}},r.prototype.dispatchEvent=function(t){var e=t.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var r=this._listeners[e],i=0;i<r.length;i++)r[i].apply(this,n)},e.exports=r},{}],6:[function(t,e,n){"use strict";function r(t){o.call(this),this.initEvent("message",!1,!1),this.data=t}var i=t("inherits"),o=t("./event");i(r,o),e.exports=r},{"./event":4,inherits:54}],7:[function(t,e,n){"use strict";function r(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}var i=t("json3"),o=t("./utils/iframe");r.prototype._transportClose=function(t,e){o.postMessage("c",i.stringify([t,e]))},r.prototype._transportMessage=function(t){o.postMessage("t",t)},r.prototype._send=function(t){this._transport.send(t)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=r},{"./utils/iframe":47,json3:55}],8:[function(t,e,n){"use strict";var r=t("./utils/url"),i=t("./utils/event"),o=t("json3"),s=t("./facade"),a=t("./info-iframe-receiver"),c=t("./utils/iframe"),u=t("./location");e.exports=function(t,e){var n={};e.forEach(function(t){t.facadeTransport&&(n[t.facadeTransport.transportName]=t.facadeTransport)}),n[a.transportName]=a;var l;t.bootstrap_iframe=function(){var e;c.currentWindowId=u.hash.slice(1);var a=function(i){if(i.source===parent&&("undefined"==typeof l&&(l=i.origin),i.origin===l)){var a;try{a=o.parse(i.data)}catch(f){return}if(a.windowId===c.currentWindowId)switch(a.type){case"s":var h;try{h=o.parse(a.data)}catch(f){break}var p=h[0],d=h[1],m=h[2],v=h[3];if(p!==t.version)throw new Error('Incompatibile SockJS! Main site uses: "'+p+'", the iframe: "'+t.version+'".');if(!r.isOriginEqual(m,u.href)||!r.isOriginEqual(v,u.href))throw new Error("Can't connect to different domain from within an iframe. ("+u.href+", "+m+", "+v+")");e=new s(new n[d](m,v));break;case"m":e._send(a.data);break;case"c":e&&e._close(),e=null}}};i.attachEvent("message",a),c.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,json3:55}],9:[function(t,e,n){"use strict";function r(t,e){i.call(this);var n=this,r=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var i,o;if(200===t){if(o=+new Date-r,e)try{i=s.parse(e)}catch(c){}a.isObject(i)||(i={})}n.emit("finish",i,o),n.removeAllListeners()})}var i=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/object");o(r,i),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=r},{"./utils/object":49,events:3,inherits:54,json3:55}],10:[function(t,e,n){"use strict";function r(t,e){var n=this;o.call(this),this.ir=new c(e,a),this.ir.once("finish",function(t,e){n.ir=null,n.emit("message",s.stringify([t,e]))})}var i=t("inherits"),o=t("events").EventEmitter,s=t("json3"),a=t("./transport/sender/xhr-local"),c=t("./info-ajax");i(r,o),r.transportName="iframe-info-receiver",r.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=r},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54,json3:55}],11:[function(t,e,r){(function(n){"use strict";function r(t){var e=this;i.call(this);var r=function(){var n=e.ifr=new c(u.transportName,t,t);n.once("message",function(t){if(t){var n;try{n=s.parse(t)}catch(r){return e.emit("finish"),void e.close()}var i=n[0],o=n[1];e.emit("finish",i,o)}e.close()}),n.once("close",function(){e.emit("finish"),e.close()})};n.document.body?r():a.attachEvent("load",r)}var i=t("events").EventEmitter,o=t("inherits"),s=t("json3"),a=t("./utils/event"),c=t("./transport/iframe"),u=t("./info-iframe-receiver");o(r,i),r.enabled=function(){return c.enabled()},r.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,events:3,inherits:54,json3:55}],12:[function(t,e,n){"use strict";function r(t,e){var n=this;i.call(this),setTimeout(function(){n.doXhr(t,e)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("./utils/url"),a=t("./transport/sender/xdr"),c=t("./transport/sender/xhr-cors"),u=t("./transport/sender/xhr-local"),l=t("./transport/sender/xhr-fake"),f=t("./info-iframe"),h=t("./info-ajax");o(r,i),r._getReceiver=function(t,e){return e.sameOrigin?new h(t,u):c.enabled?new h(t,c):a.enabled&&e.sameScheme?new h(t,a):f.enabled()?new f(t):new h(t,l)},r.prototype.doXhr=function(t,e){var n=this,i=s.addPath(t,"/info");this.xo=r._getReceiver(i,e),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},r.timeout),this.xo.once("finish",function(t,e){n._cleanup(!0),n.emit("finish",t,e)})},r.prototype._cleanup=function(t){clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},r.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},r.timeout=8e3,e.exports=r},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,events:3,inherits:54}],13:[function(t,e,r){(function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,r){(function(n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");g.call(this),this.readyState=r.CONNECTING,this.extensions="",this.protocol="",n=n||{},n.protocols_whitelist&&v.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._server=n.server||u.numberString(1e3);var i=new s(t);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==i.protocol&&"https:"!==i.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var o="https:"===i.protocol;if("https"===w.protocol&&!o)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var a=e.sort();a.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<a.length-1&&t===a[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});var c=f.getOrigin(w.href);this._origin=c?c.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:f.isOriginEqual(this.url,w.href),sameScheme:f.isSchemeEqual(this.url,w.href)},this._ir=new E(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function i(t){return 1e3===t||t>=3e3&&4999>=t}t("./shims");var o,s=t("url-parse"),a=t("inherits"),c=t("json3"),u=t("./utils/random"),l=t("./utils/escape"),f=t("./utils/url"),h=t("./utils/event"),p=t("./utils/transport"),d=t("./utils/object"),m=t("./utils/browser"),v=t("./utils/log"),y=t("./event/event"),g=t("./event/eventtarget"),w=t("./location"),b=t("./event/close"),x=t("./event/trans-message"),E=t("./info-receiver");a(r,g),r.prototype.close=function(t,e){if(t&&!i(t))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==r.CLOSING&&this.readyState!==r.CLOSED){var n=!0;this._close(t||1e3,e||"Normal closure",n)}},r.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===r.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===r.OPEN&&this._transport.send(l.quote(t))},r.version=t("./version"),r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,r.prototype._receiveInfo=function(t,e){if(this._ir=null,!t)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(e),this._transUrl=t.base_url?t.base_url:this.url,t=d.extend(t,this._urlInfo);var n=o.filterToEnabled(this._transportsWhitelist,t);this._transports=n.main,this._connect()},r.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(t.needBody&&(!n.document.body||"undefined"!=typeof n.document.readyState&&"complete"!==n.document.readyState&&"interactive"!==n.document.readyState))return this._transports.unshift(t),void h.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e);var r=f.addPath(this._transUrl,"/"+this._server+"/"+u.string(8)),i=new t(r,this._transUrl);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=t.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},r.prototype._transportTimeout=function(){this.readyState===r.CONNECTING&&this._transportClose(2007,"Transport timed out")},r.prototype._transportMessage=function(t){var e,n=this,r=t.slice(0,1),i=t.slice(1);switch(r){case"o":return void this._open();case"h":return void this.dispatchEvent(new y("heartbeat"))}if(i)try{e=c.parse(i)}catch(o){}if("undefined"!=typeof e)switch(r){case"a":Array.isArray(e)&&e.forEach(function(t){n.dispatchEvent(new x(t))});break;case"m":this.dispatchEvent(new x(e));break;case"c":Array.isArray(e)&&2===e.length&&this._close(e[0],e[1],!0)}},r.prototype._transportClose=function(t,e){return this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),i(t)||2e3===t||this.readyState!==r.CONNECTING?void this._close(t,e):void this._connect()},r.prototype._open=function(){this.readyState===r.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=r.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new y("open"))):this._close(1006,"Server lost session")},r.prototype._close=function(t,e,n){var i=!1;if(this._ir&&(i=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===r.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=r.CLOSING,setTimeout(function(){this.readyState=r.CLOSED,i&&this.dispatchEvent(new y("error"));var o=new b("close");o.wasClean=n||!1,o.code=t||1e3,o.reason=e,this.dispatchEvent(o),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},r.prototype.countRTO=function(t){return t>100?4*t:300+t},e.exports=function(e){return o=p(e),t("./iframe-bootstrap")(r,e),r}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,inherits:54,json3:55,"url-parse":56}],15:[function(t,e,n){"use strict";function r(t){var e=+t;return e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function i(t){return t>>>0}function o(){}var s,a=Array.prototype,c=Object.prototype,u=Function.prototype,l=String.prototype,f=a.slice,h=c.toString,p=function(t){return"[object Function]"===c.toString.call(t)},d=function(t){return"[object Array]"===h.call(t)},m=function(t){return"[object String]"===h.call(t)},v=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();s=v?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var y=function(t,e,n){for(var r in e)c.hasOwnProperty.call(e,r)&&s(t,r,e[r],n)},g=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)};y(u,{bind:function(t){var e=this;if(!p(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=f.call(arguments,1),r=function(){if(this instanceof c){var r=e.apply(this,n.concat(f.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(f.call(arguments)))},i=Math.max(0,e.length-n.length),s=[],a=0;i>a;a++)s.push("$"+a);var c=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(r);return e.prototype&&(o.prototype=e.prototype,c.prototype=new o,o.prototype=null),c}}),y(Array,{isArray:d});var w=Object("a"),b="a"!==w[0]||!(0 in w),x=function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){n="string"==typeof this},"x")),!!t&&e&&n};y(a,{forEach:function(t){var e=g(this),n=b&&m(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!p(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},!x(a.forEach));var E=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);y(a,{indexOf:function(t){var e=b&&m(this)?this.split(""):g(this),n=e.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=r(arguments[1])),i=i>=0?i:Math.max(0,n+i);n>i;i++)if(i in e&&e[i]===t)return i;return-1}},E);var k=l.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];l.split=function(e,n){var r=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==h.call(e))return k.call(this,e,n);var o,s,c,u,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),p=0;for(e=new RegExp(e.source,f+"g"),r+="",t||(o=new RegExp("^"+e.source+"$(?!\\s)",f)),n=void 0===n?-1>>>0:i(n);(s=e.exec(r))&&(c=s.index+s[0].length,!(c>p&&(l.push(r.slice(p,s.index)),!t&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<r.length&&a.push.apply(l,s.slice(1)),u=s[0].length,p=c,l.length>=n)));)e.lastIndex===s.index&&e.lastIndex++;return p===r.length?(u||!e.test(""))&&l.push(""):l.push(r.slice(p)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(l.split=function(t,e){return void 0===t&&0===e?[]:k.call(this,t,e)});var S="	\n\f\r   ᠎             　\u2028\u2029\ufeff",_="​",T="["+S+"]",O=new RegExp("^"+T+T+"*"),C=new RegExp(T+T+"*$"),j=l.trim&&(S.trim()||!_.trim());y(l,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(O,"").replace(C,"")}},j);var L=l.substr,A="".substr&&"b"!=="0b".substr(-1);y(l,{substr:function(t,e){return L.call(this,0>t&&(t=this.length+t)<0?0:t,e)}},A)},{}],16:[function(t,e,n){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(t,e,r){(function(n){"use strict";function r(t,e,n,r){var o=this;i.call(this),setTimeout(function(){o._start(t,e,n,r)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/url"),c=n.XMLHttpRequest;o(r,i),r.prototype._start=function(t,e,n,i){var o=this;try{this.xhr=new c}catch(u){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();e=a.addQuery(e,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){o._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o.emit("finish",0,""),o._cleanup(!1)})}catch(l){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!r.supportsCORS||(this.xhr.withCredentials="true"),i&&i.headers)for(var f in i.headers)this.xhr.setRequestHeader(f,i.headers[f]);this.xhr.onreadystatechange=function(){if(o.xhr){var t,e,n=o.xhr;switch(n.readyState){case 3:try{e=n.status,t=n.responseText}catch(r){}1223===e&&(e=204),200===e&&t&&t.length>0&&o.emit("chunk",e,t);break;case 4:e=n.status,1223===e&&(e=204),(12005===e||12029===e)&&(e=0),o.emit("finish",e,n.responseText),o._cleanup(!1)}}};try{o.xhr.send(n)}catch(l){o.emit("finish",0,""),o._cleanup(!1)}},r.prototype._cleanup=function(t){if(this.xhr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!!c;var u=["Active"].concat("Object").join("X");!r.enabled&&u in n&&(c=function(){try{return new n[u]("Microsoft.XMLHTTP")}catch(t){return null}},r.enabled=!!new c);var l=!1;try{l="withCredentials"in new c}catch(f){}r.supportsCORS=l,e.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,events:3,inherits:54}],18:[function(t,e,r){(function(t){e.exports=t.EventSource}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,r){(function(t){e.exports=t.WebSocket||t.MozWebSocket}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/eventsource",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/eventsource"),a=t("./sender/xhr-cors"),c=t("eventsource");i(r,o),r.enabled=function(){return!!c},r.transportName="eventsource",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(t,e,n){"use strict";function r(t){if(!o.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",o,s)}var i=t("inherits"),o=t("./receiver/htmlfile"),s=t("./sender/xhr-local"),a=t("./lib/ajax-based");i(r,a),r.enabled=function(t){return o.enabled&&t.sameOrigin},r.transportName="htmlfile",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(t,e,n){"use strict";function r(t,e,n){if(!r.enabled())throw new Error("Transport created when disabled");s.call(this);var i=this;this.origin=c.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=f.string(8);var o=c.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=u.createIframe(o,function(t){i.emit("close",1006,"Unable to load an iframe ("+t+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}var i=t("inherits"),o=t("json3"),s=t("events").EventEmitter,a=t("../version"),c=t("../utils/url"),u=t("../utils/iframe"),l=t("../utils/event"),f=t("../utils/random");i(r,s),r.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},r.prototype._message=function(t){if(c.isOriginEqual(t.origin,this.origin)){var e;try{e=o.parse(t.data)}catch(n){return}if(e.windowId===this.windowId)switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",o.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var r;try{r=o.parse(e.data)}catch(n){return}this.emit("close",r[0],r[1]),this.close()}}},r.prototype.postMessage=function(t,e){this.iframeObj.post(o.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},r.prototype.send=function(t){this.postMessage("m",t)},r.enabled=function(){return u.iframeEnabled},r.transportName="iframe",r.roundTrips=2,e.exports=r},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,events:3,inherits:54,json3:55}],23:[function(t,e,r){(function(n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");o.call(this,t,"/jsonp",a,s)}var i=t("inherits"),o=t("./lib/sender-receiver"),s=t("./receiver/jsonp"),a=t("./sender/jsonp");i(r,o),r.enabled=function(){return!!n.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,e.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(t,e,n){"use strict";function r(t){return function(e,n,r){var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var o=s.addPath(e,"/xhr_send"),a=new t("POST",o,n,i);return a.once("finish",function(t){return a=null,200!==t&&204!==t?r(new Error("http status "+t)):void r()}),function(){a.close(),a=null;var t=new Error("Aborted");t.code=1e3,r(t)}}}function i(t,e,n,i){a.call(this,t,e,r(i),n,i)}var o=t("inherits"),s=t("../../utils/url"),a=t("./sender-receiver");o(i,a),e.exports=i},{"../../utils/url":52,"./sender-receiver":28,inherits:54}],25:[function(t,e,n){"use strict";function r(t,e){o.call(this),this.sendBuffer=[],this.sender=e,this.url=t}var i=t("inherits"),o=t("events").EventEmitter;i(r,o),r.prototype.send=function(t){this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){var t,e=this;this.sendStop=function(){e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){e.sendStop=null,e.sendSchedule()},25)},r.prototype.sendSchedule=function(){var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t._cleanup()):t.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.stop=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=r},{events:3,inherits:54}],26:[function(t,e,r){(function(n){"use strict";var r=t("inherits"),i=t("../iframe"),o=t("../../utils/object");e.exports=function(t){function e(e,n){i.call(this,t.transportName,e,n)}return r(e,i),e.enabled=function(e,r){if(!n.document)return!1;var s=o.extend({},r);return s.sameOrigin=!0,t.enabled(s)&&i.enabled()},e.transportName="iframe-"+t.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+t.roundTrips-1,e.facadeTransport=t,e}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(t,e,n){"use strict";function r(t,e,n){o.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}var i=t("inherits"),o=t("events").EventEmitter;i(r,o),r.prototype._scheduleReceiver=function(){var t=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(e){t.emit("message",e)}),e.once("close",function(n,r){t.poll=e=null,t.pollIsClosing||("network"===r?t._scheduleReceiver():(t.emit("close",n||1006,r),t.removeAllListeners()))})},r.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=r},{events:3,inherits:54}],28:[function(t,e,n){"use strict";function r(t,e,n,r,i){var c=o.addPath(t,e),u=this;s.call(this,t,n),this.poll=new a(r,c,i),this.poll.on("message",function(t){u.emit("message",t)}),this.poll.once("close",function(t,e){u.poll=null,u.emit("close",t,e),u.close()})}var i=t("inherits"),o=t("../../utils/url"),s=t("./buffered-sender"),a=t("./polling");i(r,s),r.prototype.close=function(){this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},e.exports=r},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,inherits:54}],29:[function(t,e,n){"use strict";function r(t){o.call(this);var e=this,n=this.es=new s(t);n.onmessage=function(t){e.emit("message",decodeURI(t.data))},n.onerror=function(t){var r=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(r)}}var i=t("inherits"),o=t("events").EventEmitter,s=t("eventsource");i(r,o),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},r.prototype._close=function(t){var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},e.exports=r},{events:3,eventsource:18,inherits:54}],30:[function(t,e,r){(function(n){"use strict";function r(t){a.call(this);var e=this;o.polluteGlobalNamespace(),this.id="a"+c.string(6),t=s.addQuery(t,"c="+decodeURIComponent(o.WPrefix+"."+this.id));var i=r.htmlfileEnabled?o.createHtmlfile:o.createIframe;n[o.WPrefix][this.id]={start:function(){e.iframeObj.loaded()},message:function(t){e.emit("message",t)},stop:function(){e._cleanup(),e._close("network")}},this.iframeObj=i(t,function(){e._cleanup(),e._close("permanent")})}var i=t("inherits"),o=t("../../utils/iframe"),s=t("../../utils/url"),a=t("events").EventEmitter,c=t("../../utils/random");i(r,a),r.prototype.abort=function(){this._cleanup(),this._close("user")},r.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete n[o.WPrefix][this.id]},r.prototype._close=function(t){this.emit("close",null,t),this.removeAllListeners()},r.htmlfileEnabled=!1;var u=["Active"].concat("Object").join("X");if(u in n)try{r.htmlfileEnabled=!!new n[u]("htmlfile")}catch(l){}r.enabled=r.htmlfileEnabled||o.iframeEnabled,e.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,events:3,inherits:54}],31:[function(t,e,r){(function(n){"use strict";function r(t){var e=this;u.call(this),i.polluteGlobalNamespace(),this.id="a"+o.string(6);var s=a.addQuery(t,"c="+encodeURIComponent(i.WPrefix+"."+this.id));n[i.WPrefix][this.id]=this._callback.bind(this),this._createScript(s),this.timeoutId=setTimeout(function(){e._abort(new Error("JSONP script loaded abnormally (timeout)"))},r.timeout)}var i=t("../../utils/iframe"),o=t("../../utils/random"),s=t("../../utils/browser"),a=t("../../utils/url"),c=t("inherits"),u=t("events").EventEmitter;c(r,u),r.prototype.abort=function(){if(n[i.WPrefix][this.id]){var t=new Error("JSONP user aborted read");t.code=1e3,this._abort(t)}},r.timeout=35e3,r.scriptErrorTimeout=1e3,r.prototype._callback=function(t){this._cleanup(),this.aborting||(t&&this.emit("message",t),this.emit("close",null,"network"),this.removeAllListeners())},r.prototype._abort=function(t){this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},r.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var t=this.script;t.parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null}delete n[i.WPrefix][this.id]},r.prototype._scriptError=function(){var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},r.scriptErrorTimeout))},r.prototype._createScript=function(t){var e,r=this,i=this.script=n.document.createElement("script");if(i.id="a"+o.string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){r._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){r.loadedOkay=!0;try{i.onclick()}catch(t){}}i&&r._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&n.document.attachEvent)if(s.isOpera())e=this.script2=n.document.createElement("script"),e.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=e.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(a){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0);var c=n.document.getElementsByTagName("head")[0];c.insertBefore(i,c.firstChild),e&&c.insertBefore(e,c.firstChild)},e.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,events:3,inherits:54}],32:[function(t,e,n){"use strict";function r(t,e){o.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),
this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){n._chunkHandler(t,e),n.xo=null;var r=200===t?"network":"permanent";n.emit("close",null,r),n._cleanup()})}var i=t("inherits"),o=t("events").EventEmitter;i(r,o),r.prototype._chunkHandler=function(t,e){if(200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var r=e.slice(this.bufferPosition);if(n=r.indexOf("\n"),-1===n)break;var i=r.slice(0,n);i&&this.emit("message",i)}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=r},{events:3,inherits:54}],33:[function(t,e,r){(function(n){"use strict";function r(t){try{return n.document.createElement('<iframe name="'+t+'">')}catch(e){var r=n.document.createElement("iframe");return r.name=t,r}}function i(){o=n.document.createElement("form"),o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",s=n.document.createElement("textarea"),s.name="d",o.appendChild(s),n.document.body.appendChild(o)}var o,s,a=t("../../utils/random"),c=t("../../utils/url");e.exports=function(t,e,n){o||i();var u="a"+a.string(8);o.target=u,o.action=c.addQuery(c.addPath(t,"/jsonp_send"),"i="+u);var l=r(u);l.id=u,l.style.display="none",o.appendChild(l);try{s.value=e}catch(f){}o.submit();var h=function(t){l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout(function(){l.parentNode.removeChild(l),l=null},500),s.value="",n(t))};return l.onerror=function(){h()},l.onload=function(){h()},l.onreadystatechange=function(t){"complete"===l.readyState&&h()},function(){h(new Error("Aborted"))}}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52}],34:[function(t,e,r){(function(n){"use strict";function r(t,e,n){var r=this;i.call(this),setTimeout(function(){r._start(t,e,n)},0)}var i=t("events").EventEmitter,o=t("inherits"),s=t("../../utils/event"),a=t("../../utils/browser"),c=t("../../utils/url");o(r,i),r.prototype._start=function(t,e,r){var i=this,o=new n.XDomainRequest;e=c.addQuery(e,"t="+ +new Date),o.onerror=function(){i._error()},o.ontimeout=function(){i._error()},o.onprogress=function(){i.emit("chunk",200,o.responseText)},o.onload=function(){i.emit("finish",200,o.responseText),i._cleanup(!1)},this.xdr=o,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(r)}catch(a){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},r.prototype._cleanup=function(t){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},r.prototype.close=function(){this._cleanup(!0)},r.enabled=!(!n.XDomainRequest||!a.hasDomain()),e.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,events:3,inherits:54}],35:[function(t,e,n){"use strict";function r(t,e,n,r){o.call(this,t,e,n,r)}var i=t("inherits"),o=t("../driver/xhr");i(r,o),r.enabled=o.enabled&&o.supportsCORS,e.exports=r},{"../driver/xhr":17,inherits:54}],36:[function(t,e,n){"use strict";function r(){var t=this;i.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},r.timeout)}var i=t("events").EventEmitter,o=t("inherits");o(r,i),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,e.exports=r},{events:3,inherits:54}],37:[function(t,e,n){"use strict";function r(t,e,n){o.call(this,t,e,n,{noCredentials:!0})}var i=t("inherits"),o=t("../driver/xhr");i(r,o),r.enabled=o.enabled,e.exports=r},{"../driver/xhr":17,inherits:54}],38:[function(t,e,n){"use strict";function r(t){if(!r.enabled())throw new Error("Transport created when disabled");a.call(this);var e=this,n=o.addPath(t,"/websocket");n="https"===n.slice(0,5)?"wss"+n.slice(5):"ws"+n.slice(4),this.url=n,this.ws=new c(this.url),this.ws.onmessage=function(t){e.emit("message",t.data)},this.unloadRef=i.unloadAdd(function(){e.ws.close()}),this.ws.onclose=function(t){e.emit("close",t.code,t.reason),e._cleanup()},this.ws.onerror=function(t){e.emit("close",1006,"WebSocket connection broken"),e._cleanup()}}var i=t("../utils/event"),o=t("../utils/url"),s=t("inherits"),a=t("events").EventEmitter,c=t("./driver/websocket");s(r,a),r.prototype.send=function(t){var e="["+t+"]";this.ws.send(e)},r.prototype.close=function(){this.ws&&this.ws.close(),this._cleanup()},r.prototype._cleanup=function(){var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),i.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},r.enabled=function(){return!!c},r.transportName="websocket",r.roundTrips=2,e.exports=r},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,events:3,inherits:54}],39:[function(t,e,n){"use strict";function r(t){if(!c.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",a,c)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./xdr-streaming"),a=t("./receiver/xhr"),c=t("./sender/xdr");i(r,o),r.enabled=s.enabled,r.transportName="xdr-polling",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(t,e,n){"use strict";function r(t){if(!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xdr");i(r,o),r.enabled=function(t){return t.cookie_needed||t.nullOrigin?!1:a.enabled&&t.sameScheme},r.transportName="xdr-streaming",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(t,e,n){"use strict";function r(t){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),c=t("./sender/xhr-local");i(r,o),r.enabled=function(t){return t.nullOrigin?!1:c.enabled&&t.sameOrigin?!0:a.enabled},r.transportName="xhr-polling",r.roundTrips=2,e.exports=r},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(t,e,r){(function(n){"use strict";function r(t){if(!c.enabled&&!a.enabled)throw new Error("Transport created when disabled");o.call(this,t,"/xhr_streaming",s,a)}var i=t("inherits"),o=t("./lib/ajax-based"),s=t("./receiver/xhr"),a=t("./sender/xhr-cors"),c=t("./sender/xhr-local"),u=t("../utils/browser");i(r,o),r.enabled=function(t){return t.nullOrigin?!1:u.isOpera()?!1:a.enabled},r.transportName="xhr-streaming",r.roundTrips=2,r.needBody=!!n.document,e.exports=r}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(t,e,r){(function(t){"use strict";t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var n=new Uint8Array(e);return t.crypto.getRandomValues(n),n}:e.exports.randomBytes=function(t){for(var e=new Array(t),n=0;t>n;n++)e[n]=Math.floor(256*Math.random());return e}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,r){(function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){"use strict";var r,i=t("json3"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s=function(t){var e,n={},r=[];for(e=0;65536>e;e++)r.push(String.fromCharCode(e));return t.lastIndex=0,r.join("").replace(t,function(t){return n[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,n};e.exports={quote:function(t){var e=i.stringify(t);return o.lastIndex=0,o.test(e)?(r||(r=s(o)),e.replace(o,function(t){return r[t]})):e}}},{json3:55}],46:[function(t,e,r){(function(n){"use strict";var r=t("./random"),i={},o=!1;e.exports={attachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){"undefined"!=typeof n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){var e=r.string(8);return i[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in i&&delete i[t]},triggerUnloadCallbacks:function(){for(var t in i)i[t](),delete i[t]}};var s=function(){o||(o=!0,e.exports.triggerUnloadCallbacks())};e.exports.attachEvent("unload",s)}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,e,r){(function(n){"use strict";var r=t("./event"),i=t("json3"),o=t("./browser");e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in n||(n[e.exports.WPrefix]={})},postMessage:function(t,r){n.parent!==n&&n.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")},createIframe:function(t,e){var i,o,s=n.document.createElement("iframe"),a=function(){clearTimeout(i);try{s.onload=null}catch(t){}s.onerror=null},c=function(){s&&(a(),setTimeout(function(){s&&s.parentNode.removeChild(s),s=null},0),r.unloadDel(o))},u=function(t){s&&(c(),e(t))},l=function(t,e){try{s&&s.contentWindow&&setTimeout(function(){s.contentWindow.postMessage(t,e)},0)}catch(n){}};return s.src=t,s.style.display="none",s.style.position="absolute",s.onerror=function(){u("onerror")},s.onload=function(){clearTimeout(i),i=setTimeout(function(){u("onload timeout")},2e3)},n.document.body.appendChild(s),i=setTimeout(function(){u("timeout")},15e3),o=r.unloadAdd(c),{post:l,cleanup:c,loaded:a}},createHtmlfile:function(t,i){var o,s,a,c=["Active"].concat("Object").join("X"),u=new n[c]("htmlfile"),l=function(){clearTimeout(o),a.onerror=null},f=function(){u&&(l(),r.unloadDel(s),a.parentNode.removeChild(a),a=u=null,CollectGarbage())},h=function(t){u&&(f(),i(t))},p=function(t,e){try{a&&a.contentWindow&&setTimeout(function(){a.contentWindow.postMessage(t,e)},0)}catch(n){}};u.open(),u.write('<html><script>document.domain="'+n.document.domain+'";</script></html>'),u.close(),u.parentWindow[e.exports.WPrefix]=n[e.exports.WPrefix];var d=u.createElement("div");return u.body.appendChild(d),a=u.createElement("iframe"),d.appendChild(a),a.src=t,a.onerror=function(){h("onerror")},o=setTimeout(function(){h("timeout")},15e3),s=r.unloadAdd(f),{post:p,cleanup:f,loaded:l}}},e.exports.iframeEnabled=!1,n.document&&(e.exports.iframeEnabled=("function"==typeof n.postMessage||"object"==typeof n.postMessage)&&!o.isKonqueror())}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,json3:55}],48:[function(t,e,r){(function(t){"use strict";var n={};["log","debug","warn"].forEach(function(e){var r=t.console&&t.console[e]&&t.console[e].apply;n[e]=r?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:n.log}),e.exports=n}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,r=1,i=arguments.length;i>r;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}}},{}],50:[function(t,e,n){"use strict";var r=t("crypto"),i="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=i.length,n=r.randomBytes(t),o=[],s=0;t>s;s++)o.push(i.substr(n[s]%e,1));return o.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length,n=new Array(e+1).join("0");return(n+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(t,e,n){"use strict";e.exports=function(t){return{filterToEnabled:function(e,n){var r={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){t&&("websocket"!==t.transportName||n.websocket!==!1)&&(e.length&&-1===e.indexOf(t.transportName)||t.enabled(n)&&(r.main.push(t),t.facadeTransport&&r.facade.push(t.facadeTransport)))}),r}}}},{}],52:[function(t,e,n){"use strict";var r=t("url-parse");e.exports={getOrigin:function(t){if(!t)return null;var e=new r(t);if("file:"===e.protocol)return null;var n=e.port;return n||(n="https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+n},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){var n=t.split("?");return n[0]+e+(n[1]?"?"+n[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}},{"url-parse":56}],53:[function(t,e,n){e.exports="1.0.0"},{}],54:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],55:[function(t,r,i){(function(t){(function(){function n(t,e){function r(t){if(r[t]!==v)return r[t];var n;if("bug-string-char-index"==t)n="a"!="a"[0];else if("json"==t)n=r("json-stringify")&&r("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var c=e.stringify,l="function"==typeof c&&w;if(l){(s=function(){return 1}).toJSON=s;try{l="0"===c(0)&&"0"===c(new i)&&'""'==c(new o)&&c(g)===v&&c(v)===v&&c()===v&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([v])&&"null"==c(null)&&"[null,null,null]"==c([v,g,null])&&c({a:[s,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(f){l=!1}}n=l}if("json-parse"==t){var h=e.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){s=h(a);var p=5==s.a.length&&1===s.a[0];if(p){try{p=!h('"	"')}catch(f){}if(p)try{p=1!==h("01")}catch(f){}if(p)try{p=1!==h("1.")}catch(f){}}}}catch(f){p=!1}n=p}}return r[t]=!!n}t||(t=c.Object()),e||(e=c.Object());var i=t.Number||c.Number,o=t.String||c.String,a=t.Object||c.Object,u=t.Date||c.Date,l=t.SyntaxError||c.SyntaxError,f=t.TypeError||c.TypeError,h=t.Math||c.Math,p=t.JSON||c.JSON;"object"==typeof p&&p&&(e.stringify=p.stringify,e.parse=p.parse);var d,m,v,y=a.prototype,g=y.toString,w=new u(-0xc782b5b800cec);try{w=-109252==w.getUTCFullYear()&&0===w.getUTCMonth()&&1===w.getUTCDate()&&10==w.getUTCHours()&&37==w.getUTCMinutes()&&6==w.getUTCSeconds()&&708==w.getUTCMilliseconds()}catch(b){}if(!r("json")){var x="[object Function]",E="[object Date]",k="[object Number]",S="[object String]",_="[object Array]",T="[object Boolean]",O=r("bug-string-char-index");if(!w)var C=h.floor,j=[0,31,59,90,120,151,181,212,243,273,304,334],L=function(t,e){return j[e]+365*(t-1970)+C((t-1969+(e=+(e>1)))/4)-C((t-1901+e)/100)+C((t-1601+e)/400)};if((d=y.hasOwnProperty)||(d=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?d=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,d=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,d.call(this,t)}),m=function(t,e){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)d.call(r,i)&&o++;return n=r=null,o?m=2==o?function(t,e){var n,r={},i=g.call(t)==x;for(n in t)i&&"prototype"==n||d.call(r,n)||!(r[n]=1)||!d.call(t,n)||e(n)}:function(t,e){var n,r,i=g.call(t)==x;for(n in t)i&&"prototype"==n||!d.call(t,n)||(r="constructor"===n)||e(n);(r||d.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(t,e){var n,i,o=g.call(t)==x,a=!o&&"function"!=typeof t.constructor&&s[typeof t.hasOwnProperty]&&t.hasOwnProperty||d;for(n in t)o&&"prototype"==n||!a.call(t,n)||e(n);for(i=r.length;n=r[--i];a.call(t,n)&&e(n));}),m(t,e)},!r("json-stringify")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},N="000000",I=function(t,e){return(N+(e||0)).slice(-t)},q="\\u00",P=function(t){for(var e='"',n=0,r=t.length,i=!O||r>10,o=i&&(O?t.split(""):t);r>n;n++){var s=t.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=A[s];break;default:if(32>s){e+=q+I(2,s.toString(16));break}e+=i?o[n]:t.charAt(n)}}return e+'"'},M=function(t,e,n,r,i,o,s){var a,c,u,l,h,p,y,w,b,x,O,j,A,N,q,U;try{a=e[t]}catch(R){}if("object"==typeof a&&a)if(c=g.call(a),c!=E||d.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=k&&c!=S&&c!=_||d.call(a,"toJSON"))&&(a=a.toJSON(t));else if(a>-1/0&&1/0>a){if(L){for(h=C(a/864e5),u=C(h/365.2425)+1970-1;L(u+1,0)<=h;u++);for(l=C((h-L(u,0))/30.42);L(u,l+1)<=h;l++);h=1+h-L(u,l),p=(a%864e5+864e5)%864e5,y=C(p/36e5)%24,w=C(p/6e4)%60,b=C(p/1e3)%60,x=p%1e3}else u=a.getUTCFullYear(),l=a.getUTCMonth(),h=a.getUTCDate(),y=a.getUTCHours(),w=a.getUTCMinutes(),b=a.getUTCSeconds(),x=a.getUTCMilliseconds();a=(0>=u||u>=1e4?(0>u?"-":"+")+I(6,0>u?-u:u):I(4,u))+"-"+I(2,l+1)+"-"+I(2,h)+"T"+I(2,y)+":"+I(2,w)+":"+I(2,b)+"."+I(3,x)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if(c=g.call(a),c==T)return""+a;if(c==k)return a>-1/0&&1/0>a?""+a:"null";if(c==S)return P(""+a);if("object"==typeof a){for(N=s.length;N--;)if(s[N]===a)throw f();if(s.push(a),O=[],q=o,o+=i,c==_){for(A=0,N=a.length;N>A;A++)j=M(A,a,n,r,i,o,s),O.push(j===v?"null":j);U=O.length?i?"[\n"+o+O.join(",\n"+o)+"\n"+q+"]":"["+O.join(",")+"]":"[]"}else m(r||a,function(t){var e=M(t,a,n,r,i,o,s);e!==v&&O.push(P(t)+":"+(i?" ":"")+e)}),U=O.length?i?"{\n"+o+O.join(",\n"+o)+"\n"+q+"}":"{"+O.join(",")+"}":"{}";return s.pop(),U}};e.stringify=function(t,e,n){var r,i,o,a;if(s[typeof e]&&e)if((a=g.call(e))==x)i=e;else if(a==_){o={};for(var c,u=0,l=e.length;l>u;c=e[u++],a=g.call(c),(a==S||a==k)&&(o[c]=1));}if(n)if((a=g.call(n))==k){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==S&&(r=n.length<=10?n:n.slice(0,10));return M("",(c={},c[""]=t,c),i,o,r,"",[])}}if(!r("json-parse")){var U,R,D=o.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},B=function(){throw U=R=null,l()},W=function(){for(var t,e,n,r,i,o=R,s=o.length;s>U;)switch(i=o.charCodeAt(U)){case 9:case 10:case 13:case 32:U++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=O?o.charAt(U):o[U],U++,t;case 34:for(t="@",U++;s>U;)if(i=o.charCodeAt(U),32>i)B();else if(92==i)switch(i=o.charCodeAt(++U)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=F[i],U++;break;case 117:for(e=++U,n=U+4;n>U;U++)i=o.charCodeAt(U),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||B();t+=D("0x"+o.slice(e,U));break;default:B()}else{if(34==i)break;for(i=o.charCodeAt(U),e=U;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++U);t+=o.slice(e,U)}if(34==o.charCodeAt(U))return U++,t;B();default:if(e=U,45==i&&(r=!0,i=o.charCodeAt(++U)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(U+1),i>=48&&57>=i)&&B(),r=!1;s>U&&(i=o.charCodeAt(U),i>=48&&57>=i);U++);if(46==o.charCodeAt(U)){for(n=++U;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==U&&B(),U=n}if(i=o.charCodeAt(U),101==i||69==i){for(i=o.charCodeAt(++U),(43==i||45==i)&&U++,n=U;s>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==U&&B(),U=n}return+o.slice(e,U)}if(r&&B(),"true"==o.slice(U,U+4))return U+=4,!0;if("false"==o.slice(U,U+5))return U+=5,!1;if("null"==o.slice(U,U+4))return U+=4,null;B()}return"$"},V=function(t){var e,n;if("$"==t&&B(),"string"==typeof t){if("@"==(O?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=W(),"]"!=t;n||(n=!0))n&&(","==t?(t=W(),"]"==t&&B()):B()),","==t&&B(),e.push(V(t));return e}if("{"==t){for(e={};t=W(),"}"!=t;n||(n=!0))n&&(","==t?(t=W(),"}"==t&&B()):B()),(","==t||"string"!=typeof t||"@"!=(O?t.charAt(0):t[0])||":"!=W())&&B(),e[t.slice(1)]=V(W());return e}B()}return t},J=function(t,e,n){var r=H(t,e,n);r===v?delete t[e]:t[e]=r},H=function(t,e,n){var r,i=t[e];if("object"==typeof i&&i)if(g.call(i)==_)for(r=i.length;r--;)J(i,r,n);else m(i,function(t){J(i,t,n)});return n.call(t,e,i)};e.parse=function(t,e){var n,r;return U=0,R=""+t,n=V(W()),"$"!=W()&&B(),U=R=null,e&&g.call(e)==x?H((r={},r[""]=n,r),"",e):n}}}return e.runInContext=n,e}var o="function"==typeof e&&e.amd,s={"function":!0,object:!0},a=s[typeof i]&&i&&!i.nodeType&&i,c=s[typeof window]&&window||this,u=a&&s[typeof r]&&r&&!r.nodeType&&"object"==typeof t&&t;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!o)n(c,a);else{var l=c.JSON,f=c.JSON3,h=!1,p=n(c,c.JSON3={noConflict:function(){return h||(h=!0,c.JSON=l,c.JSON3=f,l=f=null),p}});c.JSON={parse:p.parse,stringify:p.stringify}}o&&e(function(){return p})}).call(this)}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var u,l,f,h,p=a.test(t),d=typeof e,m=this,v=0;for("object"!==d&&"string"!==d&&(n=e,e=null),n&&"function"!=typeof n&&(n=s.parse),e=o(e);v<c.length;v++)l=c[v],u=l[0],h=l[1],u!==u?m[h]=t:"string"==typeof u?~(f=t.indexOf(u))&&("number"==typeof l[2]?(m[h]=t.slice(0,f),t=t.slice(f+l[2])):(m[h]=t.slice(f),t=t.slice(0,f))):(f=u.exec(t))&&(m[h]=f[1],t=t.slice(0,t.length-f[0].length)),m[h]=m[h]||(l[3]||"port"===h&&p?e[h]||"":""),l[4]&&(m[h]=m[h].toLowerCase());n&&(m.query=n(m.query)),i(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(l=m.auth.split(":"),m.username=l[0]||"",m.password=l[1]||""),m.href=m.toString()}var i=t("requires-port"),o=t("./lolcation"),s=t("querystringify"),a=/^\/(?!\/)/,c=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];r.prototype.set=function(t,e,n){var r=this;return"query"===t?("string"==typeof e&&(e=(n||s.parse)(e)),r[t]=e):"port"===t?(r[t]=e,i(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="")):"hostname"===t?(r[t]=e,r.port&&(e+=":"+r.port),r.host=e):"host"===t?(r[t]=e,/\:\d+/.test(e)&&(e=e.split(":"),r.hostname=e[0],r.port=e[1])):r[t]=e,r.href=r.toString(),r},r.prototype.toString=function(t){t&&"function"==typeof t||(t=s.stringify);var e,n=this,r=n.protocol+"//";return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.hostname,n.port&&(r+=":"+n.port),r+=n.pathname,n.query&&(e="object"==typeof n.query?t(n.query):n.query,r+=("?"===e.charAt(0)?"":"?")+e),n.hash&&(r+=n.hash),r},r.qs=s,r.location=o,e.exports=r},{"./lolcation":57,querystringify:58,"requires-port":59}],57:[function(t,e,r){(function(n){"use strict";var r,i={hash:1,query:1};e.exports=function(e){e=e||n.location||{},r=r||t("./");var o,s={},a=typeof e;if("blob:"===e.protocol)s=new r(unescape(e.pathname),{});else if("string"===a){s=new r(e,{});for(o in i)delete s[o]}else if("object"===a)for(o in e)o in i||(s[o]=e[o]);return s}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":56}],58:[function(t,e,n){"use strict";function r(t){for(var e,n=/([^=?&]+)=([^&]*)/g,r={};e=n.exec(t);r[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return r}function i(t,e){e=e||"";var n=[];"string"!=typeof e&&(e="?");for(var r in t)o.call(t,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return n.length?e+n.join("&"):""}var o=Object.prototype.hasOwnProperty;n.stringify=i,n.parse=r},{}],59:[function(t,e,n){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 22!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}]},{},[1])(1)})}(this.Primus)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e,n){!function(){"use strict";function t(e,n){function i(t,e){return function(){return t.apply(e,arguments)}}var o;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=e,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,c=0,u=s.length;u>c;c++)a[s[c]]=i(a[s[c]],a);r&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!n,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return r&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,n,a,c,u,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(u=t.changedTouches[0],l=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=l.tagName.toLowerCase(),"label"===a){if(e=this.findControl(l)){if(this.focus(l),r)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),i&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return i&&!o&&(c=l.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;r&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),
t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,n,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!r)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof e&&e.exports?(e.exports=t.attach,e.exports.FastClick=t):window.FastClick=t}()},{}],11:[function(t,e,n){!function(){var t={};!function(){"use strict";function e(t,n,r){var i=function(){};i.prototype=t.prototype;var o=new i,s=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;r=r||{};for(var a in r){var c=r[a],u=o[a];"function"==typeof u&&"function"==typeof c&&s.test(c)?o[a]=function(t,e){return function(){var n=this.parent;this.parent=e;var r=t.apply(this,arguments);return this.parent=n,r}}(c,u):o[a]=c}o.typename=n;var l=function(){o.init&&o.init.apply(this,arguments)};return l.prototype=o,l.prototype.constructor=l,l.extend=function(t,n){return"object"==typeof t&&(n=t,t="anonymous"),e(l,t,n)},l}t.object=e(Object,"Object",{})}(),function(){"use strict";var e=Array.prototype,n=Object.prototype,r={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},i=/[&"'<>]/g,o=function(t){return r[t]},s=t.lib={};s.withPrettyErrors=function(t,e,n){try{return n()}catch(r){if(r.Update||(r=new s.TemplateError(r)),r.Update(t),!e){var i=r;r=new Error(i.message),r.name=i.name}throw r}},s.TemplateError=function(t,e,n){var r=this;return t instanceof Error?(r=t,t=t.name+": "+t.message):Error.captureStackTrace&&Error.captureStackTrace(r),r.name="Template render error",r.message=t,r.lineno=e,r.colno=n,r.firstUpdate=!0,r.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},r},s.TemplateError.prototype=Error.prototype,s.escape=function(t){return t.replace(i,o)},s.isFunction=function(t){return"[object Function]"===n.toString.call(t)},s.isArray=Array.isArray||function(t){return"[object Array]"===n.toString.call(t)},s.isString=function(t){return"[object String]"===n.toString.call(t)},s.isObject=function(t){return"[object Object]"===n.toString.call(t)},s.groupBy=function(t,e){for(var n={},r=s.isFunction(e)?e:function(t){return t[e]},i=0;i<t.length;i++){var o=t[i],a=r(o,i);(n[a]||(n[a]=[])).push(o)}return n},s.toArray=function(t){return Array.prototype.slice.call(t)},s.without=function(t){var e=[];if(!t)return e;for(var n=-1,r=t.length,i=s.toArray(arguments).slice(1);++n<r;)-1===s.indexOf(i,t[n])&&e.push(t[n]);return e},s.extend=function(t,e){for(var n in e)t[n]=e[n];return t},s.repeat=function(t,e){for(var n="",r=0;e>r;r++)n+=t;return n},s.each=function(t,n,r){if(null!=t)if(e.each&&t.each===e.each)t.forEach(n,r);else if(t.length===+t.length)for(var i=0,o=t.length;o>i;i++)n.call(r,t[i],i,t)},s.map=function(t,n){var r=[];if(null==t)return r;if(e.map&&t.map===e.map)return t.map(n);for(var i=0;i<t.length;i++)r[r.length]=n(t[i],i);return t.length===+t.length&&(r.length=t.length),r},s.asyncIter=function(t,e,n){function r(){i++,i<t.length?e(t[i],i,r,n):n()}var i=-1;r()},s.asyncFor=function(t,e,n){function r(){a++;var s=i[a];o>a?e(s,t[s],a,o,r):n()}var i=s.keys(t),o=i.length,a=-1;r()},s.indexOf=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){var r=this.length>>>0;for(n=+n||0,Math.abs(n)===1/0&&(n=0),0>n&&(n+=r,0>n&&(n=0));r>n;n++)if(t[n]===e)return n;return-1},Array.prototype.map||(Array.prototype.map=function(){throw new Error("map is unimplemented for this js engine")}),s.keys=function(t){if(Object.prototype.keys)return t.keys();var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}}(),function(){"use strict";function e(t,e,n){return function(){var o,s=i(arguments),a=r(arguments);if(s>t.length){o=Array.prototype.slice.call(arguments,0,t.length);for(var c=Array.prototype.slice.call(arguments,o.length,s),u=0;u<c.length;u++)u<e.length&&(a[e[u]]=c[u]);o.push(a)}else if(s<t.length){o=Array.prototype.slice.call(arguments,0,s);for(var u=s;u<t.length;u++){var l=t[u];o.push(a[l]),delete a[l]}o.push(a)}else o=arguments;return n.apply(this,o)}}function n(t){return t.__keywords=!0,t}function r(t){var e=t.length;if(e){var n=t[e-1];if(n&&n.hasOwnProperty("__keywords"))return n}return{}}function i(t){var e=t.length;if(0===e)return 0;var n=t[e-1];return n&&n.hasOwnProperty("__keywords")?e-1:e}function o(t){return"string"!=typeof t?t:void(this.val=t)}function s(t,e){return t instanceof o?new o(e):e.toString()}function a(t){var e=typeof t;return"string"===e?new o(t):"function"!==e?t:function(){var e=t.apply(this,arguments);return"string"==typeof e?new o(e):e}}function c(t,e){return t=void 0!==t&&null!==t?t:"",e&&"string"==typeof t&&(t=m.escape(t)),t}function u(t,e){return t=t||{},"function"==typeof t[e]?function(){return t[e].apply(t,arguments)}:t[e]}function l(t,e,n){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!=typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(this,n)}function f(t,e,n){var r=e.lookup(n);return void 0!==r&&null!==r?r:t.lookup(n)}function h(t,e,n){return t.lineno?t:new m.TemplateError(t,e,n)}function p(t,e,n,r){if(m.isArray(t)){var i=t.length;m.asyncIter(t,function(t,r,o){switch(e){case 1:n(t,r,i,o);break;case 2:n(t[0],t[1],r,i,o);break;case 3:n(t[0],t[1],t[2],r,i,o);break;default:t.push(r,o),n.apply(this,t)}},r)}else m.asyncFor(t,function(t,e,r,i,o){n(t,e,r,i,o)},r)}function d(t,e,n,r){function i(t,e){a++,s[t]=e,a===o&&r(null,s.join(""))}var o,s,a=0;if(m.isArray(t))if(o=t.length,s=new Array(o),0===o)r(null,"");else for(var c=0;c<t.length;c++){var u=t[c];switch(e){case 1:n(u,c,o,i);break;case 2:n(u[0],u[1],c,o,i);break;case 3:n(u[0],u[1],u[2],c,o,i);break;default:u.push(c,i),n.apply(this,u)}}else{var l=m.keys(t);if(o=l.length,s=new Array(o),0===o)r(null,"");else for(var c=0;c<l.length;c++){var f=l[c];n(f,t[f],c,o,i)}}}var m=t.lib,v=t.object,y=v.extend({init:function(t){this.variables={},this.parent=t},set:function(t,e,n){var r=t.split("."),i=this.variables,o=this;if(n){if(o=this.resolve(r[0]))return void o.set(t,e);o=this}for(var s=0;s<r.length-1;s++){var a=r[s];i[a]||(i[a]={}),i=i[a]}i[r[r.length-1]]=e},get:function(t){var e=this.variables[t];return void 0!==e&&null!==e?e:null},lookup:function(t){var e=this.parent,n=this.variables[t];return void 0!==n&&null!==n?n:e&&e.lookup(t)},resolve:function(t){var e=this.parent,n=this.variables[t];return void 0!==n&&null!==n?this:e&&e.resolve(t)},push:function(){return new y(this)},pop:function(){return this.parent}});o.prototype=Object.create(String.prototype),o.prototype.valueOf=function(){return this.val},o.prototype.toString=function(){return this.val},t.runtime={Frame:y,makeMacro:e,makeKeywordArgs:n,numArgs:i,suppressValue:c,memberLookup:u,contextOrFrameLookup:f,callWrap:l,handleError:h,isArray:m.isArray,keys:m.keys,SafeString:o,copySafeness:s,markSafe:a,asyncEach:p,asyncAll:d}}(),function(){"use strict";var e=t.path,n=t.object,r=t.lib,i=n.extend({on:function(t,e){this.listeners=this.listeners||{},this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)},emit:function(t){var e=Array.prototype.slice.call(arguments,1);this.listeners&&this.listeners[t]&&r.each(this.listeners[t],function(t){t.apply(null,e)})},resolve:function(t,n){return e.resolve(e.dirname(t),n)},isRelative:function(t){return 0===t.indexOf("./")||0===t.indexOf("../")}});t.loader=i}(),function(){"use strict";var e=t.loader,n=e.extend({init:function(t,e){this.precompiled=window.nunjucksPrecompiled||{},this.baseURL=t||"",this.neverUpdate=e},getSource:function(t){if(this.precompiled[t])return{src:{type:"code",obj:this.precompiled[t]},path:t};var e=this.fetch(this.baseURL+"/"+t);return e?{src:e,path:t,noCache:!this.neverUpdate}:null},fetch:function(t,e){var n,r,i=!0;return window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLHTTP")),n.onreadystatechange=function(){4!==n.readyState||0!==n.status&&200!==n.status||!i||(i=!1,r=n.responseText)},t+=(-1===t.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",t,!1),n.send(),r}});t["web-loaders"]={WebLoader:n}}(),function(){"undefined"==typeof window||window!==this?t.loaders=t["node-loaders"]:t.loaders=t["web-loaders"]}(),function(){"use strict";var e=t.lib,n=t.runtime,r={abs:function(t){return Math.abs(t)},batch:function(t,e,n){for(var r=[],i=[],o=0;o<t.length;o++)o%e===0&&i.length&&(r.push(i),i=[]),i.push(t[o]);if(i.length){if(n)for(var o=i.length;e>o;o++)i.push(n);r.push(i)}return r},capitalize:function(t){var e=t.toLowerCase();return n.copySafeness(t,e.charAt(0).toUpperCase()+e.slice(1))},center:function(t,r){if(r=r||80,t.length>=r)return t;var i=r-t.length,o=e.repeat(" ",i/2-i%2),s=e.repeat(" ",i/2);return n.copySafeness(t,o+t+s)},"default":function(t,e){return t?t:e},dictsort:function(t,n,r){if(!e.isObject(t))throw new e.TemplateError("dictsort filter: val must be an object");var i=[];for(var o in t)i.push([o,t[o]]);var s;if(void 0===r||"key"===r)s=0;else{if("value"!==r)throw new e.TemplateError("dictsort filter: You can only sort by either key or value");s=1}return i.sort(function(t,r){var i=t[s],o=r[s];return n||(e.isString(i)&&(i=i.toUpperCase()),e.isString(o)&&(o=o.toUpperCase())),i>o?1:i===o?0:-1}),i},escape:function(t){return"string"==typeof t||t instanceof n.SafeString?e.escape(t):t},safe:function(t){return n.markSafe(t)},first:function(t){return t[0]},groupby:function(t,n){return e.groupBy(t,n)},indent:function(t,r,i){r=r||4;for(var o="",s=t.split("\n"),a=e.repeat(" ",r),c=0;c<s.length;c++)o+=0!==c||i?a+s[c]+"\n":s[c]+"\n";return n.copySafeness(t,o)},join:function(t,n,r){return n=n||"",r&&(t=e.map(t,function(t){return t[r]})),t.join(n)},last:function(t){return t[t.length-1]},length:function(t){return void 0!==t?t.length:0},list:function(t){if(e.isString(t))return t.split("");if(e.isObject(t)){var n=[];if(Object.keys)n=Object.keys(t);else for(var r in t)n.push(r);return e.map(n,function(e){return{key:e,value:t[e]}})}if(e.isArray(t))return t;throw new e.TemplateError("list filter: type not iterable")},lower:function(t){return t.toLowerCase()},random:function(t){return t[Math.floor(Math.random()*t.length)]},rejectattr:function(t,e){return t.filter(function(t){return!t[e]})},selectattr:function(t,e){return t.filter(function(t){return!!t[e]})},replace:function(t,e,r,i){if(e instanceof RegExp)return t.replace(e,r);var o=t,s=o,a=1;for(o=o.replace(e,r);s!==o&&!(a>=i);)s=o,o=o.replace(e,r),a++;return n.copySafeness(t,o)},reverse:function(t){var i;return i=e.isString(t)?r.list(t):e.map(t,function(t){return t}),i.reverse(),e.isString(t)?n.copySafeness(t,i.join("")):i},round:function(t,e,n){e=e||0;var r,i=Math.pow(10,e);return r="ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round,r(t*i)/i},slice:function(t,e,n){for(var r=Math.floor(t.length/e),i=t.length%e,o=0,s=[],a=0;e>a;a++){var c=o+a*r;i>a&&o++;var u=o+(a+1)*r,l=t.slice(c,u);n&&a>=i&&l.push(n),s.push(l)}return s},sort:function(t,n,r,i){return t=e.map(t,function(t){return t}),t.sort(function(t,o){var s,a;return i?(s=t[i],a=o[i]):(s=t,a=o),!r&&e.isString(s)&&e.isString(a)&&(s=s.toLowerCase(),a=a.toLowerCase()),a>s?n?1:-1:s>a?n?-1:1:0}),t},string:function(t){return n.copySafeness(t,t)},title:function(t){for(var e=t.split(" "),i=0;i<e.length;i++)e[i]=r.capitalize(e[i]);return n.copySafeness(t,e.join(" "))},trim:function(t){return n.copySafeness(t,t.replace(/^\s*|\s*$/g,""))},truncate:function(t,e,r,i){var o=t;if(e=e||255,t.length<=e)return t;if(r)t=t.substring(0,e);else{var s=t.lastIndexOf(" ",e);-1===s&&(s=e),t=t.substring(0,s)}return t+=void 0!==i&&null!==i?i:"...",n.copySafeness(o,t)},upper:function(t){return t.toUpperCase()},urlencode:function(t){var n=encodeURIComponent;if(e.isString(t))return n(t);var r;if(e.isArray(t))r=t.map(function(t){return n(t[0])+"="+n(t[1])});else{r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(n(i)+"="+n(t[i]))}return r.join("&")},urlize:function(t,e,n){isNaN(e)&&(e=1/0);var r=n===!0?' rel="nofollow"':"",i=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,o=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,s=/^https?:\/\/.*$/,a=/^www\./,c=/\.(?:org|net|com)(?:\:|\/|$)/,u=t.split(/\s+/).filter(function(t){return t&&t.length}).map(function(t){var n=t.match(i),u=n&&n[1]||t;return s.test(u)?'<a href="'+u+'"'+r+">"+u.substr(0,e)+"</a>":a.test(u)?'<a href="http://'+u+'"'+r+">"+u.substr(0,e)+"</a>":o.test(u)?'<a href="mailto:'+u+'">'+u+"</a>":c.test(u)?'<a href="http://'+u+'"'+r+">"+u.substr(0,e)+"</a>":t});return u.join(" ")},wordcount:function(t){var e=t?t.match(/\w+/g):null;return e?e.length:null},"float":function(t,e){var n=parseFloat(t);return isNaN(n)?e:n},"int":function(t,e){var n=parseInt(t,10);return isNaN(n)?e:n}};r.d=r["default"],r.e=r.escape,t.filters=r}(),function(){"use strict";function e(t){var e=-1;return{current:null,reset:function(){e=-1,this.current=null},next:function(){return e++,e>=t.length&&(e=0),this.current=t[e],this.current}}}function n(t){t=t||",";var e=!0;return function(){var n=e?"":t;return e=!1,n}}var r={range:function(t,e,n){e?n||(n=1):(e=t,t=0,n=1);for(var r=[],i=t;e>i;i+=n)r.push(i);return r},cycler:function(){return e(Array.prototype.slice.call(arguments))},joiner:function(t){return n(t)}};t.globals=r}(),function(){"use strict";var e=t.path,n=t.lib,r=t.object,i=(t.lexer,t.compiler),o=t.filters,s=t.loaders,a=t.runtime,c=t.globals,u=a.Frame,l=r.extend({init:function(t,e){var e=this.opts=e||{};this.opts.dev=!!e.dev,this.opts.autoescape=!!e.autoescape,this.opts.trimBlocks=!!e.trimBlocks,this.opts.lstripBlocks=!!e.lstripBlocks,t?this.loaders=n.isArray(t)?t:[t]:s.FileSystemLoader?this.loaders=[new s.FileSystemLoader("views")]:this.loaders=[new s.WebLoader("/views")],this.initCache(),this.filters={},this.asyncFilters=[],this.extensions={},this.extensionsList=[];for(var r in o)this.addFilter(r,o[r])},initCache:function(){n.each(this.loaders,function(t){t.cache={},"function"==typeof t.on&&t.on("update",function(e){t.cache[e]=null})})},addExtension:function(t,e){e._name=t,this.extensions[t]=e,this.extensionsList.push(e)},getExtension:function(t){return this.extensions[t]},addGlobal:function(t,e){c[t]=e},addFilter:function(t,e,n){var r=e;n&&this.asyncFilters.push(t),this.filters[t]=r},getFilter:function(t){if(!this.filters[t])throw new Error("filter not found: "+t);return this.filters[t]},resolveTemplate:function(t,e,n){var r=t.isRelative&&e?t.isRelative(n):!1;return r&&t.resolve?t.resolve(e,n):n},getTemplate:function(t,e,r,i){var o=this,s=null;if(t&&t.raw&&(t=t.raw),n.isFunction(r)&&(i=r,r=null,e=e||!1),n.isFunction(e)&&(i=e,e=!1),"string"!=typeof t)throw new Error("template names must be a string: "+t);for(var a=0;a<this.loaders.length;a++){var c=this.resolveTemplate(this.loaders[a],r,t);if(s=this.loaders[a].cache[c])break}if(!s){var u;return n.asyncIter(this.loaders,function(e,n,i,s){function a(t){t?(t.loader=e,s(t)):i()}t=o.resolveTemplate(e,r,t),e.async?e.getSource(t,function(t,e){if(t)throw t;a(e)}):a(e.getSource(t))},function(n){if(n){var r=new h(n.src,this,n.path,e);n.noCache||(n.loader.cache[t]=r),i?i(null,r):u=r}else{var o=new Error("template not found: "+t);if(!i)throw o;i(o)}}.bind(this)),u}return e&&s.compile(),i?void i(null,s):s},express:function(t){function n(t,n){if(this.name=t,this.path=t,this.defaultEngine=n.defaultEngine,this.ext=e.extname(t),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}var r=this;n.prototype.render=function(t,e){r.render(this.name,t,e)},t.set("view",n)},render:function(t,e,r){n.isFunction(e)&&(r=e,e=null);var i=null;return this.getTemplate(t,function(t,n){if(t&&r)r(t);else{if(t)throw t;n.render(e,r||function(t,e){if(t)throw t;i=e})}}),i},renderString:function(t,e,r,i){n.isFunction(r)&&(i=r,r={}),r=r||{};var o=new h(t,this,r.path);return o.render(e,i)}}),f=r.extend({init:function(t,e){this.ctx=t,this.blocks={},this.exported=[];for(var n in e)this.addBlock(n,e[n])},lookup:function(t){return t in c&&!(t in this.ctx)?c[t]:this.ctx[t]},setVariable:function(t,e){this.ctx[t]=e},getVariables:function(){return this.ctx},addBlock:function(t,e){this.blocks[t]=this.blocks[t]||[],this.blocks[t].push(e)},getBlock:function(t){if(!this.blocks[t])throw new Error('unknown block "'+t+'"');return this.blocks[t][0]},getSuper:function(t,e,r,i,o,s){var a=n.indexOf(this.blocks[e]||[],r),c=this.blocks[e][a+1],u=this;if(-1===a||!c)throw new Error('no super block available for "'+e+'"');c(t,u,i,o,s)},addExport:function(t){this.exported.push(t)},getExported:function(){for(var t={},e=0;e<this.exported.length;e++){var n=this.exported[e];t[n]=this.ctx[n]}return t}}),h=r.extend({init:function(t,e,r,i){if(this.env=e||new l,n.isObject(t))switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj}else{if(!n.isString(t))throw new Error("src must be a string or an object describing the source");this.tmplStr=t}this.path=r,i?n.withPrettyErrors(this.path,this.env.dev,this._compile.bind(this)):this.compiled=!1},render:function(t,e,r){return"function"==typeof t?(r=t,t={}):"function"==typeof e&&(r=e,e=null),n.withPrettyErrors(this.path,this.env.dev,function(){try{this.compile()}catch(n){if(r)return r(n);throw n}var i=new f(t||{},this.blocks),o=null;return this.rootRenderFunc(this.env,i,e||new u,a,r||function(t,e){if(t)throw t;o=e}),o}.bind(this))},getExported:function(t,e,n){"function"==typeof t&&(n=t,t={}),"function"==typeof e&&(n=e,e=null);try{this.compile()}catch(r){if(n)return n(r);throw r}var i=new f(t||{},this.blocks);this.rootRenderFunc(this.env,i,e||new u,a,function(){n(null,i.getExported())})},compile:function(){this.compiled||this._compile()},_compile:function(){var t;if(this.tmplProps)t=this.tmplProps;else{var e=i.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts),n=new Function(e);t=n()}this.blocks=this._getBlocks(t),this.rootRenderFunc=t.root,this.compiled=!0},_getBlocks:function(t){var e={};for(var n in t)"b_"===n.slice(0,2)&&(e[n.slice(2)]=t[n]);return e}});t.environment={Environment:l,Template:h}}();var n,r=t.lib,i=t.environment,o=t.compiler,s=t.parser,a=t.lexer,c=t.runtime,u=t.loader,l=t.loaders,f=t.precompile;n={},n.Environment=i.Environment,n.Template=i.Template,n.Loader=u,n.FileSystemLoader=l.FileSystemLoader,n.WebLoader=l.WebLoader,n.compiler=o,n.parser=s,n.lexer=a,n.runtime=c;var h;n.configure=function(t,e){e=e||{},r.isObject(t)&&(e=t,t=null);var n="watch"in e?!e.watch:!1,o=l.FileSystemLoader||l.WebLoader;return h=new i.Environment(new o(t,n),e),e&&e.express&&h.express(e.express),h},n.compile=function(t,e,r,i){return h||n.configure(),new n.Template(t,e,r,i)},n.render=function(t,e,r){return h||n.configure(),h.render(t,e,r)},n.renderString=function(t,e,r){return h||n.configure(),h.renderString(t,e,r)},f&&(n.precompile=f.precompile,n.precompileString=f.precompileString),n.require=function(e){return t[e]},"function"==typeof define&&define.amd?define(function(){return n}):(window.nunjucks=n,"undefined"!=typeof e&&(e.exports=n))}()},{}],12:[function(t,e,n){!function(t,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?e.exports=r():t.Cookie=r()}(this,function(t){"use strict";function e(n,r,i){return r===t?e.get(n):void(null===r?e.remove(n):e.set(n,r,i))}function n(t){return t.replace(/[.*+?^$|[\](){}\\-]/g,"\\$&")}function r(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){if("expires"===n){var r=t[n];"object"!=typeof r&&(r+="number"==typeof r?"D":"",r=i(r)),t[n]=r.toUTCString()}e+=";"+n+"="+t[n]}return t.hasOwnProperty("path")||(e+=";path=/"),e}function i(t){var e=new Date,n=t.charAt(t.length-1),r=parseInt(t,10);switch(n){case"Y":e.setFullYear(e.getFullYear()+r);break;case"M":e.setMonth(e.getMonth()+r);break;case"D":e.setDate(e.getDate()+r);break;case"h":e.setHours(e.getHours()+r);break;case"m":e.setMinutes(e.getMinutes()+r);break;case"s":e.setSeconds(e.getSeconds()+r);break;default:e=new Date(t)}return e}return e.enabled=function(){var t,n="__test_key";return document.cookie=n+"=1",t=!!document.cookie,t&&e.remove(n),t},e.get=function(t,e){if("string"!=typeof t||!t)return null;t="(?:^|; )"+n(t)+"(?:=([^;]*?))?(?:;|$)";var r=new RegExp(t),i=r.exec(document.cookie);return null!==i?e?i[1]:decodeURIComponent(i[1]):null},e.getRaw=function(t){return e.get(t,!0)},e.set=function(t,e,n,i){n!==!0&&(i=n,n=!1),i=r(i?i:{});var o=t+"="+(n?e:encodeURIComponent(e))+i;document.cookie=o},e.setRaw=function(t,n,r){e.set(t,n,!0,r)},e.remove=function(t){e.set(t,"a",{expires:new Date})},e})},{}],13:[function(t,e,n){var r=t("nunjucks"),i=r.env||new r.Environment,o=function(){function t(t,e,n,r,i){var o=null,s=null,a="";try{n=n.push();var c=r.contextOrFrameLookup(e,n,"rings");if(c)for(var u=c.length,l=0;l<c.length;l++){var f=c[l];n.set("ring",f),n.set("loop.index",l+1),n.set("loop.index0",l),n.set("loop.revindex",u-l),n.set("loop.revindex0",u-l-1),n.set("loop.first",0===l),n.set("loop.last",l===u-1),n.set("loop.length",u),a+='\r\n	<li>\r\n		<button type="button" class="btn ',r.contextOrFrameLookup(e,n,"isJP")||(a+="no-hover "),a+='rl-btn" data-index="',a+=r.suppressValue(r.memberLookup(f,"index",t.opts.autoescape),t.opts.autoescape),a+='"',(r.contextOrFrameLookup(e,n,"isJP")&&r.memberLookup(f,"open",t.opts.autoescape)||!r.contextOrFrameLookup(e,n,"isJP")&&!r.memberLookup(f,"open",t.opts.autoescape))&&(a+=" disabled"),a+=">",a+=r.suppressValue(r.memberLookup(f,"index",t.opts.autoescape)+1,t.opts.autoescape),a+="</button>\r\n	</li>\r\n"}n=n.pop(),i(null,a)}catch(h){i(r.handleError(h,o,s))}}return{root:t}}(),s=o.root;o.root=function(e,n,r,i,o){var a=e.getTemplate;e.getTemplate=function(e,n,i,o){"function"==typeof n&&(o=n,n=!1);var s=function(e){try{return t(e)}catch(n){if(r.get("_require"))return r.get("_require")(e)}},a=s(e);r.set("_require",s),n&&a.compile(),o(null,a)},s(e,n,r,i,function(t,n){e.getTemplate=a,o(t,n)})};var a={obj:o,type:"code"};e.exports=new r.Template(a,i)},{nunjucks:11}]},{},[1]);
//# sourceMappingURL=corner-judge.js.map